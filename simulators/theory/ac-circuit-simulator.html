<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../css/style.css">
  <title>äº¤æµå›è·¯ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</title>
    <style>
        :root {
            --primary-color: #005BAB;
            --secondary-color: #FF961C;
            --light-blue: #E0EEF9;
            --medium-blue: #4D8BC9;
            --neutral-grey: #F5F5F5;
            --dark-grey: #616161;
            --text-dark: #333333;
            --text-light: #FFFFFF;
            --success-color: #4CAF50;
            --warning-color: #FFC107;
            --danger-color: #F44336;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: Meiryo, "Hiragino Kaku Gothic Pro", system-ui, sans-serif;
            background-color: #f8f9fa;
            color: var(--text-dark);
            line-height: 1.6;
        }
        
        .header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--medium-blue) 100%);
            color: white;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            position: relative;
        }
        
        .portal-back-btn {
            position: absolute;
            left: 2rem;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.2);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .portal-back-btn:hover {
            background: rgba(255,255,255,0.3);
            border-color: rgba(255,255,255,0.5);
            transform: translateY(-50%) translateX(-3px);
        }
        
        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ãƒ– */
        .main-nav {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .nav-button {
            padding: 1rem 2rem;
            background: white;
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            color: var(--primary-color);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            position: relative;
        }
        
        .nav-button:hover {
            background: var(--light-blue);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,91,171,0.3);
        }
        
        .nav-button.active {
            background: var(--primary-color);
            color: white;
        }
        
        .nav-button .badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--secondary-color);
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }
        
        /* ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .section {
            background: white;
            border-radius: 12px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        h2 {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .icon {
            width: 40px;
            height: 40px;
            background: var(--light-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        /* ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ— */
        .tooltip {
            position: relative;
            display: inline-block;
            color: var(--primary-color);
            text-decoration: underline;
            text-decoration-style: dotted;
            cursor: help;
            font-weight: 600;
        }
        
        .tooltip:hover {
            color: var(--secondary-color);
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 320px;
            background: linear-gradient(135deg, #333 0%, #555 100%);
            color: #fff;
            text-align: left;
            border-radius: 8px;
            padding: 12px;
            position: absolute;
            z-index: 1000;
            bottom: 125%;
            left: 50%;
            margin-left: -160px;
            opacity: 0;
            transition: all 0.3s ease;
            font-weight: normal;
            font-size: 0.9rem;
            line-height: 1.5;
            box-shadow: 0 8px 24px rgba(0,0,0,0.3);
        }
        
        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -8px;
            border-width: 8px;
            border-style: solid;
            border-color: #555 transparent transparent transparent;
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
            transform: translateY(-5px);
        }
        
        /* è§£èª¬ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .explanation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .explanation-card {
            background: var(--light-blue);
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
            transition: all 0.3s ease;
        }
        
        .explanation-card:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(0,91,171,0.2);
        }
        
        .explanation-card h3 {
            color: var(--primary-color);
            margin-bottom: 1rem;
        }
        
        .explanation-card h4 {
            color: var(--secondary-color);
            margin-top: 1rem;
            margin-bottom: 0.5rem;
        }
        
        .explanation-card ol {
            margin-left: 1.5rem;
        }
        
        .explanation-card ul ul {
            margin-left: 1rem;
            margin-top: 0.5rem;
        }
        
        /* æ³¢å½¢è¡¨ç¤ºã‚¨ãƒªã‚¢ */
        .waveform-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .waveform-box {
            background: var(--neutral-grey);
            border-radius: 8px;
            padding: 1.5rem;
            position: relative;
            min-height: 300px;
        }
        
        .waveform-title {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 1rem;
            text-align: center;
        }
        
        canvas {
            width: 100%;
            height: 250px;
            background: white;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        #vectorCanvas {
            width: 400px;
            height: 400px;
            margin: 1rem auto;
            display: block;
        }
        
        /* ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ‘ãƒãƒ« */
        .control-panel {
            background: var(--light-blue);
            padding: 2rem;
            border-radius: 8px;
            margin: 2rem 0;
        }
        
        .control-group {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }
        
        .control-group label {
            font-weight: 600;
            min-width: 150px;
        }
        
        .control-group select,
        .control-group input {
            padding: 0.5rem;
            border: 2px solid var(--primary-color);
            border-radius: 4px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .control-group input[type="checkbox"] {
            margin-right: 0.5rem;
            width: auto;
            cursor: pointer;
        }
        
        .control-group input[type="checkbox"]:focus {
            outline: 2px solid var(--secondary-color);
            outline-offset: 2px;
        }
        
        #compareModeControls .control-group label {
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        #compareModeControls .control-group label:hover {
            color: var(--primary-color);
        }
        
        /* ãƒœã‚¿ãƒ³ */
        .btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 0.5rem;
        }
        
        .btn:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255,150,28,0.3);
        }
        
        .btn.secondary {
            background: var(--medium-blue);
        }
        
        .btn.success {
            background: var(--success-color);
        }
        
        /* çµæœè¡¨ç¤º */
        .result-box {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 1rem;
            border: 2px solid var(--success-color);
            display: none;
            animation: slideIn 0.5s ease;
        }
        
        .result-box.show {
            display: block;
        }
        
        .result-box.error {
            border-color: var(--danger-color);
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* ç†è§£åº¦ãƒã‚§ãƒƒã‚¯ */
        .quiz-question {
            background: var(--neutral-grey);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
        }
        
        .quiz-question h4 {
            color: var(--primary-color);
            margin-bottom: 1rem;
        }
        
        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .quiz-option {
            padding: 0.8rem;
            background: white;
            border: 2px solid transparent;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .quiz-option:hover {
            border-color: var(--primary-color);
            background: var(--light-blue);
        }
        
        .quiz-option.selected {
            border-color: var(--secondary-color);
            background: #FFF3E0;
        }
        
        .quiz-option.correct {
            border-color: var(--success-color);
            background: #E8F5E9;
        }
        
        .quiz-option.incorrect {
            border-color: var(--danger-color);
            background: #FFEBEE;
        }
        
        /* FAQã‚¿ãƒ– */
        .faq-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            border-bottom: 2px solid var(--light-blue);
            flex-wrap: wrap;
        }
        
        .faq-tab {
            padding: 0.8rem 1.5rem;
            background: transparent;
            border: none;
            border-bottom: 3px solid transparent;
            color: var(--text-dark);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .faq-tab:hover {
            color: var(--primary-color);
        }
        
        .faq-tab.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
            background: var(--light-blue);
        }
        
        .faq-content {
            display: none;
        }
        
        .faq-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        .faq-item {
            background: var(--neutral-grey);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .faq-item:hover {
            background: var(--light-blue);
            transform: translateX(5px);
        }
        
        .faq-question {
            font-weight: 600;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .faq-answer {
            margin-top: 1rem;
            padding-left: 1.5rem;
            display: none;
            line-height: 1.8;
        }
        
        .faq-item.active .faq-answer {
            display: block;
        }
        
        /* è¨ˆç®—å•é¡Œ */
        .problem-box {
            background: #FFFBF0;
            border: 2px solid var(--secondary-color);
            border-radius: 8px;
            padding: 2rem;
            margin-bottom: 2rem;
        }
        
        .problem-box h4 {
            color: var(--secondary-color);
            margin-bottom: 1rem;
        }
        
        /* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ */
        .progress-bar {
            width: 100%;
            height: 30px;
            background: var(--neutral-grey);
            border-radius: 15px;
            overflow: hidden;
            margin: 1rem 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--medium-blue), var(--primary-color));
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .waveform-container {
                grid-template-columns: 1fr;
            }
            
            .control-group {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .main-nav {
                flex-direction: column;
            }
            
            .nav-button {
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <a href="../../index.html" class="portal-back-btn">â† ãƒãƒ¼ã‚¿ãƒ«ã¸æˆ»ã‚‹</a>
        <h1>âš¡ äº¤æµå›è·¯ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</h1>
        <p> è¦–è¦šçš„ã«ç†è§£ã™ã‚‹äº¤æµå›è·¯</p>
    </div>
    
    <div class="container">
        <!-- ãƒ¡ã‚¤ãƒ³ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <nav class="main-nav">
            <button class="nav-button active" onclick="showSection('explanation')">
                ğŸ“š è§£èª¬
            </button>
            <button class="nav-button" onclick="showSection('simulation')">
                ğŸ”¬ ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
                <span class="badge">3</span>
            </button>
            <button class="nav-button" onclick="showSection('understanding')">
                âœ… ç†è§£åº¦Check
                <span class="badge">5</span>
            </button>
            <button class="nav-button" onclick="showSection('calculation')">
                ğŸ“ è¨ˆç®—å•é¡Œ
                <span class="badge">4</span>
            </button>
            <button class="nav-button" onclick="showSection('faq')">
                â“ FAQ
            </button>
        </nav>
        
        <!-- è§£èª¬ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div id="explanation" class="section active">
            <h2><span class="icon">ğŸ“š</span>äº¤æµå›è·¯ã®åŸºç¤çŸ¥è­˜</h2>
            
            <div class="explanation-grid">
                <div class="explanation-card">
                    <h3>1. ç›´æµå›è·¯ã¨äº¤æµå›è·¯ã®é•ã„</h3>
                    <p>ç›´æµå›è·¯ã§ã¯é›»åœ§ãƒ»é›»æµãŒä¸€å®šã§ã™ãŒã€äº¤æµå›è·¯ã§ã¯<span class="tooltip">æ­£å¼¦æ³¢<span class="tooltiptext">æ™‚é–“ã¨ã¨ã‚‚ã«å‘¨æœŸçš„ã«å¤‰åŒ–ã™ã‚‹æ³¢å½¢ã€‚y = sin(x)ã®å½¢ã§è¡¨ã•ã‚Œã‚‹æ»‘ã‚‰ã‹ãªæ³¢ã€‚äº¤æµé›»æºã®æœ€ã‚‚ä¸€èˆ¬çš„ãªæ³¢å½¢ã§ã™ã€‚</span></span>çŠ¶ã«å¤‰åŒ–ã—ã¾ã™ã€‚</p>
                    <ul>
                        <li><strong>ç›´æµï¼ˆDCï¼‰</strong>: é›»åœ§ãƒ»é›»æµãŒæ™‚é–“çµŒéã§ä¸€å®š</li>
                        <li><strong>äº¤æµï¼ˆACï¼‰</strong>: é›»åœ§ãƒ»é›»æµãŒå‘¨æœŸçš„ã«å¤‰åŒ–</li>
                    </ul>
                    <div style="background: #FFF3E0; padding: 0.8rem; border-radius: 4px; margin-top: 0.5rem;">
                        <strong>ğŸš— æ—¥å¸¸ã®ä¾‹ãˆï¼š</strong><br>
                        ç›´æµ = é«˜é€Ÿé“è·¯ï¼ˆä¸€å®šé€Ÿåº¦ã§ç›´é€²ï¼‰<br>
                        äº¤æµ = ãƒ–ãƒ©ãƒ³ã‚³ï¼ˆè¡Œã£ãŸã‚Šæ¥ãŸã‚Šï¼‰
                    </div>
                </div>
                
                <div class="explanation-card">
                    <h3>2. äº¤æµå›è·¯ã®ä¸»è¦ç´ å­</h3>
                    <p>äº¤æµå›è·¯ã§ã¯ã€æŠµæŠ—ã®ä»–ã«ä»¥ä¸‹ã®ç´ å­ãŒé‡è¦ã§ã™ï¼š</p>
                    <ul>
                        <li><strong>æŠµæŠ—ï¼ˆRï¼‰</strong>: é›»æµã®æµã‚Œã‚’å¦¨ã’ã‚‹</li>
                        <li><strong>ã‚³ã‚¤ãƒ«ï¼ˆLï¼‰</strong>: <span class="tooltip">èª˜å°æ€§ãƒªã‚¢ã‚¯ã‚¿ãƒ³ã‚¹<span class="tooltiptext">ã‚³ã‚¤ãƒ«ãŒäº¤æµé›»æµã®æµã‚Œã‚’å¦¨ã’ã‚‹æ€§è³ªã€‚è¨˜å·XLã§è¡¨ã•ã‚Œã€å‘¨æ³¢æ•°ãŒé«˜ã„ã»ã©ã€ã¾ãŸã‚¤ãƒ³ãƒ€ã‚¯ã‚¿ãƒ³ã‚¹ãŒå¤§ãã„ã»ã©å¤§ãããªã‚Šã¾ã™ã€‚</span></span>ã‚’æŒã¤</li>
                        <li><strong>ã‚³ãƒ³ãƒ‡ãƒ³ã‚µï¼ˆCï¼‰</strong>: <span class="tooltip">å®¹é‡æ€§ãƒªã‚¢ã‚¯ã‚¿ãƒ³ã‚¹<span class="tooltiptext">ã‚³ãƒ³ãƒ‡ãƒ³ã‚µãŒäº¤æµé›»æµã®æµã‚Œã‚’å¦¨ã’ã‚‹æ€§è³ªã€‚è¨˜å·XCã§è¡¨ã•ã‚Œã€å‘¨æ³¢æ•°ãŒé«˜ã„ã»ã©ã€ã¾ãŸé™é›»å®¹é‡ãŒå¤§ãã„ã»ã©å°ã•ããªã‚Šã¾ã™ã€‚</span></span>ã‚’æŒã¤</li>
                    </ul>
                </div>
                
                <div class="explanation-card">
                    <h3>3. ä½ç›¸ã®ãšã‚Œã€é‡è¦ã€‘</h3>
                    <p>äº¤æµå›è·¯ã®æœ€é‡è¦æ¦‚å¿µã€‚é›»åœ§ã‚’åŸºæº–ã¨ã—ãŸé›»æµã®æ™‚é–“çš„ãªãšã‚Œï¼š</p>
                    <ul>
                        <li><strong>æŠµæŠ—ã®ã¿</strong>: ä½ç›¸ã®ãšã‚Œãªã—ï¼ˆ0Â°ï¼‰</li>
                        <li><strong>ã‚³ã‚¤ãƒ«</strong>: é›»æµãŒ90Â°é…ã‚Œã‚‹</li>
                        <li><strong>ã‚³ãƒ³ãƒ‡ãƒ³ã‚µ</strong>: é›»æµãŒ90Â°é€²ã‚€</li>
                    </ul>
                    <div style="background: #E8F5E9; padding: 0.8rem; border-radius: 4px; margin-top: 0.5rem;">
                        <strong>ğŸ’¡ è¦šãˆæ–¹ï¼šã€Œã‚³ã‚¤ãƒ«ã¯å¾Œã‹ã‚‰ï¼ˆãŠãã‚Œï¼‰ã€</strong><br>
                        ã‚³ï¼ˆã‚³ã‚¤ãƒ«ï¼‰ã‚¤ãƒ«ï¼ˆã„ã‚‹ï¼‰ã¯å¾Œï¼ˆãŠãï¼‰ã‚Œã‚‹<br>
                        ã‚³ãƒ³ãƒ‡ãƒ³ã‚µã¯å…ˆï¼ˆã‚µã‚­ï¼‰ã«é€²ã‚€
                    </div>
                </div>
                
                <div class="explanation-card">
                    <h3>4. å®ŸåŠ¹å€¤ã¨æœ€å¤§å€¤</h3>
                    <p><span class="tooltip">å®ŸåŠ¹å€¤<span class="tooltiptext">äº¤æµé›»åœ§ãƒ»é›»æµã®å¤§ãã•ã‚’è¡¨ã™å€¤ã€‚åŒã˜é›»åŠ›ã‚’ç™ºç”Ÿã•ã›ã‚‹ç›´æµã®å€¤ã«ç›¸å½“ã€‚å®¶åº­ç”¨ã‚³ãƒ³ã‚»ãƒ³ãƒˆã®100Vã¯å®ŸåŠ¹å€¤ã§ã™ã€‚</span></span>ã¯æ—¥å¸¸ä½¿ç”¨ã™ã‚‹å€¤ï¼š</p>
                    <ul>
                        <li><strong>å®ŸåŠ¹å€¤</strong>: å®¶åº­ç”¨ã‚³ãƒ³ã‚»ãƒ³ãƒˆ100V</li>
                        <li><strong>æœ€å¤§å€¤</strong>: å®ŸåŠ¹å€¤ Ã— âˆš2 = 141V</li>
                        <li><strong>âˆš2 â‰ˆ 1.414</strong></li>
                    </ul>
                    <div style="background: #E0EEF9; padding: 0.8rem; border-radius: 4px; margin-top: 0.5rem;">
                        <strong>ğŸ¯ è¦šãˆæ–¹ï¼šã€Œã„ã‚ˆã„ã‚ˆï¼ˆ1.414ï¼‰æœ€å¤§ï¼ã€</strong><br>
                        å®ŸåŠ¹å€¤ Ã— 1.414 = æœ€å¤§å€¤
                    </div>
                </div>
                
                <div class="explanation-card">
                    <h3>5. ã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹</h3>
                    <p><span class="tooltip">ã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹ï¼ˆZï¼‰<span class="tooltiptext">äº¤æµå›è·¯ã«ãŠã‘ã‚‹é›»æµã®æµã‚Œã«ãã•ã€‚æŠµæŠ—ã¨ãƒªã‚¢ã‚¯ã‚¿ãƒ³ã‚¹ã‚’åˆã‚ã›ãŸç·åˆçš„ãªæ¦‚å¿µã€‚å˜ä½ã¯Î©ï¼ˆã‚ªãƒ¼ãƒ ï¼‰ã€‚</span></span>ã®è¨ˆç®—ï¼š</p>
                    <ul>
                        <li>ç›´åˆ—å›è·¯: Z = âˆš(RÂ² + (XL - XC)Â²)</li>
                        <li><span class="tooltip">ä¸‰å¹³æ–¹ã®å®šç†<span class="tooltiptext">ç›´è§’ä¸‰è§’å½¢ã«ãŠã„ã¦ã€æ–œè¾ºã®2ä¹—ã¯ä»–ã®2è¾ºã®2ä¹—ã®å’Œã«ç­‰ã—ã„ã€‚aÂ² + bÂ² = cÂ²</span></span>ã‚’ä½¿ç”¨</li>
                        <li>ãƒ™ã‚¯ãƒˆãƒ«çš„ã«åˆæˆ</li>
                    </ul>
                </div>
                
                <div class="explanation-card">
                    <h3>6. å‘¨æ³¢æ•°</h3>
                    <p>1ç§’é–“ã®æ³¢å½¢ç¹°ã‚Šè¿”ã—å›æ•°ï¼š</p>
                    <ul>
                        <li><strong>æ±æ—¥æœ¬</strong>: 50Hz</li>
                        <li><strong>è¥¿æ—¥æœ¬</strong>: 60Hz</li>
                        <li><strong>å‘¨æœŸT = 1/f</strong></li>
                    </ul>
                    <div style="background: #FFEBEE; padding: 0.8rem; border-radius: 4px; margin-top: 0.5rem;">
                        <strong>ğŸ—¾ è¦šãˆæ–¹ï¼šã€Œæ±äº¬50ï¼ˆã¨ã†ãã‚‡ã†ã”ã˜ã‚…ã†ï¼‰ã€</strong><br>
                        æ±æ—¥æœ¬ = 50Hzã€è¥¿æ—¥æœ¬ = 60Hz
                    </div>
                </div>
            </div>
            
            <!-- è¨ˆç®—æ–¹æ³•ã®è©³ç´°è§£èª¬ -->
            <h2 style="margin-top: 3rem;"><span class="icon">ğŸ§®</span>è¨ˆç®—æ–¹æ³•ã®è©³ã—ã„è§£èª¬</h2>
            
            <div class="explanation-grid">
                <div class="explanation-card" style="grid-column: span 2;">
                    <h3>ğŸ“ ã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹ã®è¨ˆç®—æ–¹æ³•ï¼ˆæœ€é‡è¦ï¼‰</h3>
                    <h4>1. ãªãœå˜ç´”ã«è¶³ã›ãªã„ã®ã‹ï¼Ÿ</h4>
                    <p>äº¤æµå›è·¯ã§ã¯ã€å„ç´ å­ã®ã€ŒæŠµæŠ—ã€ãŒç•°ãªã‚‹æ–¹å‘ã‚’å‘ã„ã¦ã„ã‚‹ãŸã‚ã€å˜ç´”ãªè¶³ã—ç®—ãŒã§ãã¾ã›ã‚“ã€‚</p>
                    
                    <div style="background: #FFF3E0; padding: 1rem; border-radius: 4px; margin: 1rem 0;">
                        <strong>ğŸš¶ æ—¥å¸¸ã®ä¾‹ãˆï¼šã€ŒåŒ—ã«3kmã€æ±ã«4kmæ­©ã„ãŸã‚‰ï¼Ÿã€</strong><br>
                        ç›´ç·šè·é›¢ã¯3+4=7kmã§ã¯ãªãã€<br>
                        âˆš(3Â²+4Â²) = âˆš(9+16) = âˆš25 = 5km ã«ãªã‚Šã¾ã™ã€‚<br>
                        ã“ã‚ŒãŒã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹ã®è¨ˆç®—ã¨åŒã˜åŸç†ã§ã™ï¼
                    </div>
                    
                    <h4>2. è¨ˆç®—ã®æ‰‹é †</h4>
                    <ol style="margin-left: 1.5rem;">
                        <li><strong>æŠµæŠ—ï¼ˆRï¼‰ã‚’æ¨ªè»¸ã«</strong>ï¼šåŸºæº–ã¨ãªã‚‹æ–¹å‘</li>
                        <li><strong>ãƒªã‚¢ã‚¯ã‚¿ãƒ³ã‚¹ã‚’ç¸¦è»¸ã«</strong>ï¼š
                            <ul>
                                <li>XLï¼ˆã‚³ã‚¤ãƒ«ï¼‰ã¯ä¸‹å‘ãï¼ˆãƒã‚¤ãƒŠã‚¹æ–¹å‘ï¼‰</li>
                                <li>XCï¼ˆã‚³ãƒ³ãƒ‡ãƒ³ã‚µï¼‰ã¯ä¸Šå‘ãï¼ˆãƒ—ãƒ©ã‚¹æ–¹å‘ï¼‰</li>
                            </ul>
                        </li>
                        <li><strong>å·®ã‚’è¨ˆç®—</strong>ï¼šXL - XCï¼ˆã¾ãŸã¯ XC - XLï¼‰</li>
                        <li><strong>ä¸‰å¹³æ–¹ã®å®šç†ã‚’é©ç”¨</strong>ï¼šZ = âˆš(RÂ² + (XL-XC)Â²)</li>
                    </ol>
                    
                    <h4>3. å…·ä½“ä¾‹ã§ç·´ç¿’</h4>
                    <div style="background: #E0EEF9; padding: 1rem; border-radius: 4px;">
                        <strong>ä¾‹é¡Œï¼š</strong>R=3Î©ã€XL=7Î©ã€XC=3Î© ã®ç›´åˆ—å›è·¯<br>
                        <strong>è§£æ³•ï¼š</strong><br>
                        â‘  XL - XC = 7 - 3 = 4Î©ï¼ˆä¸‹å‘ãï¼‰<br>
                        â‘¡ Z = âˆš(3Â² + 4Â²) = âˆš(9 + 16) = âˆš25 = 5Î©<br>
                        <strong>è¦šãˆæ–¹ï¼š</strong>ã€Œ3ãƒ»4ãƒ»5ã®ç›´è§’ä¸‰è§’å½¢ã€ã¨ã—ã¦æš—è¨˜ï¼
                    </div>
                </div>
                
                <div class="explanation-card">
                    <h3>ğŸŒŠ ä½ç›¸è¨ˆç®—ã®è¦šãˆæ–¹</h3>
                    <h4>èªå‘‚åˆã‚ã›ã§å®Œç’§ãƒã‚¹ã‚¿ãƒ¼</h4>
                    <ul style="list-style: none; padding-left: 0;">
                        <li>ğŸ“ <strong>æŠµæŠ—</strong>ï¼šã€ŒæŠµæŠ—ã‚¼ãƒ­é…ã‚Œã€ï¼ˆ0Â°ï¼‰</li>
                        <li>ğŸŒ€ <strong>ã‚³ã‚¤ãƒ«</strong>ï¼šã€Œã‚³ã‚¤ãƒ«ã¯è‹¦åŠ´ï¼ˆ90ï¼‰é…ã‚Œã€</li>
                        <li>âš¡ <strong>ã‚³ãƒ³ãƒ‡ãƒ³ã‚µ</strong>ï¼šã€Œã‚³ãƒ³ãƒ‡ãƒ³ã‚µå…ˆï¼ˆã‚µã‚­ï¼‰ã«é€²ã‚€ã€</li>
                    </ul>
                    
                    <div style="background: #FFF3E0; padding: 0.8rem; border-radius: 4px; margin-top: 1rem;">
                        <strong>ğŸƒ ç«¶èµ°ã®ä¾‹ãˆï¼š</strong><br>
                        ã‚´ãƒ¼ãƒ«ã‚’é›»åœ§ã¨ã™ã‚‹ã¨...<br>
                        â€¢ æŠµæŠ—ãã‚“ï¼šåŒæ™‚ã«ã‚´ãƒ¼ãƒ«<br>
                        â€¢ ã‚³ã‚¤ãƒ«ãã‚“ï¼š90mæ‰‹å‰ï¼ˆé…ã‚Œï¼‰<br>
                        â€¢ ã‚³ãƒ³ãƒ‡ãƒ³ã‚µãã‚“ï¼š90må…ˆï¼ˆé€²ã¿ï¼‰
                    </div>
                </div>
                
                <div class="explanation-card">
                    <h3>ğŸ“Š å®ŸåŠ¹å€¤ã¨æœ€å¤§å€¤ã®é–¢ä¿‚</h3>
                    <h4>ãªãœâˆš2ï¼ˆ1.414ï¼‰ãªã®ã‹ï¼Ÿ</h4>
                    <p>æ­£å¼¦æ³¢ã®äºŒä¹—å¹³å‡å¹³æ–¹æ ¹ï¼ˆRMSï¼‰ã‚’è¨ˆç®—ã™ã‚‹ã¨âˆš2ã®é–¢ä¿‚ãŒå‡ºã¦ãã¾ã™ã€‚</p>
                    
                    <div style="background: #E8F5E9; padding: 0.8rem; border-radius: 4px; margin: 1rem 0;">
                        <strong>ğŸ’° æ—¥å¸¸ã®ä¾‹ãˆï¼š</strong><br>
                        å®ŸåŠ¹å€¤ = æ‰‹å–ã‚Šçµ¦æ–™ï¼ˆå®Ÿéš›ã«ä½¿ãˆã‚‹ï¼‰<br>
                        æœ€å¤§å€¤ = é¡é¢çµ¦æ–™ï¼ˆè¦‹ãŸç›®ã®æœ€å¤§ï¼‰<br>
                        æœ€å¤§å€¤ã¯å®ŸåŠ¹å€¤ã®ç´„1.4å€ï¼
                    </div>
                    
                    <h4>è¨ˆç®—ã®ã‚³ãƒ„</h4>
                    <ul>
                        <li>100V â†’ 141Vï¼ˆ100Ã—1.41ï¼‰</li>
                        <li>200V â†’ 283Vï¼ˆ200Ã—1.41ï¼‰</li>
                        <li>é€†ç®—ï¼š141V Ã· 1.41 = 100V</li>
                    </ul>
                </div>
                
                <div class="explanation-card">
                    <h3>âš¡ ã‚ªãƒ¼ãƒ ã®æ³•å‰‡ï¼ˆäº¤æµç‰ˆï¼‰</h3>
                    <h4>åŸºæœ¬ã¯åŒã˜ã€ã§ã‚‚è¦æ³¨æ„ï¼</h4>
                    <p><strong>V = I Ã— Z</strong>ï¼ˆZã¯Rã®ä»£ã‚ã‚Šï¼‰</p>
                    
                    <div style="background: #FFEBEE; padding: 0.8rem; border-radius: 4px; margin: 1rem 0;">
                        <strong>âš ï¸ æ³¨æ„ç‚¹ï¼š</strong><br>
                        å„ç´ å­ã®é›»åœ§ã‚’å˜ç´”ã«è¶³ã—ã¦ã‚‚<br>
                        é›»æºé›»åœ§ã«ã¯ãªã‚Šã¾ã›ã‚“ï¼<br>
                        ï¼ˆä½ç›¸ã®ãšã‚ŒãŒã‚ã‚‹ãŸã‚ï¼‰
                    </div>
                    
                    <h4>ä¸¦åˆ—å›è·¯ã®è£æŠ€</h4>
                    <p>åˆæˆã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹ã‚’ç›´æ¥æ±‚ã‚ãšã€<br>
                    å„æè·¯ã®é›»æµã‚’æ±‚ã‚ã¦ã‹ã‚‰åˆæˆï¼</p>
                </div>
                
                <div class="explanation-card" style="grid-column: span 2;">
                    <h3>ğŸ¯ è©¦é¨“ã§ã‚ˆãå‡ºã‚‹è¨ˆç®—ãƒ‘ã‚¿ãƒ¼ãƒ³</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div>
                            <h4>ãƒ‘ã‚¿ãƒ¼ãƒ³1ï¼š3-4-5ã®ä¸‰è§’å½¢</h4>
                            <ul>
                                <li>R=3, XL=4 â†’ Z=5</li>
                                <li>R=6, XL=8 â†’ Z=10</li>
                                <li>R=9, XL=12 â†’ Z=15</li>
                            </ul>
                            <p style="color: var(--success-color);">ã“ã‚Œã‚‰ã¯æš—è¨˜æ¨å¥¨ï¼</p>
                        </div>
                        <div>
                            <h4>ãƒ‘ã‚¿ãƒ¼ãƒ³2ï¼š5-12-13ã®ä¸‰è§’å½¢</h4>
                            <ul>
                                <li>R=5, XL=12 â†’ Z=13</li>
                                <li>R=10, XL=24 â†’ Z=26</li>
                            </ul>
                            <p style="color: var(--warning-color);">ãŸã¾ã«å‡ºé¡Œã•ã‚Œã‚‹</p>
                        </div>
                    </div>
                    
                    <div style="background: #E0EEF9; padding: 1rem; border-radius: 4px; margin-top: 1rem;">
                        <strong>ğŸ’¡ æœ€é€Ÿè§£æ³•ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ï¼š</strong><br>
                        1. ã¾ãšã€Œ3-4-5ã€ã‹ã€Œ5-12-13ã€ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‹ç¢ºèª<br>
                        2. è©²å½“ã—ãªã‘ã‚Œã°ç´ ç›´ã«è¨ˆç®—<br>
                        3. âˆšã®ä¸­ãŒã€Œ25, 100, 169, 225ã€ãªã‚‰æ•´æ•°ã«ãªã‚‹ï¼
                    </div>
                </div>
            </div>
            
            <div class="waveform-container" style="margin-top: 2rem;">
                <div class="waveform-box">
                    <div class="waveform-title">ç›´æµå›è·¯ï¼ˆDCï¼‰ã®æ³¢å½¢</div>
                    <canvas id="dcWaveform"></canvas>
                </div>
                <div class="waveform-box">
                    <div class="waveform-title">äº¤æµå›è·¯ï¼ˆACï¼‰ã®æ³¢å½¢</div>
                    <canvas id="acWaveform"></canvas>
                </div>
            </div>
            
            <!-- äº¤æµãƒ»ç›´æµã®ãƒ¡ãƒªãƒƒãƒˆãƒ»ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ -->
            <h2 style="margin-top: 3rem;"><span class="icon">âš–ï¸</span>äº¤æµã¨ç›´æµã®ãƒ¡ãƒªãƒƒãƒˆãƒ»ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ</h2>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0;">
                <div class="explanation-card" style="border-left-color: #2196F3;">
                    <h3 style="color: #2196F3;">ğŸ”„ äº¤æµï¼ˆACï¼‰</h3>
                    
                    <h4 style="color: var(--success-color);">âœ… ãƒ¡ãƒªãƒƒãƒˆ</h4>
                    <ul>
                        <li><strong>å¤‰åœ§ãŒå®¹æ˜“</strong>
                            <div style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">
                                ãƒˆãƒ©ãƒ³ã‚¹ï¼ˆå¤‰åœ§å™¨ï¼‰ã§ç°¡å˜ã«é›»åœ§ã‚’ä¸Šã’ä¸‹ã’ã§ãã‚‹<br>
                                ä¾‹ï¼šç™ºé›»æ‰€ï¼ˆæ•°ä¸‡Vï¼‰â†’ é€é›»ï¼ˆ50ä¸‡Vï¼‰â†’ å®¶åº­ï¼ˆ100Vï¼‰
                            </div>
                        </li>
                        <li><strong>é•·è·é›¢é€é›»ã«æœ‰åˆ©</strong>
                            <div style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">
                                é«˜é›»åœ§ã«ã—ã¦é€é›»æå¤±ã‚’æ¸›ã‚‰ã›ã‚‹ï¼ˆé›»åŠ›æå¤± = IÂ²Ã—Rï¼‰<br>
                                é›»åœ§ã‚’ä¸Šã’ã¦é›»æµã‚’ä¸‹ã’ã‚‹ã“ã¨ã§æå¤±ã‚’å¤§å¹…å‰Šæ¸›
                            </div>
                        </li>
                        <li><strong>ç™ºé›»æ©Ÿã®æ§‹é€ ãŒç°¡å˜</strong>
                            <div style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">
                                å›è»¢é‹å‹•ã‚’ãã®ã¾ã¾äº¤æµé›»åŠ›ã«å¤‰æ›<br>
                                æ°´åŠ›ãƒ»ç«åŠ›ãƒ»åŸå­åŠ›ã™ã¹ã¦å›è»¢ã§ç™ºé›»
                            </div>
                        </li>
                        <li><strong>ãƒ¢ãƒ¼ã‚¿ãƒ¼ãŒå®‰ä¾¡ã§ä¸ˆå¤«</strong>
                            <div style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">
                                èª˜å°ãƒ¢ãƒ¼ã‚¿ãƒ¼ï¼ˆæ´—æ¿¯æ©Ÿã€ã‚¨ã‚¢ã‚³ãƒ³ç­‰ï¼‰ã¯ãƒ–ãƒ©ã‚·ä¸è¦<br>
                                ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒå°‘ãªãé•·å¯¿å‘½
                            </div>
                        </li>
                    </ul>
                    
                    <h4 style="color: var(--danger-color);">âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ</h4>
                    <ul>
                        <li><strong>é›»å­æ©Ÿå™¨ã«ã¯ä¸å‘ã</strong>
                            <div style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">
                                ã‚¹ãƒãƒ›ã€PCç­‰ã¯ç›´æµã§å‹•ä½œã™ã‚‹ãŸã‚å¤‰æ›ãŒå¿…è¦<br>
                                ACã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã§äº¤æµâ†’ç›´æµã«å¤‰æ›
                            </div>
                        </li>
                        <li><strong>æ„Ÿé›»æ™‚ã®å±é™ºæ€§ãŒé«˜ã„</strong>
                            <div style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">
                                ç­‹è‚‰ã®ç—™æ”£ã‚’èµ·ã“ã—ã‚„ã™ã„ï¼ˆé›¢ã‚Œã‚‰ã‚Œãªã„ï¼‰<br>
                                å¿ƒå®¤ç´°å‹•ã®ãƒªã‚¹ã‚¯ãŒç›´æµã‚ˆã‚Šé«˜ã„
                            </div>
                        </li>
                        <li><strong>é›»åŠ›æå¤±ã®è¦å› ãŒå¤šã„</strong>
                            <div style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">
                                è¡¨çš®åŠ¹æœã€ãƒªã‚¢ã‚¯ã‚¿ãƒ³ã‚¹ã«ã‚ˆã‚‹æå¤±<br>
                                åŠ›ç‡ã«ã‚ˆã‚‹ç„¡åŠ¹é›»åŠ›ã®ç™ºç”Ÿ
                            </div>
                        </li>
                        <li><strong>é›»ç£æ³¢ã®ç™ºç”Ÿ</strong>
                            <div style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">
                                å‘¨å›²ã«é›»ç£ç•Œã‚’ç™ºç”Ÿã•ã›ã‚‹<br>
                                ç²¾å¯†æ©Ÿå™¨ã¸ã®å½±éŸ¿ã®å¯èƒ½æ€§
                            </div>
                        </li>
                    </ul>
                </div>
                
                <div class="explanation-card" style="border-left-color: #FF5722;">
                    <h3 style="color: #FF5722;">â¡ï¸ ç›´æµï¼ˆDCï¼‰</h3>
                    
                    <h4 style="color: var(--success-color);">âœ… ãƒ¡ãƒªãƒƒãƒˆ</h4>
                    <ul>
                        <li><strong>é›»å­æ©Ÿå™¨ã«æœ€é©</strong>
                            <div style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">
                                åŠå°ä½“ã¯ç›´æµã§ã—ã‹å‹•ä½œã—ãªã„<br>
                                ã‚¹ãƒãƒ›ã€PCã€LEDç…§æ˜ç­‰ã™ã¹ã¦ç›´æµå‹•ä½œ
                            </div>
                        </li>
                        <li><strong>è“„é›»ãŒå¯èƒ½</strong>
                            <div style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">
                                ãƒãƒƒãƒ†ãƒªãƒ¼ã«é›»æ°—ã‚’è²¯ã‚ã‚‰ã‚Œã‚‹<br>
                                å¤ªé™½å…‰ç™ºé›»ã€EVã€ãƒ¢ãƒã‚¤ãƒ«ãƒãƒƒãƒ†ãƒªãƒ¼ç­‰
                            </div>
                        </li>
                        <li><strong>é€é›»åŠ¹ç‡ãŒè‰¯ã„ï¼ˆè¶…é•·è·é›¢ï¼‰</strong>
                            <div style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">
                                æµ·åº•ã‚±ãƒ¼ãƒ–ãƒ«ãªã©è¶…é•·è·é›¢ã§ã¯DCãŒæœ‰åˆ©<br>
                                ãƒªã‚¢ã‚¯ã‚¿ãƒ³ã‚¹ã«ã‚ˆã‚‹æå¤±ãŒãªã„
                            </div>
                        </li>
                        <li><strong>ç²¾å¯†ãªåˆ¶å¾¡ãŒå®¹æ˜“</strong>
                            <div style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">
                                é›»åœ§ãƒ»é›»æµã‚’æ­£ç¢ºã«ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«<br>
                                åŠå°ä½“ç´ å­ã§é«˜é€Ÿãƒ»ç²¾å¯†åˆ¶å¾¡å¯èƒ½
                            </div>
                        </li>
                    </ul>
                    
                    <h4 style="color: var(--danger-color);">âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ</h4>
                    <ul>
                        <li><strong>å¤‰åœ§ãŒå›°é›£</strong>
                            <div style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">
                                DC-DCã‚³ãƒ³ãƒãƒ¼ã‚¿ãƒ¼ãŒå¿…è¦ï¼ˆè¤‡é›‘ãƒ»é«˜ä¾¡ï¼‰<br>
                                å¤§é›»åŠ›ã®å¤‰åœ§ã¯ç‰¹ã«å›°é›£
                            </div>
                        </li>
                        <li><strong>é®æ–­ãŒå›°é›£</strong>
                            <div style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">
                                ã‚¢ãƒ¼ã‚¯ï¼ˆç«èŠ±ï¼‰ãŒæ¶ˆãˆã«ãã„<br>
                                é«˜åœ§ç›´æµã®é®æ–­å™¨ã¯å¤§å‹ãƒ»é«˜ä¾¡
                            </div>
                        </li>
                        <li><strong>ç™ºé›»è¨­å‚™ãŒè¤‡é›‘</strong>
                            <div style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">
                                äº¤æµç™ºé›»â†’æ•´æµãŒå¿…è¦<br>
                                å¤ªé™½å…‰ä»¥å¤–ã¯å¤‰æ›ãƒ­ã‚¹ãŒç™ºç”Ÿ
                            </div>
                        </li>
                        <li><strong>é›»é£Ÿã®ç™ºç”Ÿ</strong>
                            <div style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">
                                åœ°ä¸­ã®é‡‘å±ã‚’è…é£Ÿã•ã›ã‚‹<br>
                                é‰„é“ãƒ¬ãƒ¼ãƒ«ã€æ°´é“ç®¡ç­‰ã¸ã®å½±éŸ¿
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="explanation-card" style="grid-column: span 2; background: #FFF3E0; border-left-color: var(--secondary-color);">
                <h3>ğŸ  èº«è¿‘ãªä½¿ã„åˆ†ã‘ã®ä¾‹</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                    <div>
                        <h4>äº¤æµãŒä½¿ã‚ã‚Œã¦ã„ã‚‹ã‚‚ã®</h4>
                        <ul>
                            <li><strong>å®¶åº­ç”¨ã‚³ãƒ³ã‚»ãƒ³ãƒˆï¼ˆ100V/200Vï¼‰</strong><br>
                                <span style="font-size: 0.9rem; color: #666;">é€é›»ç¶²ã‹ã‚‰ç›´æ¥ä¾›çµ¦</span></li>
                            <li><strong>ã‚¨ã‚¢ã‚³ãƒ³ã€å†·è”µåº«ã€æ´—æ¿¯æ©Ÿ</strong><br>
                                <span style="font-size: 0.9rem; color: #666;">å¤§å‹ãƒ¢ãƒ¼ã‚¿ãƒ¼ã‚’ä½¿ç”¨</span></li>
                            <li><strong>é›»å­ãƒ¬ãƒ³ã‚¸ã€IHã‚¯ãƒƒã‚­ãƒ³ã‚°ãƒ’ãƒ¼ã‚¿ãƒ¼</strong><br>
                                <span style="font-size: 0.9rem; color: #666;">é«˜å‘¨æ³¢ã®äº¤æµã‚’åˆ©ç”¨</span></li>
                            <li><strong>è›å…‰ç¯ï¼ˆå¾“æ¥å‹ï¼‰</strong><br>
                                <span style="font-size: 0.9rem; color: #666;">å®‰å®šå™¨ã§å‹•ä½œ</span></li>
                        </ul>
                    </div>
                    <div>
                        <h4>ç›´æµãŒä½¿ã‚ã‚Œã¦ã„ã‚‹ã‚‚ã®</h4>
                        <ul>
                            <li><strong>ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã€ãƒãƒ¼ãƒˆPC</strong><br>
                                <span style="font-size: 0.9rem; color: #666;">ãƒãƒƒãƒ†ãƒªãƒ¼é§†å‹•ï¼ˆ3.7Vã€œ20Vï¼‰</span></li>
                            <li><strong>LEDç…§æ˜</strong><br>
                                <span style="font-size: 0.9rem; color: #666;">å†…éƒ¨ã§äº¤æµâ†’ç›´æµå¤‰æ›</span></li>
                            <li><strong>é›»æ°—è‡ªå‹•è»Šï¼ˆEVï¼‰</strong><br>
                                <span style="font-size: 0.9rem; color: #666;">å¤§å®¹é‡ãƒãƒƒãƒ†ãƒªãƒ¼ï¼ˆ400Vç­‰ï¼‰</span></li>
                            <li><strong>USBæ©Ÿå™¨å…¨èˆ¬</strong><br>
                                <span style="font-size: 0.9rem; color: #666;">5Vç›´æµã§çµ±ä¸€</span></li>
                        </ul>
                    </div>
                </div>
                
                <div style="background: #FFE0B2; padding: 1rem; border-radius: 4px; margin-top: 1rem;">
                    <strong>ğŸ’¡ è±†çŸ¥è­˜ï¼š</strong>ã‚¨ã‚¸ã‚½ãƒ³ï¼ˆç›´æµæ¨é€²æ´¾ï¼‰ã¨ãƒ†ã‚¹ãƒ©ï¼ˆäº¤æµæ¨é€²æ´¾ï¼‰ã®ã€Œé›»æµæˆ¦äº‰ã€ã¯æœ‰åãªæ­´å²çš„å‡ºæ¥äº‹ã€‚
                    çµæœçš„ã«é€é›»ã®åˆ©ä¾¿æ€§ã‹ã‚‰äº¤æµãŒå‹åˆ©ã—ãŸãŒã€ç¾ä»£ã§ã¯é©æé©æ‰€ã§ä¸¡æ–¹ãŒä½¿ã‚ã‚Œã¦ã„ã¾ã™ã€‚
                    ãƒ‡ãƒ¼ã‚¿ã‚»ãƒ³ã‚¿ãƒ¼ã§ã¯åŠ¹ç‡åŒ–ã®ãŸã‚ç›´æµçµ¦é›»ãŒè¦‹ç›´ã•ã‚Œã¦ã„ã‚‹ã‚“ã§ã™ï¼
                </div>
            </div>
        </div>
        
        <!-- ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div id="simulation" class="section">
            <h2><span class="icon">ğŸ”¬</span>ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</h2>
            
            <!-- ä½ç›¸ã®ãšã‚Œã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ -->
            <h3>1. ä½ç›¸ã®ãšã‚Œã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</h3>
            <div class="control-panel">
                <div style="background: #FFF3E0; padding: 1rem; border-radius: 4px; margin-bottom: 1rem;">
                    <strong>ğŸ® ä½¿ã„æ–¹ï¼š</strong>ç´ å­ã‚’é¸ã‚“ã§ã€é›»åœ§ï¼ˆé’ï¼‰ã¨é›»æµï¼ˆã‚ªãƒ¬ãƒ³ã‚¸ï¼‰ã®æ³¢å½¢ã®é–¢ä¿‚ã‚’è¦³å¯Ÿã—ã‚ˆã†ï¼<br>
                    <strong>è¦šãˆæ–¹ï¼š</strong>ã€Œã‚³ã‚¤ãƒ«ã¯è‹¦åŠ´ï¼ˆ90ï¼‰ã—ã¦é…ã‚Œã‚‹ã€ã€Œã‚³ãƒ³ãƒ‡ãƒ³ã‚µã¯å…ˆï¼ˆã‚µã‚­ï¼‰ã«é€²ã‚€ã€
                </div>
                
                <div class="control-group">
                    <label>è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ï¼š</label>
                    <select id="displayMode" onchange="updatePhaseShift()">
                        <option value="single">å˜ä¸€è¡¨ç¤º</option>
                        <option value="compare">æ¯”è¼ƒè¡¨ç¤º</option>
                    </select>
                </div>
                
                <div id="singleModeControls" class="control-group">
                    <label>å›è·¯ç´ å­ï¼š</label>
                    <select id="elementType" onchange="updatePhaseShift()">
                        <option value="R">æŠµæŠ—ã®ã¿ï¼ˆRï¼‰</option>
                        <option value="L">ã‚³ã‚¤ãƒ«ï¼ˆLï¼‰</option>
                        <option value="C">ã‚³ãƒ³ãƒ‡ãƒ³ã‚µï¼ˆCï¼‰</option>
                    </select>
                </div>
                
                <div id="compareModeControls" style="display: none;">
                    <div class="control-group">
                        <label style="font-weight: bold;">æ¯”è¼ƒã™ã‚‹ç´ å­ã‚’é¸æŠï¼š</label>
                    </div>
                    <div class="control-group" style="flex-direction: row; gap: 2rem;">
                        <label style="min-width: auto;">
                            <input type="checkbox" id="compareR" checked onchange="updatePhaseShift()">
                            æŠµæŠ—ï¼ˆåŸºæº–ï¼‰
                        </label>
                        <label style="min-width: auto;">
                            <input type="checkbox" id="compareL" checked onchange="updatePhaseShift()">
                            ã‚³ã‚¤ãƒ«ï¼ˆé…ã‚Œï¼‰
                        </label>
                        <label style="min-width: auto;">
                            <input type="checkbox" id="compareC" checked onchange="updatePhaseShift()">
                            ã‚³ãƒ³ãƒ‡ãƒ³ã‚µï¼ˆé€²ã¿ï¼‰
                        </label>
                    </div>
                </div>
                
                <div class="control-group">
                    <label>å‘¨æ³¢æ•°ï¼š</label>
                    <select id="frequency" onchange="updatePhaseShift()">
                        <option value="50">50Hzï¼ˆæ±æ—¥æœ¬ï¼‰</option>
                        <option value="60">60Hzï¼ˆè¥¿æ—¥æœ¬ï¼‰</option>
                    </select>
                </div>
                
                <canvas id="phaseCanvas"></canvas>
                
                <div id="phaseInfo" class="result-box show">
                    <p><strong>ä½ç›¸ã®ãšã‚Œï¼š</strong> <span id="phaseShift">0Â°</span></p>
                    <p><strong>èª¬æ˜ï¼š</strong> <span id="phaseExplanation">æŠµæŠ—ã®ã¿ã®å›è·¯ã§ã¯ã€é›»åœ§ã¨é›»æµã®ä½ç›¸ã®ãšã‚Œã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</span></p>
                </div>
                
                <div id="compareLegend" style="display: none; margin-top: 1rem; padding: 1rem; background: #F5F5F5; border-radius: 4px;">
                    <h4 style="margin-top: 0;">å‡¡ä¾‹</h4>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;">
                        <div>
                            <span style="color: #005BAB; font-weight: bold;">â”â”</span> é›»åœ§ï¼ˆåŸºæº–ï¼‰
                        </div>
                        <div>
                            <span style="color: #4CAF50; font-weight: bold;">â”â”</span> æŠµæŠ—ã®é›»æµï¼ˆ0Â°ï¼‰
                        </div>
                        <div>
                            <span style="color: #FF961C; font-weight: bold;">â”â”</span> ã‚³ã‚¤ãƒ«ã®é›»æµï¼ˆ-90Â°ï¼‰
                        </div>
                        <div>
                            <span style="color: #E91E63; font-weight: bold;">â”â”</span> ã‚³ãƒ³ãƒ‡ãƒ³ã‚µã®é›»æµï¼ˆ+90Â°ï¼‰
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹è¨ˆç®—æ©Ÿ -->
            <h3>2. åˆæˆã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹è¨ˆç®—æ©Ÿ</h3>
            <div class="control-panel">
                <h4>ç›´åˆ—å›è·¯ã®åˆæˆã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹</h4>
                
                <div style="background: #E8F5E9; padding: 1rem; border-radius: 4px; margin-bottom: 1rem;">
                    <strong>ğŸ“ ãƒ™ã‚¯ãƒˆãƒ«å›³ã§ç†è§£ã—ã‚ˆã†ï¼</strong><br>
                    æŠµæŠ—ï¼ˆRï¼‰ã‚’æ¨ªã€ãƒªã‚¢ã‚¯ã‚¿ãƒ³ã‚¹ï¼ˆXï¼‰ã‚’ç¸¦ã«ã¨ã‚Šã€æ–œè¾ºãŒã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹ï¼ˆZï¼‰ã«ãªã‚Šã¾ã™ã€‚<br>
                    <strong>è¦šãˆæ–¹ï¼š</strong>ã€ŒåŒ—ã«3kmã€æ±ã«4kmæ­©ã„ãŸã‚‰ã€ç›´ç·šè·é›¢ã¯5kmã€ã¨åŒã˜åŸç†ï¼
                </div>
                
                <div class="control-group">
                    <label>æŠµæŠ— Rï¼ˆÎ©ï¼‰ï¼š</label>
                    <input type="number" id="resistance" value="3" min="0" step="0.1">
                </div>
                
                <div class="control-group">
                    <label>èª˜å°æ€§ãƒªã‚¢ã‚¯ã‚¿ãƒ³ã‚¹ XLï¼ˆÎ©ï¼‰ï¼š</label>
                    <input type="number" id="inductance" value="4" min="0" step="0.1">
                </div>
                
                <div class="control-group">
                    <label>å®¹é‡æ€§ãƒªã‚¢ã‚¯ã‚¿ãƒ³ã‚¹ XCï¼ˆÎ©ï¼‰ï¼š</label>
                    <input type="number" id="capacitance" value="0" min="0" step="0.1">
                </div>
                
                <button class="btn" onclick="calculateImpedance()">è¨ˆç®—ã™ã‚‹</button>
                
                <div id="impedanceResult" class="result-box">
                    <!-- è¨ˆç®—çµæœ -->
                </div>
                
                <canvas id="vectorCanvas" width="400" height="400"></canvas>
            </div>
            
            <!-- å®ŸåŠ¹å€¤ãƒ»æœ€å¤§å€¤è¨ˆç®— -->
            <h3>3. å®ŸåŠ¹å€¤ã¨æœ€å¤§å€¤ã®é–¢ä¿‚</h3>
            <div class="control-panel">
                <div style="background: #FFEBEE; padding: 1rem; border-radius: 4px; margin-bottom: 1rem;">
                    <strong>ğŸ’¡ å®ŸåŠ¹å€¤ã¨æœ€å¤§å€¤ã®é–¢ä¿‚</strong><br>
                    æœ€å¤§å€¤ = å®ŸåŠ¹å€¤ Ã— âˆš2ï¼ˆç´„1.414ï¼‰<br>
                    <strong>è¦šãˆæ–¹ï¼š</strong>ã€Œã„ã‚ˆã„ã‚ˆï¼ˆ1414ï¼‰æœ€å¤§å€¤ï¼ã€<br>
                    <strong>ä¾‹ï¼š</strong>å®¶åº­ç”¨100V â†’ æœ€å¤§å€¤141V
                </div>
                
                <div class="control-group">
                    <label>å®ŸåŠ¹å€¤ï¼ˆVï¼‰ï¼š</label>
                    <input type="number" id="rmsValue" value="100" min="0" step="1">
                </div>
                
                <button class="btn" onclick="calculateMaxValue()">æœ€å¤§å€¤ã‚’è¨ˆç®—</button>
                
                <div id="maxValueResult" class="result-box">
                    <!-- è¨ˆç®—çµæœ -->
                </div>
                
                <canvas id="rmsMaxCanvas"></canvas>
            </div>
            
            <!-- è¿½åŠ ã®è§£èª¬ -->
            <div style="background: #F5F5F5; padding: 2rem; border-radius: 8px; margin-top: 2rem;">
                <h3>ğŸ“ ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‹ã‚‰å­¦ã¹ã‚‹ã“ã¨</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem;">
                    <div>
                        <h4>ä½ç›¸ã®ãšã‚Œ</h4>
                        <ul>
                            <li>æŠµæŠ—ï¼šãšã‚Œãªã—ï¼ˆ0Â°ï¼‰</li>
                            <li>ã‚³ã‚¤ãƒ«ï¼š90Â°é…ã‚Œ</li>
                            <li>ã‚³ãƒ³ãƒ‡ãƒ³ã‚µï¼š90Â°é€²ã¿</li>
                        </ul>
                    </div>
                    <div>
                        <h4>ã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹</h4>
                        <ul>
                            <li>å˜ç´”ãªè¶³ã—ç®—NG</li>
                            <li>ä¸‰å¹³æ–¹ã®å®šç†ã‚’ä½¿ç”¨</li>
                            <li>ãƒ™ã‚¯ãƒˆãƒ«çš„ã«åˆæˆ</li>
                        </ul>
                    </div>
                    <div>
                        <h4>å®ŸåŠ¹å€¤ã¨æœ€å¤§å€¤</h4>
                        <ul>
                            <li>æœ€å¤§å€¤ = å®ŸåŠ¹å€¤Ã—1.414</li>
                            <li>å®ŸåŠ¹å€¤ = æœ€å¤§å€¤Ã·1.414</li>
                            <li>å®¶åº­ç”¨100V = å®ŸåŠ¹å€¤</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ç†è§£åº¦Checkã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div id="understanding" class="section">
            <h2><span class="icon">âœ…</span>ç†è§£åº¦Check</h2>
            
            <div class="progress-bar">
                <div class="progress-fill" id="quizProgress" style="width: 0%">0/5</div>
            </div>
            
            <div class="quiz-question">
                <h4>å•é¡Œ1: æŠµæŠ—ã®ã¿ã®äº¤æµå›è·¯ã§ã¯ã€é›»åœ§ã¨é›»æµã®ä½ç›¸ã®ãšã‚Œã¯ï¼Ÿ</h4>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkAnswer(this, 1, 'A')">A. 90Â°é€²ã‚€</div>
                    <div class="quiz-option" onclick="checkAnswer(this, 1, 'B')">B. 90Â°é…ã‚Œã‚‹</div>
                    <div class="quiz-option" onclick="checkAnswer(this, 1, 'C')">C. ãšã‚Œãªã„ï¼ˆ0Â°ï¼‰</div>
                    <div class="quiz-option" onclick="checkAnswer(this, 1, 'D')">D. 45Â°é…ã‚Œã‚‹</div>
                </div>
                <div id="feedback1" class="result-box" style="margin-top: 1rem;"></div>
            </div>
            
            <div class="quiz-question">
                <h4>å•é¡Œ2: ã‚³ã‚¤ãƒ«ã‚’å«ã‚€äº¤æµå›è·¯ã§ã¯ã€é›»åœ§ã‚’åŸºæº–ã¨ã—ãŸé›»æµã®ä½ç›¸ã¯ï¼Ÿ</h4>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkAnswer(this, 2, 'A')">A. 90Â°é€²ã‚€</div>
                    <div class="quiz-option" onclick="checkAnswer(this, 2, 'B')">B. 90Â°é…ã‚Œã‚‹</div>
                    <div class="quiz-option" onclick="checkAnswer(this, 2, 'C')">C. ãšã‚Œãªã„</div>
                    <div class="quiz-option" onclick="checkAnswer(this, 2, 'D')">D. 180Â°é…ã‚Œã‚‹</div>
                </div>
                <div id="feedback2" class="result-box" style="margin-top: 1rem;"></div>
            </div>
            
            <div class="quiz-question">
                <h4>å•é¡Œ3: å®ŸåŠ¹å€¤100Vã®äº¤æµé›»åœ§ã®æœ€å¤§å€¤ã¯ï¼Ÿ</h4>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkAnswer(this, 3, 'A')">A. 100V</div>
                    <div class="quiz-option" onclick="checkAnswer(this, 3, 'B')">B. 141V</div>
                    <div class="quiz-option" onclick="checkAnswer(this, 3, 'C')">C. 200V</div>
                    <div class="quiz-option" onclick="checkAnswer(this, 3, 'D')">D. 70.7V</div>
                </div>
                <div id="feedback3" class="result-box" style="margin-top: 1rem;"></div>
            </div>
            
            <div class="quiz-question">
                <h4>å•é¡Œ4: æ±æ—¥æœ¬ã®å•†ç”¨é›»æºã®å‘¨æ³¢æ•°ã¯ï¼Ÿ</h4>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkAnswer(this, 4, 'A')">A. 50Hz</div>
                    <div class="quiz-option" onclick="checkAnswer(this, 4, 'B')">B. 60Hz</div>
                    <div class="quiz-option" onclick="checkAnswer(this, 4, 'C')">C. 100Hz</div>
                    <div class="quiz-option" onclick="checkAnswer(this, 4, 'D')">D. 120Hz</div>
                </div>
                <div id="feedback4" class="result-box" style="margin-top: 1rem;"></div>
            </div>
            
            <div class="quiz-question">
                <h4>å•é¡Œ5: æŠµæŠ—3Î©ã€èª˜å°æ€§ãƒªã‚¢ã‚¯ã‚¿ãƒ³ã‚¹4Î©ã®ç›´åˆ—å›è·¯ã®åˆæˆã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹ã¯ï¼Ÿ</h4>
                <div class="quiz-options">
                    <div class="quiz-option" onclick="checkAnswer(this, 5, 'A')">A. 7Î©</div>
                    <div class="quiz-option" onclick="checkAnswer(this, 5, 'B')">B. 5Î©</div>
                    <div class="quiz-option" onclick="checkAnswer(this, 5, 'C')">C. 1Î©</div>
                    <div class="quiz-option" onclick="checkAnswer(this, 5, 'D')">D. 12Î©</div>
                </div>
                <div id="feedback5" class="result-box" style="margin-top: 1rem;"></div>
            </div>
            
            <button class="btn success" onclick="showResults()">çµæœã‚’è¦‹ã‚‹</button>
            <div id="totalResult" class="result-box"></div>
        </div>
        
        <!-- è¨ˆç®—å•é¡Œã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div id="calculation" class="section">
            <h2><span class="icon">ğŸ“</span>è¨ˆç®—å•é¡Œ</h2>
            
            <div style="background: #E0EEF9; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                <h3 style="margin-top: 0;">ğŸ¯ è¨ˆç®—å•é¡Œã‚’è§£ãã‚³ãƒ„</h3>
                <ol>
                    <li><strong>ã¾ãšå›³ã‚’æã</strong>ï¼šãƒ™ã‚¯ãƒˆãƒ«å›³ã§è¦–è¦šçš„ã«ç†è§£</li>
                    <li><strong>ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç¢ºèª</strong>ï¼š3-4-5ã‚„5-12-13ã®å®šç•ªãƒ‘ã‚¿ãƒ¼ãƒ³ã‹ãƒã‚§ãƒƒã‚¯</li>
                    <li><strong>å˜ä½ã‚’ç¢ºèª</strong>ï¼šÎ©ï¼ˆã‚ªãƒ¼ãƒ ï¼‰ã€Vï¼ˆãƒœãƒ«ãƒˆï¼‰ã€Aï¼ˆã‚¢ãƒ³ãƒšã‚¢ï¼‰</li>
                    <li><strong>å…¬å¼ã‚’æ€ã„å‡ºã™</strong>ï¼šZ = âˆš(RÂ² + (XL-XC)Â²)ã€V = I Ã— Z</li>
                </ol>
            </div>
            
            <div class="problem-box">
                <h4>å•é¡Œ1: ç›´åˆ—å›è·¯ã®ã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹ã€åŸºæœ¬ã€‘</h4>
                <p>æŠµæŠ—6Î©ã€èª˜å°æ€§ãƒªã‚¢ã‚¯ã‚¿ãƒ³ã‚¹8Î©ã‚’ç›´åˆ—ã«æ¥ç¶šã—ãŸå›è·¯ã®åˆæˆã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹ã‚’æ±‚ã‚ãªã•ã„ã€‚</p>
                
                <div style="background: #FFF3E0; padding: 1rem; border-radius: 4px; margin: 1rem 0;">
                    <strong>ğŸ’¡ ãƒ’ãƒ³ãƒˆï¼š</strong>6ã¨8ã¨ã„ã†æ•°å­—ã‚’è¦‹ãŸã‚‰...3-4-5ã®å€æ•°ã‹ã‚‚ï¼Ÿ<br>
                    6 = 3Ã—2ã€8 = 4Ã—2 â†’ ç­”ãˆã¯5Ã—2 = ?
                </div>
                
                <div class="control-group">
                    <label>è§£ç­”ï¼š</label>
                    <input type="number" id="calc1" step="0.1">
                    <span>Î©</span>
                    <button class="btn secondary" onclick="checkCalculation(1)">ç¢ºèª</button>
                </div>
                <div id="calcFeedback1" class="result-box"></div>
            </div>
            
            <div class="problem-box">
                <h4>å•é¡Œ2: å®ŸåŠ¹å€¤ã‹ã‚‰æœ€å¤§å€¤ã€é »å‡ºã€‘</h4>
                <p>å®ŸåŠ¹å€¤200Vã®äº¤æµé›»åœ§ã®æœ€å¤§å€¤ã‚’æ±‚ã‚ãªã•ã„ã€‚ï¼ˆâˆš2 = 1.414ã¨ã—ã¦è¨ˆç®—ï¼‰</p>
                
                <div style="background: #E8F5E9; padding: 1rem; border-radius: 4px; margin: 1rem 0;">
                    <strong>ğŸ§® é€Ÿç®—ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ï¼š</strong><br>
                    200 Ã— 1.4 = 280ã€200 Ã— 0.014 = 2.8<br>
                    280 + 2.8 = 282.8 V
                </div>
                
                <div class="control-group">
                    <label>è§£ç­”ï¼š</label>
                    <input type="number" id="calc2" step="0.1">
                    <span>V</span>
                    <button class="btn secondary" onclick="checkCalculation(2)">ç¢ºèª</button>
                </div>
                <div id="calcFeedback2" class="result-box"></div>
            </div>
            
            <div class="problem-box">
                <h4>å•é¡Œ3: RLCç›´åˆ—å›è·¯ã€å¿œç”¨ã€‘</h4>
                <p>æŠµæŠ—9Î©ã€èª˜å°æ€§ãƒªã‚¢ã‚¯ã‚¿ãƒ³ã‚¹15Î©ã€å®¹é‡æ€§ãƒªã‚¢ã‚¯ã‚¿ãƒ³ã‚¹3Î©ã‚’ç›´åˆ—ã«æ¥ç¶šã—ãŸå›è·¯ã®åˆæˆã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹ã‚’æ±‚ã‚ãªã•ã„ã€‚</p>
                
                <div style="background: #FFEBEE; padding: 1rem; border-radius: 4px; margin: 1rem 0;">
                    <strong>ğŸ“ è§£ãæ–¹ã®æ‰‹é †ï¼š</strong><br>
                    â‘  ã¾ãšXL - XC = 15 - 3 = 12ã‚’è¨ˆç®—<br>
                    â‘¡ 9ã¨12...ã“ã‚Œã‚‚3-4-5ã®3å€ï¼<br>
                    â‘¢ 3Ã—3=9ã€4Ã—3=12 â†’ 5Ã—3=?
                </div>
                
                <div class="control-group">
                    <label>è§£ç­”ï¼š</label>
                    <input type="number" id="calc3" step="0.1">
                    <span>Î©</span>
                    <button class="btn secondary" onclick="checkCalculation(3)">ç¢ºèª</button>
                </div>
                <div id="calcFeedback3" class="result-box"></div>
            </div>
            
            <div class="problem-box">
                <h4>å•é¡Œ4: é›»æµè¨ˆç®—ã€ã‚ªãƒ¼ãƒ ã®æ³•å‰‡ã€‘</h4>
                <p>100Vã®äº¤æµé›»æºã«ã€åˆæˆã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹20Î©ã®å›è·¯ã‚’æ¥ç¶šã—ãŸã¨ãã€æµã‚Œã‚‹é›»æµã‚’æ±‚ã‚ãªã•ã„ã€‚</p>
                
                <div style="background: #E0EEF9; padding: 1rem; border-radius: 4px; margin: 1rem 0;">
                    <strong>ğŸ”Œ è¦šãˆæ–¹ï¼š</strong>ã€Œ100V Ã· 20Î© = ï¼ŸAã€<br>
                    100å††ã‚’20äººã§åˆ†ã‘ãŸã‚‰1äºº5å††...ã ã‹ã‚‰5Aï¼<br>
                    ã‚ªãƒ¼ãƒ ã®æ³•å‰‡ï¼šI = V Ã· Zï¼ˆäº¤æµç‰ˆï¼‰
                </div>
                
                <div class="control-group">
                    <label>è§£ç­”ï¼š</label>
                    <input type="number" id="calc4" step="0.1">
                    <span>A</span>
                    <button class="btn secondary" onclick="checkCalculation(4)">ç¢ºèª</button>
                </div>
                <div id="calcFeedback4" class="result-box"></div>
            </div>
            
            <!-- è¿½åŠ ã®ç·´ç¿’å•é¡Œ -->
            <div style="background: #F5F5F5; padding: 2rem; border-radius: 8px; margin-top: 2rem;">
                <h3>ğŸ‹ï¸ ã•ã‚‰ã«ç·´ç¿’ã—ãŸã„æ–¹ã¸</h3>
                <h4>ã‚ˆãå‡ºã‚‹è¨ˆç®—ãƒ‘ã‚¿ãƒ¼ãƒ³é›†</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1rem;">
                    <div>
                        <h5>3-4-5ãƒ‘ã‚¿ãƒ¼ãƒ³</h5>
                        <ul>
                            <li>R=3Î©, X=4Î© â†’ Z=5Î©</li>
                            <li>R=6Î©, X=8Î© â†’ Z=10Î©</li>
                            <li>R=9Î©, X=12Î© â†’ Z=15Î©</li>
                            <li>R=12Î©, X=16Î© â†’ Z=20Î©</li>
                        </ul>
                    </div>
                    <div>
                        <h5>5-12-13ãƒ‘ã‚¿ãƒ¼ãƒ³</h5>
                        <ul>
                            <li>R=5Î©, X=12Î© â†’ Z=13Î©</li>
                            <li>R=10Î©, X=24Î© â†’ Z=26Î©</li>
                        </ul>
                        <h5>ãã®ä»–ã®å®šç•ª</h5>
                        <ul>
                            <li>R=8Î©, X=6Î© â†’ Z=10Î©</li>
                            <li>R=1Î©, X=1Î© â†’ Z=âˆš2â‰ˆ1.41Î©</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- FAQã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div id="faq" class="section">
            <h2><span class="icon">â“</span>ã‚ˆãã‚ã‚‹è³ªå•</h2>
            
            <div class="faq-tabs">
                <button class="faq-tab active" onclick="showFAQTab('basic')">åŸºæœ¬æ¦‚å¿µ</button>
                <button class="faq-tab" onclick="showFAQTab('phase')">ä½ç›¸ã®ãšã‚Œ</button>
                <button class="faq-tab" onclick="showFAQTab('impedance')">ã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹</button>
                <button class="faq-tab" onclick="showFAQTab('values')">å®ŸåŠ¹å€¤ãƒ»æœ€å¤§å€¤</button>
            </div>
            
            <div id="faq-basic" class="faq-content active">
                <div class="faq-item" onclick="toggleFAQ(this)">
                    <div class="faq-question">
                        <span>Q.</span> ç›´æµå›è·¯ã¨äº¤æµå›è·¯ã®æœ€ã‚‚å¤§ããªé•ã„ã¯ä½•ã§ã™ã‹ï¼Ÿ
                    </div>
                    <div class="faq-answer">
                        ç›´æµå›è·¯ã§ã¯é›»åœ§ãƒ»é›»æµãŒæ™‚é–“çµŒéã§ä¸€å®šã§ã™ãŒã€äº¤æµå›è·¯ã§ã¯å‘¨æœŸçš„ã«å¤§ãã•ã¨å‘ããŒå¤‰åŒ–ã—ã¾ã™ã€‚ã¾ãŸã€äº¤æµå›è·¯ã§ã¯æŠµæŠ—ã®ä»–ã«ã‚³ã‚¤ãƒ«ã‚„ã‚³ãƒ³ãƒ‡ãƒ³ã‚µãŒé‡è¦ãªå½¹å‰²ã‚’æœãŸã—ã€ã“ã‚Œã‚‰ã«ã‚ˆã‚Šä½ç›¸ã®ãšã‚ŒãŒç™ºç”Ÿã—ã¾ã™ã€‚
                    </div>
                </div>
                
                <div class="faq-item" onclick="toggleFAQ(this)">
                    <div class="faq-question">
                        <span>Q.</span> ãªãœæ—¥æœ¬ã§ã¯50Hzã¨60Hzã®2ã¤ã®å‘¨æ³¢æ•°ãŒã‚ã‚‹ã®ã§ã™ã‹ï¼Ÿ
                    </div>
                    <div class="faq-answer">
                        æ˜æ²»æ™‚ä»£ã«æ±æ—¥æœ¬ã§ã¯ãƒ‰ã‚¤ãƒ„è£½ã®50Hzç™ºé›»æ©Ÿã‚’ã€è¥¿æ—¥æœ¬ã§ã¯ã‚¢ãƒ¡ãƒªã‚«è£½ã®60Hzç™ºé›»æ©Ÿã‚’å°å…¥ã—ãŸã“ã¨ãŒå§‹ã¾ã‚Šã§ã™ã€‚ç¾åœ¨ã§ã‚‚ã“ã®é•ã„ãŒæ®‹ã£ã¦ãŠã‚Šã€æ±æ—¥æœ¬ã¯50Hzã€è¥¿æ—¥æœ¬ã¯60Hzã¨ãªã£ã¦ã„ã¾ã™ã€‚
                    </div>
                </div>
            </div>
            
            <div id="faq-phase" class="faq-content">
                <div class="faq-item" onclick="toggleFAQ(this)">
                    <div class="faq-question">
                        <span>Q.</span> ä½ç›¸ã®ãšã‚Œã¨ã¯ä½•ã§ã™ã‹ï¼Ÿ
                    </div>
                    <div class="faq-answer">
                        äº¤æµå›è·¯ã«ãŠã‘ã‚‹ä½ç›¸ã®ãšã‚Œã¨ã¯ã€é›»åœ§ã¨é›»æµã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ãŒãšã‚Œã‚‹ã“ã¨ã‚’æŒ‡ã—ã¾ã™ã€‚é›»åœ§ã‚’åŸºæº–ã¨ã—ã¦ã€é›»æµã®æ³¢å½¢ãŒæ™‚é–“çš„ã«é€²ã‚“ã ã‚Šé…ã‚ŒãŸã‚Šã™ã‚‹ç¾è±¡ã§ã™ã€‚ã‚³ã‚¤ãƒ«ã§ã¯é›»æµãŒ90Â°é…ã‚Œã€ã‚³ãƒ³ãƒ‡ãƒ³ã‚µã§ã¯90Â°é€²ã¿ã¾ã™ã€‚
                    </div>
                </div>
                
                <div class="faq-item" onclick="toggleFAQ(this)">
                    <div class="faq-question">
                        <span>Q.</span> ãªãœã‚³ã‚¤ãƒ«ã§é›»æµãŒé…ã‚Œã€ã‚³ãƒ³ãƒ‡ãƒ³ã‚µã§é€²ã‚€ã®ã§ã™ã‹ï¼Ÿ
                    </div>
                    <div class="faq-answer">
                        ã‚³ã‚¤ãƒ«ã¯é›»æµã®å¤‰åŒ–ã‚’å¦¨ã’ã‚‹æ€§è³ªï¼ˆè‡ªå·±èª˜å°ï¼‰ãŒã‚ã‚‹ãŸã‚ã€é›»åœ§ãŒå¤‰åŒ–ã—ã¦ã‚‚ã™ãã«ã¯é›»æµãŒè¿½å¾“ã›ãšé…ã‚Œã¾ã™ã€‚ä¸€æ–¹ã€ã‚³ãƒ³ãƒ‡ãƒ³ã‚µã¯é›»åœ§ãŒå¤‰åŒ–ã™ã‚‹å‰ã«å……æ”¾é›»ã«ã‚ˆã‚Šé›»æµãŒæµã‚Œã‚‹ãŸã‚ã€é›»æµãŒé›»åœ§ã‚ˆã‚Šå…ˆè¡Œï¼ˆé€²ã‚€ï¼‰ã—ã¾ã™ã€‚
                    </div>
                </div>
            </div>
            
            <div id="faq-impedance" class="faq-content">
                <div class="faq-item" onclick="toggleFAQ(this)">
                    <div class="faq-question">
                        <span>Q.</span> ãªãœã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹ã¯å˜ç´”ãªè¶³ã—ç®—ã§æ±‚ã‚ã‚‰ã‚Œãªã„ã®ã§ã™ã‹ï¼Ÿ
                    </div>
                    <div class="faq-answer">
                        äº¤æµå›è·¯ã§ã¯ã€æŠµæŠ—ã€ã‚³ã‚¤ãƒ«ã€ã‚³ãƒ³ãƒ‡ãƒ³ã‚µã«ã‚ˆã‚‹ã€ŒæŠµæŠ—ã®ã‚ˆã†ãªã‚‚ã®ã€ã®æ–¹å‘ãŒç•°ãªã‚‹ãŸã‚ã§ã™ã€‚æŠµæŠ—ã¯åŸºæº–æ–¹å‘ã€ã‚³ã‚¤ãƒ«ã¯90Â°é…ã‚Œæ–¹å‘ã€ã‚³ãƒ³ãƒ‡ãƒ³ã‚µã¯90Â°é€²ã¿æ–¹å‘ã«ä½œç”¨ã™ã‚‹ãŸã‚ã€ãƒ™ã‚¯ãƒˆãƒ«çš„ã«åˆæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ä¸‰å¹³æ–¹ã®å®šç†ã‚’ä½¿ã£ã¦è¨ˆç®—ã—ã¾ã™ã€‚
                    </div>
                </div>
                
                <div class="faq-item" onclick="toggleFAQ(this)">
                    <div class="faq-question">
                        <span>Q.</span> ä¸‰å¹³æ–¹ã®å®šç†ã¯ã©ã®ã‚ˆã†ã«ä½¿ã†ã®ã§ã™ã‹ï¼Ÿ
                    </div>
                    <div class="faq-answer">
                        æŠµæŠ—Rã‚’æ¨ªè»¸ã€ãƒªã‚¢ã‚¯ã‚¿ãƒ³ã‚¹(XL-XC)ã‚’ç¸¦è»¸ã¨ã™ã‚‹ç›´è§’ä¸‰è§’å½¢ã‚’è€ƒãˆã¾ã™ã€‚åˆæˆã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹Zã¯æ–œè¾ºã¨ãªã‚‹ãŸã‚ã€ZÂ² = RÂ² + (XL-XC)Â²ã¨ã„ã†é–¢ä¿‚ãŒæˆã‚Šç«‹ã¡ã€Z = âˆš(RÂ² + (XL-XC)Â²)ã§è¨ˆç®—ã§ãã¾ã™ã€‚
                    </div>
                </div>
            </div>
            
            <div id="faq-values" class="faq-content">
                <div class="faq-item" onclick="toggleFAQ(this)">
                    <div class="faq-question">
                        <span>Q.</span> å®ŸåŠ¹å€¤ã¨æœ€å¤§å€¤ã®é–¢ä¿‚ã‚’æ•™ãˆã¦ãã ã•ã„
                    </div>
                    <div class="faq-answer">
                        æ­£å¼¦æ³¢äº¤æµã«ãŠã„ã¦ã€æœ€å¤§å€¤ã¯å®ŸåŠ¹å€¤ã®âˆš2å€ï¼ˆç´„1.414å€ï¼‰ã«ãªã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€å®¶åº­ç”¨ã‚³ãƒ³ã‚»ãƒ³ãƒˆã®100Vï¼ˆå®ŸåŠ¹å€¤ï¼‰ã®æœ€å¤§å€¤ã¯141Vã§ã™ã€‚å®ŸåŠ¹å€¤ã¯åŒã˜é›»åŠ›ã‚’ç™ºç”Ÿã•ã›ã‚‹ç›´æµã®å€¤ã«ç›¸å½“ã™ã‚‹ãŸã‚ã€æ—¥å¸¸çš„ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚
                    </div>
                </div>
                
                <div class="faq-item" onclick="toggleFAQ(this)">
                    <div class="faq-question">
                        <span>Q.</span> å‘¨æ³¢æ•°ï¼ˆHzï¼‰ã¨ã¯ä½•ã§ã™ã‹ï¼Ÿ
                    </div>
                    <div class="faq-answer">
                        å‘¨æ³¢æ•°ã¯1ç§’é–“ã«äº¤æµæ³¢å½¢ãŒç¹°ã‚Šè¿”ã•ã‚Œã‚‹å›æ•°ã‚’è¡¨ã—ã¾ã™ã€‚50Hzãªã‚‰1ç§’é–“ã«50å›ã€60Hzãªã‚‰60å›æ³¢å½¢ãŒç¹°ã‚Šè¿”ã•ã‚Œã¾ã™ã€‚å‘¨æ³¢æ•°ã¯ãƒ¢ãƒ¼ã‚¿ãƒ¼ã®å›è»¢æ•°ã‚„ã‚³ã‚¤ãƒ«ãƒ»ã‚³ãƒ³ãƒ‡ãƒ³ã‚µã®ãƒªã‚¢ã‚¯ã‚¿ãƒ³ã‚¹ã«å½±éŸ¿ã‚’ä¸ãˆã¾ã™ã€‚
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°
        let phaseAnimation;
        let quizAnswers = {};
        let correctAnswers = {
            1: 'C',
            2: 'B',
            3: 'B',
            4: 'A',
            5: 'B'
        };
        
        // ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ‡ã‚Šæ›¿ãˆ
        function showSection(sectionId) {
            // ã™ã¹ã¦ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’éè¡¨ç¤º
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // ã™ã¹ã¦ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ã‹ã‚‰ active ã‚’å‰Šé™¤
            document.querySelectorAll('.nav-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // é¸æŠã•ã‚ŒãŸã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¡¨ç¤º
            document.getElementById(sectionId).classList.add('active');
            
            // å¯¾å¿œã™ã‚‹ãƒœã‚¿ãƒ³ã« active ã‚’è¿½åŠ 
            event.target.classList.add('active');
            
            // ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å ´åˆã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹å§‹
            if (sectionId === 'simulation') {
                if (phaseAnimation) cancelAnimationFrame(phaseAnimation);
                updatePhaseShift();
                calculateImpedance(); // ãƒ™ã‚¯ãƒˆãƒ«å›³ã‚‚å†æç”»
            }
        }
        
        // ç›´æµæ³¢å½¢ã®æç”»
        function drawDCWaveform() {
            const canvas = document.getElementById('dcWaveform');
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            // ã‚°ãƒªãƒƒãƒ‰ç·š
            drawGrid(ctx, canvas);
            
            // ä¸­å¿ƒç·š
            ctx.strokeStyle = '#999';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(0, canvas.height / 2);
            ctx.lineTo(canvas.width, canvas.height / 2);
            ctx.stroke();
            
            // DCæ³¢å½¢ï¼ˆæ°´å¹³ç·šï¼‰
            ctx.strokeStyle = '#005BAB';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(0, canvas.height / 3);
            ctx.lineTo(canvas.width, canvas.height / 3);
            ctx.stroke();
            
            // ãƒ©ãƒ™ãƒ«
            ctx.fillStyle = '#005BAB';
            ctx.font = '14px Meiryo';
            ctx.fillText('100Vï¼ˆä¸€å®šï¼‰', 10, canvas.height / 3 - 10);
        }
        
        // äº¤æµæ³¢å½¢ã®æç”»
        function drawACWaveform() {
            const canvas = document.getElementById('acWaveform');
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            // ã‚°ãƒªãƒƒãƒ‰ç·š
            drawGrid(ctx, canvas);
            
            // ä¸­å¿ƒç·š
            ctx.strokeStyle = '#999';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(0, canvas.height / 2);
            ctx.lineTo(canvas.width, canvas.height / 2);
            ctx.stroke();
            
            // ACæ³¢å½¢ï¼ˆæ­£å¼¦æ³¢ï¼‰
            ctx.strokeStyle = '#FF961C';
            ctx.lineWidth = 3;
            ctx.beginPath();
            for (let x = 0; x < canvas.width; x++) {
                const y = canvas.height / 2 - Math.sin(x * 0.02) * canvas.height / 3;
                if (x === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            ctx.stroke();
            
            // ãƒ©ãƒ™ãƒ«
            ctx.fillStyle = '#FF961C';
            ctx.font = '14px Meiryo';
            ctx.fillText('141V (æœ€å¤§å€¤)', 10, 20);
            ctx.fillText('100V (å®ŸåŠ¹å€¤)', 10, canvas.height / 2 - 10);
        }
        
        // ã‚°ãƒªãƒƒãƒ‰ç·šã‚’æç”»
        function drawGrid(ctx, canvas) {
            ctx.strokeStyle = '#e0e0e0';
            ctx.lineWidth = 1;
            for (let i = 0; i < canvas.width; i += 40) {
                ctx.beginPath();
                ctx.moveTo(i, 0);
                ctx.lineTo(i, canvas.height);
                ctx.stroke();
            }
            for (let i = 0; i < canvas.height; i += 40) {
                ctx.beginPath();
                ctx.moveTo(0, i);
                ctx.lineTo(canvas.width, i);
                ctx.stroke();
            }
        }
        
        // ä½ç›¸ã®ãšã‚Œè¡¨ç¤º
        function drawPhaseShift() {
            const canvas = document.getElementById('phaseCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth || 600;
            canvas.height = 300;
            
            const elementType = document.getElementById('elementType').value;
            const frequency = parseInt(document.getElementById('frequency').value);
            
            // ã‚¯ãƒªã‚¢
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // ã‚°ãƒªãƒƒãƒ‰ç·š
            drawGrid(ctx, canvas);
            
            // ä¸­å¿ƒç·š
            ctx.strokeStyle = '#999';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(0, canvas.height / 2);
            ctx.lineTo(canvas.width, canvas.height / 2);
            ctx.stroke();
            
            // ä½ç›¸ã®ãšã‚Œã‚’è¨­å®š
            let phaseShift = 0;
            let phaseText = '';
            let explanation = '';
            let mnemonic = '';
            
            switch(elementType) {
                case 'R':
                    phaseShift = 0;
                    phaseText = '0Â°';
                    explanation = 'æŠµæŠ—ã®ã¿ã®å›è·¯ã§ã¯ã€é›»åœ§ã¨é›»æµã®ä½ç›¸ã®ãšã‚Œã¯ã‚ã‚Šã¾ã›ã‚“ã€‚';
                    mnemonic = 'ã€ŒæŠµæŠ—ã‚¼ãƒ­é…ã‚Œã€ï¼ˆä½ç›¸å·®0Â°ï¼‰';
                    break;
                case 'L':
                    phaseShift = -Math.PI / 2;
                    phaseText = '-90Â°ï¼ˆé…ã‚Œï¼‰';
                    explanation = 'ã‚³ã‚¤ãƒ«ã‚’å«ã‚€å›è·¯ã§ã¯ã€é›»æµãŒé›»åœ§ã«å¯¾ã—ã¦90Â°é…ã‚Œã¾ã™ã€‚';
                    mnemonic = 'ã€Œã‚³ã‚¤ãƒ«ã¯è‹¦åŠ´ï¼ˆ90ï¼‰ã—ã¦é…ã‚Œã‚‹ã€';
                    break;
                case 'C':
                    phaseShift = Math.PI / 2;
                    phaseText = '+90Â°ï¼ˆé€²ã¿ï¼‰';
                    explanation = 'ã‚³ãƒ³ãƒ‡ãƒ³ã‚µã‚’å«ã‚€å›è·¯ã§ã¯ã€é›»æµãŒé›»åœ§ã«å¯¾ã—ã¦90Â°é€²ã¿ã¾ã™ã€‚';
                    mnemonic = 'ã€Œã‚³ãƒ³ãƒ‡ãƒ³ã‚µå…ˆï¼ˆã‚µã‚­ï¼‰ã«é€²ã‚€ã€';
                    break;
            }
            
            // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã®æ™‚é–“
            const time = Date.now() * 0.001 * frequency / 50;
            
            // é›»åœ§æ³¢å½¢ï¼ˆåŸºæº–ï¼‰
            ctx.strokeStyle = '#005BAB';
            ctx.lineWidth = 3;
            ctx.beginPath();
            for (let x = 0; x < canvas.width; x++) {
                const y = canvas.height / 2 - Math.sin(x * 0.02 + time) * canvas.height / 3;
                if (x === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            ctx.stroke();
            
            // é›»æµæ³¢å½¢ï¼ˆä½ç›¸ãšã‚Œã‚ã‚Šï¼‰
            ctx.strokeStyle = '#FF961C';
            ctx.lineWidth = 3;
            ctx.beginPath();
            for (let x = 0; x < canvas.width; x++) {
                const y = canvas.height / 2 - Math.sin(x * 0.02 + time + phaseShift) * canvas.height / 3;
                if (x === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            ctx.stroke();
            
            // å‡¡ä¾‹
            ctx.font = '14px Meiryo';
            ctx.fillStyle = '#005BAB';
            ctx.fillText('é›»åœ§ï¼ˆåŸºæº–ï¼‰', 10, 20);
            ctx.fillStyle = '#FF961C';
            ctx.fillText('é›»æµ', 100, 20);
            
            // æƒ…å ±æ›´æ–°
            document.getElementById('phaseShift').innerHTML = `${phaseText} <span style="color: var(--secondary-color);">${mnemonic}</span>`;
            document.getElementById('phaseExplanation').textContent = explanation;
            
            // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç¶™ç¶š
            phaseAnimation = requestAnimationFrame(drawPhaseShift);
        }
        
        function updatePhaseShift() {
            if (phaseAnimation) cancelAnimationFrame(phaseAnimation);
            drawPhaseShift();
        }
        
        // ãƒ™ã‚¯ãƒˆãƒ«å›³ã®æç”»
        function drawVectorDiagram(R, XL, XC) {
            const canvas = document.getElementById('vectorCanvas');
            if (!canvas) return;
            
            // é«˜è§£åƒåº¦å¯¾å¿œ
            const dpr = window.devicePixelRatio || 1;
            const rect = canvas.getBoundingClientRect();
            canvas.width = rect.width * dpr;
            canvas.height = rect.height * dpr;
            
            const ctx = canvas.getContext('2d');
            ctx.scale(dpr, dpr);
            
            // ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚µã‚¤ã‚ºã‚’å–å¾—
            const width = rect.width;
            const height = rect.height;
            const centerX = width / 2;
            const centerY = height / 2;
            
            // ã‚¹ã‚±ãƒ¼ãƒ«ã‚’å‹•çš„ã«èª¿æ•´
            const maxValue = Math.max(Math.abs(R), Math.abs(XL - XC)) || 1;
            const scale = Math.min(width, height) * 0.3 / maxValue;
            
            ctx.clearRect(0, 0, width, height);
            
            // åº§æ¨™è»¸
            ctx.strokeStyle = '#999';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(30, centerY);
            ctx.lineTo(width - 30, centerY);
            ctx.moveTo(centerX, 30);
            ctx.lineTo(centerX, height - 30);
            ctx.stroke();
            
            // è»¸ãƒ©ãƒ™ãƒ«
            ctx.fillStyle = '#333';
            ctx.font = '14px Meiryo';
            ctx.fillText('Rï¼ˆæŠµæŠ—ï¼‰', width - 80, centerY - 10);
            ctx.fillText('Xï¼ˆãƒªã‚¢ã‚¯ã‚¿ãƒ³ã‚¹ï¼‰', centerX + 10, 40);
            
            // ã‚°ãƒªãƒƒãƒ‰ç·šã‚’è¿½åŠ ï¼ˆè¦‹ã‚„ã™ã•ã®ãŸã‚ï¼‰
            ctx.strokeStyle = '#e0e0e0';
            ctx.lineWidth = 1;
            ctx.setLineDash([3, 3]);
            
            // å‚ç›´ã‚°ãƒªãƒƒãƒ‰
            for (let i = 1; i <= 5; i++) {
                const x = centerX + i * scale;
                if (x < width - 30) {
                    ctx.beginPath();
                    ctx.moveTo(x, 30);
                    ctx.lineTo(x, height - 30);
                    ctx.stroke();
                }
                const x2 = centerX - i * scale;
                if (x2 > 30) {
                    ctx.beginPath();
                    ctx.moveTo(x2, 30);
                    ctx.lineTo(x2, height - 30);
                    ctx.stroke();
                }
            }
            
            // æ°´å¹³ã‚°ãƒªãƒƒãƒ‰
            for (let i = 1; i <= 5; i++) {
                const y = centerY - i * scale;
                if (y > 30) {
                    ctx.beginPath();
                    ctx.moveTo(30, y);
                    ctx.lineTo(width - 30, y);
                    ctx.stroke();
                }
                const y2 = centerY + i * scale;
                if (y2 < height - 30) {
                    ctx.beginPath();
                    ctx.moveTo(30, y2);
                    ctx.lineTo(width - 30, y2);
                    ctx.stroke();
                }
            }
            
            ctx.setLineDash([]);
            
            // ãƒ™ã‚¯ãƒˆãƒ«æç”»
            const X = XL - XC;
            
            // Ræˆåˆ†ï¼ˆæ¨ªï¼‰
            if (R > 0) {
                drawArrow(ctx, centerX, centerY, centerX + R * scale, centerY, '#005BAB', 3);
                ctx.fillStyle = '#005BAB';
                ctx.font = 'bold 14px Meiryo';
                ctx.fillText(`R = ${R}Î©`, centerX + R * scale / 2 - 20, centerY + 20);
            }
            
            // Xæˆåˆ†ï¼ˆç¸¦ï¼‰
            if (X !== 0) {
                drawArrow(ctx, centerX + R * scale, centerY, centerX + R * scale, centerY - X * scale, '#FF961C', 3);
                ctx.fillStyle = '#FF961C';
                ctx.font = 'bold 14px Meiryo';
                const xLabel = X > 0 ? `XL - XC = ${X}Î©` : `XC - XL = ${-X}Î©`;
                ctx.fillText(xLabel, centerX + R * scale + 10, centerY - X * scale / 2);
            }
            
            // åˆæˆã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹ï¼ˆæ–œã‚ï¼‰
            const Z = Math.sqrt(R * R + X * X);
            if (Z > 0) {
                drawArrow(ctx, centerX, centerY, centerX + R * scale, centerY - X * scale, '#4CAF50', 4);
                ctx.fillStyle = '#4CAF50';
                ctx.font = 'bold 16px Meiryo';
                ctx.fillText(`Z = ${Z.toFixed(2)}Î©`, centerX + R * scale / 2 + 10, centerY - X * scale / 2 - 10);
                
                // è§’åº¦è¡¨ç¤º
                const angle = Math.atan2(-X, R) * 180 / Math.PI;
                ctx.fillStyle = '#666';
                ctx.font = '12px Meiryo';
                ctx.fillText(`Î¸ = ${angle.toFixed(1)}Â°`, centerX + 20, centerY - 20);
            }
        }
        
        // çŸ¢å°ã‚’æç”»
        function drawArrow(ctx, fromX, fromY, toX, toY, color, width) {
            const angle = Math.atan2(toY - fromY, toX - fromX);
            const headLength = 10;
            
            ctx.strokeStyle = color;
            ctx.lineWidth = width;
            ctx.fillStyle = color;
            
            // ç·šã‚’æç”»
            ctx.beginPath();
            ctx.moveTo(fromX, fromY);
            ctx.lineTo(toX, toY);
            ctx.stroke();
            
            // çŸ¢å°ã®é ­ã‚’æç”»
            ctx.beginPath();
            ctx.moveTo(toX, toY);
            ctx.lineTo(toX - headLength * Math.cos(angle - Math.PI / 6), toY - headLength * Math.sin(angle - Math.PI / 6));
            ctx.lineTo(toX - headLength * Math.cos(angle + Math.PI / 6), toY - headLength * Math.sin(angle + Math.PI / 6));
            ctx.closePath();
            ctx.fill();
        }
        
        // ã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹è¨ˆç®—
        function calculateImpedance() {
            const R = parseFloat(document.getElementById('resistance').value) || 0;
            const XL = parseFloat(document.getElementById('inductance').value) || 0;
            const XC = parseFloat(document.getElementById('capacitance').value) || 0;
            
            const X = XL - XC;
            const Z = Math.sqrt(R * R + X * X);
            const angle = Math.atan2(X, R) * 180 / Math.PI;
            
            // ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒã‚§ãƒƒã‚¯
            let patternHint = '';
            if (R === 3 && Math.abs(X) === 4) {
                patternHint = '<p style="color: var(--success-color);"><strong>ğŸ’¡ 3-4-5ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™ï¼</strong></p>';
            } else if (R === 6 && Math.abs(X) === 8) {
                patternHint = '<p style="color: var(--success-color);"><strong>ğŸ’¡ 6-8-10ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆ3-4-5ã®2å€ï¼‰ã§ã™ï¼</strong></p>';
            } else if (R === 9 && Math.abs(X) === 12) {
                patternHint = '<p style="color: var(--success-color);"><strong>ğŸ’¡ 9-12-15ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆ3-4-5ã®3å€ï¼‰ã§ã™ï¼</strong></p>';
            } else if (R === 5 && Math.abs(X) === 12) {
                patternHint = '<p style="color: var(--success-color);"><strong>ğŸ’¡ 5-12-13ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™ï¼</strong></p>';
            }
            
            const resultDiv = document.getElementById('impedanceResult');
            resultDiv.innerHTML = `
                <h4>è¨ˆç®—çµæœ</h4>
                ${patternHint}
                <p><strong>æŠµæŠ—æˆåˆ† Rï¼š</strong> ${R} Î©</p>
                <p><strong>ãƒªã‚¢ã‚¯ã‚¿ãƒ³ã‚¹æˆåˆ† Xï¼š</strong> ${X.toFixed(2)} Î© ï¼ˆXL - XC = ${XL} - ${XC}ï¼‰</p>
                <p><strong>åˆæˆã‚¤ãƒ³ãƒ”ãƒ¼ãƒ€ãƒ³ã‚¹ Zï¼š</strong> <span style="color: var(--success-color); font-size: 1.5rem;">${Z.toFixed(2)} Î©</span></p>
                <p><strong>ä½ç›¸è§’ï¼š</strong> ${angle.toFixed(1)}Â°</p>
                <hr style="margin: 1rem 0;">
                <p><strong>è¨ˆç®—å¼ï¼š</strong></p>
                <p>Z = âˆš(RÂ² + (XL - XC)Â²)</p>
                <p>Z = âˆš(${R}Â² + (${XL} - ${XC})Â²)</p>
                <p>Z = âˆš(${R*R} + ${X*X})</p>
                <p>Z = ${Z.toFixed(2)} Î©</p>
                <div style="background: #FFF3E0; padding: 0.8rem; border-radius: 4px; margin-top: 1rem;">
                    <strong>ğŸš¶ æ—¥å¸¸ã®ä¾‹ãˆï¼š</strong><br>
                    æ±ã«${R}kmã€${X >= 0 ? 'åŒ—' : 'å—'}ã«${Math.abs(X)}kmé€²ã‚“ã ã¨ãã®ç›´ç·šè·é›¢ãŒ${Z.toFixed(2)}kmã«ãªã‚‹ã®ã¨åŒã˜ï¼
                </div>
            `;
            resultDiv.classList.add('show');
            
            drawVectorDiagram(R, XL, XC);
        }
        
        // æœ€å¤§å€¤è¨ˆç®—
        function calculateMaxValue() {
            const rms = parseFloat(document.getElementById('rmsValue').value) || 0;
            const max = rms * Math.sqrt(2);
            
            const resultDiv = document.getElementById('maxValueResult');
            resultDiv.innerHTML = `
                <h4>è¨ˆç®—çµæœ</h4>
                <p><strong>å®ŸåŠ¹å€¤ï¼š</strong> ${rms} V</p>
                <p><strong>æœ€å¤§å€¤ï¼š</strong> <span style="color: var(--secondary-color); font-size: 1.5rem;">${max.toFixed(1)} V</span></p>
                <hr style="margin: 1rem 0;">
                <p><strong>è¨ˆç®—å¼ï¼š</strong></p>
                <p>æœ€å¤§å€¤ = å®ŸåŠ¹å€¤ Ã— âˆš2</p>
                <p>æœ€å¤§å€¤ = ${rms} Ã— 1.414</p>
                <p>æœ€å¤§å€¤ = ${max.toFixed(1)} V</p>
                <div style="background: #E8F5E9; padding: 0.8rem; border-radius: 4px; margin-top: 1rem;">
                    <strong>ğŸ§® é€Ÿç®—ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ï¼š</strong><br>
                    ${rms} Ã— 1.4 = ${(rms * 1.4).toFixed(0)}<br>
                    ${rms} Ã— 0.014 = ${(rms * 0.014).toFixed(1)}<br>
                    åˆè¨ˆ = ${max.toFixed(1)} V<br>
                    <strong>è¦šãˆæ–¹ï¼š</strong>ã€Œã„ã‚ˆã„ã‚ˆï¼ˆ1414ï¼‰æœ€å¤§å€¤ï¼ã€
                </div>
            `;
            resultDiv.classList.add('show');
            
            drawRmsMaxWaveform(rms, max);
        }
        
        // å®ŸåŠ¹å€¤ãƒ»æœ€å¤§å€¤ã®æ³¢å½¢æç”»
        function drawRmsMaxWaveform(rms, max) {
            const canvas = document.getElementById('rmsMaxCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            canvas.width = canvas.offsetWidth || 600;
            canvas.height = 300;
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            drawGrid(ctx, canvas);
            
            // ä¸­å¿ƒç·š
            ctx.strokeStyle = '#999';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(0, canvas.height / 2);
            ctx.lineTo(canvas.width, canvas.height / 2);
            ctx.stroke();
            
            // æ­£å¼¦æ³¢
            ctx.strokeStyle = '#005BAB';
            ctx.lineWidth = 3;
            ctx.beginPath();
            const scale = (canvas.height / 2 - 20) / max;
            for (let x = 0; x < canvas.width; x++) {
                const y = canvas.height / 2 - Math.sin(x * 0.02) * max * scale;
                if (x === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            ctx.stroke();
            
            // æœ€å¤§å€¤ãƒ©ã‚¤ãƒ³
            ctx.strokeStyle = '#FF961C';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(0, canvas.height / 2 - max * scale);
            ctx.lineTo(canvas.width, canvas.height / 2 - max * scale);
            ctx.moveTo(0, canvas.height / 2 + max * scale);
            ctx.lineTo(canvas.width, canvas.height / 2 + max * scale);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // å®ŸåŠ¹å€¤ãƒ©ã‚¤ãƒ³
            ctx.strokeStyle = '#4CAF50';
            ctx.lineWidth = 2;
            ctx.setLineDash([10, 5]);
            ctx.beginPath();
            ctx.moveTo(0, canvas.height / 2 - rms * scale);
            ctx.lineTo(canvas.width, canvas.height / 2 - rms * scale);
            ctx.moveTo(0, canvas.height / 2 + rms * scale);
            ctx.lineTo(canvas.width, canvas.height / 2 + rms * scale);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // ãƒ©ãƒ™ãƒ«
            ctx.font = '14px Meiryo';
            ctx.fillStyle = '#FF961C';
            ctx.fillText(`æœ€å¤§å€¤: ${max.toFixed(1)}V`, 10, canvas.height / 2 - max * scale - 5);
            ctx.fillStyle = '#4CAF50';
            ctx.fillText(`å®ŸåŠ¹å€¤: ${rms}V`, 10, canvas.height / 2 - rms * scale - 5);
        }
        
        // ç†è§£åº¦ãƒã‚§ãƒƒã‚¯
        function checkAnswer(element, questionId, answer) {
            // åŒã˜å•é¡Œã®ä»–ã®é¸æŠè‚¢ã‹ã‚‰ selected ã‚’å‰Šé™¤
            element.parentElement.querySelectorAll('.quiz-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            element.classList.add('selected');
            quizAnswers[questionId] = answer;
            
            const feedbackDiv = document.getElementById(`feedback${questionId}`);
            const isCorrect = answer === correctAnswers[questionId];
            
            feedbackDiv.innerHTML = isCorrect 
                ? '<p style="color: var(--success-color);">âœ“ æ­£è§£ã§ã™ï¼</p>'
                : '<p style="color: var(--danger-color);">âœ— ä¸æ­£è§£ã§ã™ã€‚ã‚‚ã†ä¸€åº¦è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>';
            feedbackDiv.classList.add('show');
            
            // æ­£è§£ãƒ»ä¸æ­£è§£ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨
            element.classList.add(isCorrect ? 'correct' : 'incorrect');
            
            updateProgress();
        }
        
        function updateProgress() {
            const answered = Object.keys(quizAnswers).length;
            const total = 5;
            const percentage = (answered / total) * 100;
            
            const progressFill = document.getElementById('quizProgress');
            progressFill.style.width = percentage + '%';
            progressFill.textContent = `${answered}/${total}`;
        }
        
        function showResults() {
            let correct = 0;
            for (let i = 1; i <= 5; i++) {
                if (quizAnswers[i] === correctAnswers[i]) {
                    correct++;
                }
            }
            
            const resultDiv = document.getElementById('totalResult');
            const percentage = (correct / 5) * 100;
            
            let message = '';
            if (percentage >= 80) {
                message = 'ç´ æ™´ã‚‰ã—ã„ï¼ã‚ˆãç†è§£ã§ãã¦ã„ã¾ã™ã€‚';
            } else if (percentage >= 60) {
                message = 'è‰¯ã„èª¿å­ã§ã™ã€‚ã‚‚ã†å°‘ã—å¾©ç¿’ã—ã¾ã—ã‚‡ã†ã€‚';
            } else {
                message = 'åŸºç¤ã‹ã‚‰å¾©ç¿’ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚';
            }
            
            resultDiv.innerHTML = `
                <h4>çµæœ</h4>
                <p><strong>æ­£è§£æ•°ï¼š</strong> ${correct}/5å•ï¼ˆ${percentage}%ï¼‰</p>
                <p>${message}</p>
                <hr style="margin: 1rem 0;">
                <p><strong>æ­£è§£ï¼š</strong></p>
                <ul>
                    <li>å•é¡Œ1: Cï¼ˆä½ç›¸ã®ãšã‚Œãªã—ï¼‰</li>
                    <li>å•é¡Œ2: Bï¼ˆ90Â°é…ã‚Œã‚‹ï¼‰</li>
                    <li>å•é¡Œ3: Bï¼ˆ141Vï¼‰</li>
                    <li>å•é¡Œ4: Aï¼ˆ50Hzï¼‰</li>
                    <li>å•é¡Œ5: Bï¼ˆ5Î©ï¼‰</li>
                </ul>
            `;
            resultDiv.classList.add('show');
        }
        
        // è¨ˆç®—å•é¡Œãƒã‚§ãƒƒã‚¯
        function checkCalculation(problemId) {
            const answers = {
                1: 10,  // âˆš(6Â² + 8Â²) = âˆš(36 + 64) = âˆš100 = 10
                2: 282.8,  // 200 Ã— 1.414 = 282.8
                3: 15,  // âˆš(9Â² + (15-3)Â²) = âˆš(81 + 144) = âˆš225 = 15
                4: 5    // 100V Ã· 20Î© = 5A
            };
            
            const tolerance = 0.1;
            const userAnswer = parseFloat(document.getElementById(`calc${problemId}`).value);
            const correctAnswer = answers[problemId];
            const isCorrect = Math.abs(userAnswer - correctAnswer) <= tolerance;
            
            const feedbackDiv = document.getElementById(`calcFeedback${problemId}`);
            
            if (isCorrect) {
                feedbackDiv.className = 'result-box show';
                feedbackDiv.innerHTML = '<p style="color: var(--success-color);">âœ“ æ­£è§£ã§ã™ï¼ç´ æ™´ã‚‰ã—ã„ï¼</p>';
            } else {
                feedbackDiv.className = 'result-box show error';
                let explanation = '';
                switch(problemId) {
                    case 1:
                        explanation = `
                            <strong>è§£èª¬ï¼š</strong><br>
                            Z = âˆš(RÂ² + XLÂ²) = âˆš(6Â² + 8Â²)<br>
                            = âˆš(36 + 64) = âˆš100 = 10Î©<br><br>
                            <strong>ğŸ’¡ è¦šãˆæ–¹ï¼š</strong><br>
                            6-8-10ã¯3-4-5ã®2å€ï¼<br>
                            3Ã—2=6ã€4Ã—2=8ã€5Ã—2=10<br>
                            ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯é »å‡ºãªã®ã§æš—è¨˜æ¨å¥¨ï¼
                        `;
                        break;
                    case 2:
                        explanation = `
                            <strong>è§£èª¬ï¼š</strong><br>
                            æœ€å¤§å€¤ = å®ŸåŠ¹å€¤ Ã— âˆš2<br>
                            = 200 Ã— 1.414 = 282.8V<br><br>
                            <strong>ğŸ§® è¨ˆç®—ã®ã‚³ãƒ„ï¼š</strong><br>
                            200 Ã— 1.4 = 280<br>
                            200 Ã— 0.014 = 2.8<br>
                            280 + 2.8 = 282.8V<br>
                            ã€Œã„ã‚ˆã„ã‚ˆï¼ˆ1.414ï¼‰æœ€å¤§ï¼ã€ã¨è¦šãˆã‚‹
                        `;
                        break;
                    case 3:
                        explanation = `
                            <strong>è§£èª¬ï¼š</strong><br>
                            â‘  XL - XC = 15 - 3 = 12Î©<br>
                            â‘¡ Z = âˆš(RÂ² + (XL-XC)Â²)<br>
                            = âˆš(9Â² + 12Â²) = âˆš(81 + 144)<br>
                            = âˆš225 = 15Î©<br><br>
                            <strong>ğŸ’¡ è¦šãˆæ–¹ï¼š</strong><br>
                            9-12-15ã¯3-4-5ã®3å€ï¼<br>
                            3Ã—3=9ã€4Ã—3=12ã€5Ã—3=15<br>
                            ãƒªã‚¢ã‚¯ã‚¿ãƒ³ã‚¹ã®å·®ã‚’å…ˆã«è¨ˆç®—ï¼
                        `;
                        break;
                    case 4:
                        explanation = `
                            <strong>è§£èª¬ï¼š</strong><br>
                            ã‚ªãƒ¼ãƒ ã®æ³•å‰‡ï¼ˆäº¤æµç‰ˆï¼‰<br>
                            I = V / Z = 100V Ã· 20Î© = 5A<br><br>
                            <strong>ğŸ’° è¦šãˆæ–¹ï¼š</strong><br>
                            100å††ã‚’20äººã§åˆ†ã‘ãŸã‚‰5å††<br>
                            100VÃ·20Î©=5A<br>
                            äº¤æµã§ã‚‚åŸºæœ¬ã¯åŒã˜ï¼
                        `;
                        break;
                }
                feedbackDiv.innerHTML = `
                    <p style="color: var(--danger-color);">âœ— ä¸æ­£è§£ã§ã™ã€‚</p>
                    ${explanation}
                `;
            }
        }
        
        // FAQã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
        function showFAQTab(tabId) {
            // ã™ã¹ã¦ã®ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’éè¡¨ç¤º
            document.querySelectorAll('.faq-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // ã™ã¹ã¦ã®ã‚¿ãƒ–ã‹ã‚‰ active ã‚’å‰Šé™¤
            document.querySelectorAll('.faq-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // é¸æŠã•ã‚ŒãŸã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¡¨ç¤º
            document.getElementById(`faq-${tabId}`).classList.add('active');
            
            // å¯¾å¿œã™ã‚‹ã‚¿ãƒ–ã« active ã‚’è¿½åŠ 
            event.target.classList.add('active');
        }
        
        // FAQ ãƒˆã‚°ãƒ«
        function toggleFAQ(element) {
            element.classList.toggle('active');
        }
        
        // åˆæœŸåŒ–
        window.onload = function() {
            drawDCWaveform();
            drawACWaveform();
            // åˆæœŸçŠ¶æ…‹ã§ä½ç›¸ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’èµ·å‹•
            updatePhaseShift();
        };
        
        // ãƒªã‚µã‚¤ã‚ºå¯¾å¿œ
        window.addEventListener('resize', function() {
            drawDCWaveform();
            drawACWaveform();
            if (document.getElementById('simulation').classList.contains('active')) {
                if (phaseAnimation) cancelAnimationFrame(phaseAnimation);
                updatePhaseShift();
                // ãƒ™ã‚¯ãƒˆãƒ«å›³ã‚‚å†æç”»
                const R = parseFloat(document.getElementById('resistance').value) || 0;
                const XL = parseFloat(document.getElementById('inductance').value) || 0;
                const XC = parseFloat(document.getElementById('capacitance').value) || 0;
                if (R || XL || XC) {
                    drawVectorDiagram(R, XL, XC);
                }
            }
        });
    </script>
  <script src="../../js/main.js" defer></script>
</body>
</html>

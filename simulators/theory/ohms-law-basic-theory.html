<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../css/style.css">
  <title> ã‚ªãƒ¼ãƒ ã®æ³•å‰‡ãƒ»ç›´åˆ—ãƒ»ä¸¦åˆ—å›è·¯</title>
    <style>
        :root {
            --primary-color: #005BAB;
            --accent-color: #FF961C;
            --light-blue: #E0EEF9;
            --medium-blue: #4D8BC9;
            --dark-grey: #616161;
            --success-color: #4CAF50;
            --warning-color: #FFC107;
            --danger-color: #F44336;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Meiryo', system-ui, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--medium-blue) 100%);
            color: white;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .back-to-home {
            position: absolute;
            left: 30px;
            top: 50%;
            transform: translateY(-50%);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            transition: background-color 0.3s;
            z-index: 2;
        }

        .back-to-home:hover {
            background-color: rgba(255, 255, 255, 0.3);
        }

        header::before {
            content: 'âš¡';
            position: absolute;
            font-size: 200px;
            opacity: 0.1;
            right: -50px;
            top: -50px;
            transform: rotate(-15deg);
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: rotate(-15deg) translateY(0); }
            50% { transform: rotate(-15deg) translateY(-20px); }
        }

        h1 {
            margin: 0;
            font-size: 2.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
        }

        .subtitle {
            font-size: 1.2rem;
            margin-top: 10px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .circuit-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        .circuit-svg {
            width: 100%;
            height: 100%;
            max-height: 600px;
        }

        .electron {
            fill: var(--accent-color);
            filter: drop-shadow(0 0 5px rgba(255,150,28,0.8));
        }

        .current-flow {
            stroke: #FFD700;
            stroke-width: 3;
            fill: none;
            stroke-dasharray: 10 5;
            animation: flow 2s linear infinite;
        }

        @keyframes flow {
            0% { stroke-dashoffset: 0; }
            100% { stroke-dashoffset: -15; }
        }

        .question-box {
            background: var(--light-blue);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid var(--primary-color);
        }

        .question-box h3 {
            color: var(--primary-color);
            margin-top: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .input-group {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .input-group label {
            font-weight: bold;
            min-width: 120px;
        }

        .input-group input {
            padding: 10px 15px;
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            font-size: 1.1rem;
            width: 150px;
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(255,150,28,0.2);
        }

        .check-button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-left: 15px;
        }

        .check-button:hover {
            background: var(--accent-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255,150,28,0.3);
        }

        .check-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            display: none;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .feedback.correct {
            background: #E8F5E9;
            color: var(--success-color);
            border: 2px solid var(--success-color);
        }

        .feedback.incorrect {
            background: #FFEBEE;
            color: var(--danger-color);
            border: 2px solid var(--danger-color);
        }

        .feedback.hint {
            background: #FFF3E0;
            color: #F57C00;
            border: 2px solid var(--warning-color);
        }

        .theory-box {
            background: linear-gradient(135deg, var(--light-blue), white);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid var(--primary-color);
        }

        .formula-display {
            background: white;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            margin: 15px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .formula-display .main-formula {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-color);
            margin: 10px 0;
        }

        .formula-display .sub-formula {
            font-size: 1.3rem;
            color: var(--dark-grey);
            margin: 5px 0;
        }

        .current-speed-control {
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .slider-container {
            margin: 15px 0;
        }

        .slider-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: var(--primary-color);
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .slider::-moz-range-thumb {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: var(--primary-color);
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .tab-navigation {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            background: white;
            padding: 10px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .tab-button {
            padding: 15px 30px;
            border: none;
            background: var(--light-blue);
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--primary-color);
        }

        .tab-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .tab-button.active {
            background: var(--primary-color);
            color: white;
        }

        /* Tooltip Styles */
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
        }

        .tooltip-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--accent-color);
            color: white;
            font-size: 12px;
            font-weight: bold;
            margin-left: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .tooltip-icon:hover {
            transform: scale(1.1);
            box-shadow: 0 3px 8px rgba(0,0,0,0.3);
        }

        .tooltip-content {
            visibility: hidden;
            opacity: 0;
            position: absolute;
            z-index: 1000;
            left: 50%;
            bottom: calc(100% + 10px);
            transform: translateX(-50%) translateY(10px);
            background: rgba(0, 0, 0, 0.95);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 14px;
            line-height: 1.5;
            white-space: nowrap;
            max-width: 300px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .tooltip-content.wide {
            white-space: normal;
        }

        .tooltip-content::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 6px solid transparent;
            border-top-color: rgba(0, 0, 0, 0.95);
        }

        .tooltip:hover .tooltip-content,
        .tooltip-icon:hover + .tooltip-content {
            visibility: visible;
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        /* Interactive tooltips for circuit components */
        .component-tooltip {
            position: absolute;
            background: var(--primary-color);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 100;
            box-shadow: 0 3px 10px rgba(0,0,0,0.3);
        }

        .component-tooltip::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            border: 5px solid transparent;
            border-top-color: var(--primary-color);
        }

        .component-tooltip.show {
            opacity: 1;
        }

        /* Glossary tooltips */
        .term {
            position: relative;
            display: inline-block;
            color: var(--primary-color);
            font-weight: 600;
            border-bottom: 2px dotted var(--primary-color);
            cursor: help;
            transition: all 0.3s ease;
        }

        .term:hover {
            color: var(--accent-color);
            border-bottom-color: var(--accent-color);
        }

        .term-definition {
            position: absolute;
            left: 50%;
            bottom: calc(100% + 8px);
            transform: translateX(-50%) scale(0.9);
            background: linear-gradient(135deg, var(--primary-color), var(--medium-blue));
            color: white;
            padding: 10px 14px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: normal;
            line-height: 1.4;
            width: max-content;
            max-width: 250px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            z-index: 1000;
        }

        .term:hover .term-definition {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) scale(1);
        }

        .term-definition::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 6px solid transparent;
            border-top-color: var(--medium-blue);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .progress-indicator {
            display: flex;
            justify-content: space-around;
            margin: 30px 0;
            padding: 20px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .progress-step {
            text-align: center;
            position: relative;
            flex: 1;
        }

        .progress-step .circle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #e0e0e0;
            margin: 0 auto 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .progress-step.completed .circle {
            background: var(--success-color);
            color: white;
        }

        .progress-step.active .circle {
            background: var(--accent-color);
            color: white;
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .hint-button {
            background: var(--warning-color);
            color: black;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-left: 10px;
        }

        .hint-button:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(255,193,7,0.3);
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .input-group {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .input-group label {
                min-width: auto;
            }
            
            .tab-button {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
            
            .comparison-table {
                font-size: 0.9rem;
            }
            
            .comparison-table td, .comparison-table th {
                padding: 10px !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="../../index.html" class="back-to-home">
                â† ãƒãƒ¼ã‚¿ãƒ«ã«æˆ»ã‚‹
            </a>
            <div>
                <h1>âš¡ ã‚ªãƒ¼ãƒ ã®æ³•å‰‡ãƒ»ç›´åˆ—å›è·¯ãƒ»ä¸¦åˆ—å›è·¯</h1>
                <p class="subtitle">ã‚ªãƒ¼ãƒ ã®æ³•å‰‡ãƒ»ç›´åˆ—å›è·¯ãƒ»ä¸¦åˆ—å›è·¯ã‚’è‡ªåˆ†ã§ç™ºè¦‹ã—ã‚ˆã†ï¼</p>
            </div>
        </header>

        <div class="tab-navigation">
            <button class="tab-button active" onclick="switchTab('basic')">åŸºæœ¬å›è·¯</button>
            <button class="tab-button" onclick="switchTab('series')">ç›´åˆ—å›è·¯</button>
            <button class="tab-button" onclick="switchTab('parallel')">ä¸¦åˆ—å›è·¯</button>
            <button class="tab-button" onclick="switchTab('composite')">åˆæˆæŠµæŠ—</button>
            <button class="tab-button" onclick="switchTab('comparison')">æ¯”è¼ƒãƒ»ã¾ã¨ã‚</button>
        </div>

        <!-- åˆæˆæŠµæŠ—ã‚¿ãƒ– -->
        <div id="composite-tab" class="tab-content">
            <div class="card">
                <h2>ğŸ”§ åˆæˆæŠµæŠ—è¨ˆç®—æ©Ÿ</h2>
                
                <div class="theory-box">
                    <h3>ğŸ“š åˆæˆæŠµæŠ—ã¨ã¯ï¼Ÿ</h3>
                    <p>è¤‡æ•°ã®æŠµæŠ—ã‚’çµ„ã¿åˆã‚ã›ãŸã¨ãã®å…¨ä½“ã®æŠµæŠ—å€¤ã‚’<strong>åˆæˆæŠµæŠ—</strong>ã¨å‘¼ã³ã¾ã™ã€‚</p>
                    
                    <div class="formula-display">
                        <div class="sub-formula">ç›´åˆ—å›è·¯ã®åˆæˆæŠµæŠ—</div>
                        <div class="main-formula">R = Râ‚ + Râ‚‚ + Râ‚ƒ + ...</div>
                        <div class="sub-formula">ä¸¦åˆ—å›è·¯ã®åˆæˆæŠµæŠ—</div>
                        <div class="main-formula">1/R = 1/Râ‚ + 1/Râ‚‚ + 1/Râ‚ƒ + ...</div>
                    </div>
                </div>

                <div class="circuit-container">
                    <h3>âš™ï¸ åˆæˆæŠµæŠ—ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</h3>
                    
                    <div class="input-group">
                        <label>å›è·¯ã®ç¨®é¡:</label>
                        <select id="circuit-type" onchange="updateCompositeCircuit()">
                            <option value="series">ç›´åˆ—å›è·¯</option>
                            <option value="parallel">ä¸¦åˆ—å›è·¯</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label>æŠµæŠ—Râ‚ (Î©):</label>
                        <input type="number" id="r1-input" value="100" min="1" max="10000" oninput="updateCompositeCircuit()">
                    </div>
                    
                    <div class="input-group">
                        <label>æŠµæŠ—Râ‚‚ (Î©):</label>
                        <input type="number" id="r2-input" value="200" min="1" max="10000" oninput="updateCompositeCircuit()">
                    </div>
                    
                    <div class="input-group">
                        <label>æŠµæŠ—Râ‚ƒ (Î©):</label>
                        <input type="number" id="r3-input" value="300" min="1" max="10000" oninput="updateCompositeCircuit()">
                    </div>
                    
                    <div class="circuit-container">
                        <svg class="circuit-svg" viewBox="0 0 950 600" style="background: transparent;" id="composite-circuit">
                            <!-- å›è·¯å›³ãŒã“ã“ã«æç”»ã•ã‚Œã¾ã™ -->
                        </svg>
                    </div>
                    
                    <div class="question-box">
                        <h3>ğŸ“Š è¨ˆç®—çµæœ</h3>
                        <div id="composite-result" style="font-size: 1.2rem; font-weight: bold; color: var(--primary-color);">
                            åˆæˆæŠµæŠ—ã‚’è¨ˆç®—ä¸­...
                        </div>
                        
                        <div id="composite-explanation" style="margin-top: 15px; padding: 15px; background: #f8f9fa; border-radius: 10px;">
                            è¨ˆç®—éç¨‹ã®èª¬æ˜ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- æ¯”è¼ƒãƒ»ã¾ã¨ã‚ã‚¿ãƒ– -->
        <div id="comparison-tab" class="tab-content">
            <div class="card" style="max-width: 1000px; margin: 0 auto;">
                <h2>ğŸ“Š å›è·¯ã®ç¨®é¡ã¨ç‰¹å¾´ã®æ¯”è¼ƒ</h2>
                
                <div class="comparison-table" style="overflow-x: auto; margin: 20px 0;">
                    <table style="width: 100%; border-collapse: collapse; background: white; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <thead>
                            <tr style="background: var(--primary-color); color: white;">
                                <th style="padding: 15px; text-align: left;">é …ç›®</th>
                                <th style="padding: 15px; text-align: center;">åŸºæœ¬å›è·¯</th>
                                <th style="padding: 15px; text-align: center;">ç›´åˆ—å›è·¯</th>
                                <th style="padding: 15px; text-align: center;">ä¸¦åˆ—å›è·¯</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="background: #f8f9fa;">
                                <td style="padding: 15px; font-weight: bold;">å›è·¯å›³</td>
                                <td style="padding: 15px; text-align: center;">
                                    <svg width="150" height="100" viewBox="0 0 150 100">
                                        <rect x="10" y="40" width="20" height="20" fill="#333"/>
                                        <circle cx="75" cy="50" r="15" fill="#FFE082"/>
                                        <rect x="120" y="40" width="20" height="20" fill="#4D8BC9"/>
                                        <line x1="30" y1="50" x2="60" y2="50" stroke="black" stroke-width="2"/>
                                        <line x1="90" y1="50" x2="120" y2="50" stroke="black" stroke-width="2"/>
                                    </svg>
                                </td>
                                <td style="padding: 15px; text-align: center;">
                                    <svg width="150" height="100" viewBox="0 0 150 100">
                                        <rect x="10" y="40" width="20" height="20" fill="#333"/>
                                        <circle cx="50" cy="50" r="10" fill="#FFE082"/>
                                        <circle cx="85" cy="50" r="10" fill="#FFE082"/>
                                        <rect x="120" y="40" width="20" height="20" fill="#4D8BC9"/>
                                        <line x1="30" y1="50" x2="40" y2="50" stroke="black" stroke-width="2"/>
                                        <line x1="60" y1="50" x2="75" y2="50" stroke="black" stroke-width="2"/>
                                        <line x1="95" y1="50" x2="120" y2="50" stroke="black" stroke-width="2"/>
                                    </svg>
                                </td>
                                <td style="padding: 15px; text-align: center;">
                                    <svg width="150" height="100" viewBox="0 0 150 100">
                                        <rect x="10" y="40" width="20" height="20" fill="#333"/>
                                        <circle cx="75" cy="30" r="10" fill="#FFE082"/>
                                        <circle cx="75" cy="70" r="10" fill="#FFE082"/>
                                        <rect x="120" y="40" width="20" height="20" fill="#4D8BC9"/>
                                        <line x1="30" y1="50" x2="50" y2="50" stroke="black" stroke-width="2"/>
                                        <line x1="50" y1="50" x2="50" y2="30" stroke="black" stroke-width="2"/>
                                        <line x1="50" y1="50" x2="50" y2="70" stroke="black" stroke-width="2"/>
                                        <line x1="50" y1="30" x2="65" y2="30" stroke="black" stroke-width="2"/>
                                        <line x1="50" y1="70" x2="65" y2="70" stroke="black" stroke-width="2"/>
                                        <line x1="85" y1="30" x2="100" y2="30" stroke="black" stroke-width="2"/>
                                        <line x1="85" y1="70" x2="100" y2="70" stroke="black" stroke-width="2"/>
                                        <line x1="100" y1="30" x2="100" y2="50" stroke="black" stroke-width="2"/>
                                        <line x1="100" y1="70" x2="100" y2="50" stroke="black" stroke-width="2"/>
                                        <line x1="100" y1="50" x2="120" y2="50" stroke="black" stroke-width="2"/>
                                    </svg>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 15px; font-weight: bold;">åˆæˆæŠµæŠ—ã®è¨ˆç®—</td>
                                <td style="padding: 15px; text-align: center;">å˜ä¸€æŠµæŠ—ã®ã¿<br><strong>R = æŠµæŠ—å€¤</strong></td>
                                <td style="padding: 15px; text-align: center; background: #E8F5E9;">
                                    <strong>R = Râ‚ + Râ‚‚ + ...</strong><br>
                                    ä¾‹ï¼š2Î© + 3Î© = 5Î©
                                </td>
                                <td style="padding: 15px; text-align: center; background: #FFF3E0;">
                                    <strong>1/R = 1/Râ‚ + 1/Râ‚‚ + ...</strong><br>
                                    ä¾‹ï¼š(3Ã—3)Ã·(3+3) = 1.5Î©
                                </td>
                            </tr>
                            <tr style="background: #f8f9fa;">
                                <td style="padding: 15px; font-weight: bold;">é›»æµã®ç‰¹å¾´</td>
                                <td style="padding: 15px; text-align: center;">ä¸€å®š</td>
                                <td style="padding: 15px; text-align: center; color: var(--primary-color); font-weight: bold;">ã©ã“ã§ã‚‚åŒã˜</td>
                                <td style="padding: 15px; text-align: center; color: var(--accent-color); font-weight: bold;">åˆ†é…ã•ã‚Œã‚‹</td>
                            </tr>
                            <tr>
                                <td style="padding: 15px; font-weight: bold;">é›»åœ§ã®ç‰¹å¾´</td>
                                <td style="padding: 15px; text-align: center;">é›»æºé›»åœ§ã¨åŒã˜</td>
                                <td style="padding: 15px; text-align: center; color: var(--accent-color); font-weight: bold;">åˆ†é…ã•ã‚Œã‚‹</td>
                                <td style="padding: 15px; text-align: center; color: var(--primary-color); font-weight: bold;">ã©ã“ã§ã‚‚åŒã˜</td>
                            </tr>
                            <tr style="background: #f8f9fa;">
                                <td style="padding: 15px; font-weight: bold;">å®Ÿä¾‹</td>
                                <td style="padding: 15px;">å˜ç´”ãªæ‡ä¸­é›»ç¯</td>
                                <td style="padding: 15px;">ã‚¯ãƒªã‚¹ãƒã‚¹ãƒ„ãƒªãƒ¼ã®é›»çƒ<br>ï¼ˆ1ã¤åˆ‡ã‚Œã‚‹ã¨å…¨éƒ¨æ¶ˆãˆã‚‹ï¼‰</td>
                                <td style="padding: 15px;">å®¶åº­ã®ã‚³ãƒ³ã‚»ãƒ³ãƒˆ<br>ï¼ˆè¤‡æ•°ã®å®¶é›»ã‚’åŒæ™‚ä½¿ç”¨ï¼‰</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="theory-box" style="margin-top: 30px;">
                    <h3>ğŸ“ é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
                        <div>
                            <h4 style="color: var(--primary-color);">ç›´åˆ—å›è·¯</h4>
                            <ul>
                                <li>æŠµæŠ—ã‚’å¢—ã‚„ã™ã¨å…¨ä½“ã®æŠµæŠ—ãŒ<strong>å¢—ãˆã‚‹</strong></li>
                                <li>é›»æµã¯<strong>æ¸›ã‚‹</strong></li>
                                <li>1ã¤ã®éƒ¨å“ãŒå£Šã‚Œã‚‹ã¨<strong>å…¨ä½“ãŒå‹•ã‹ãªã„</strong></li>
                            </ul>
                        </div>
                        <div>
                            <h4 style="color: var(--accent-color);">ä¸¦åˆ—å›è·¯</h4>
                            <ul>
                                <li>æŠµæŠ—ã‚’å¢—ã‚„ã™ã¨å…¨ä½“ã®æŠµæŠ—ãŒ<strong>æ¸›ã‚‹</strong></li>
                                <li>ç·é›»æµã¯<strong>å¢—ãˆã‚‹</strong></li>
                                <li>1ã¤ã®éƒ¨å“ãŒå£Šã‚Œã¦ã‚‚<strong>ä»–ã¯å‹•ã</strong></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="formula-display" style="margin-top: 30px;">
                    <h3 style="color: var(--primary-color); margin-bottom: 20px;">ğŸ”§ å®Ÿç”¨çš„ãªä½¿ã„åˆ†ã‘</h3>
                    <div style="text-align: left; padding: 0 20px;">
                        <p><strong>ç›´åˆ—å›è·¯ãŒé©ã—ã¦ã„ã‚‹å ´åˆï¼š</strong></p>
                        <ul style="margin-bottom: 20px;">
                            <li>é›»åœ§ã‚’åˆ†é…ã—ãŸã„ã¨ãï¼ˆé›»åœ§åˆ†å‰²å›è·¯ï¼‰</li>
                            <li>é›»æµã‚’åˆ¶é™ã—ãŸã„ã¨ãï¼ˆä¿è­·æŠµæŠ—ï¼‰</li>
                            <li>ã™ã¹ã¦ã®éƒ¨å“ã‚’åŒæ™‚ã«åˆ¶å¾¡ã—ãŸã„ã¨ã</li>
                        </ul>
                        
                        <p><strong>ä¸¦åˆ—å›è·¯ãŒé©ã—ã¦ã„ã‚‹å ´åˆï¼š</strong></p>
                        <ul>
                            <li>è¤‡æ•°ã®æ©Ÿå™¨ã‚’ç‹¬ç«‹ã—ã¦ä½¿ã„ãŸã„ã¨ãï¼ˆå®¶åº­ã®é…ç·šï¼‰</li>
                            <li>åŒã˜é›»åœ§ã‚’å„éƒ¨å“ã«ä¾›çµ¦ã—ãŸã„ã¨ã</li>
                            <li>æ•…éšœã«å¼·ã„å›è·¯ã«ã—ãŸã„ã¨ã</li>
                        </ul>
                    </div>
                </div>

                <div class="question-box" style="margin-top: 30px;">
                    <h3>ğŸ¯ ç·åˆå•é¡Œ</h3>
                    <p>3ã¤ã®åŒã˜é›»çƒï¼ˆå„3Î©ï¼‰ã‚’ä½¿ã£ã¦ã€æœ€ã‚‚æ˜ã‚‹ãå…‰ã‚‰ã›ã‚‹ã«ã¯ã©ã†æ¥ç¶šã™ã‚Œã°ã‚ˆã„ã§ã—ã‚‡ã†ã‹ï¼Ÿ</p>
                    
                    <div style="margin: 20px 0;">
                        <label style="display: block; margin: 10px 0;">
                            <input type="radio" name="final-answer" value="series"> ã™ã¹ã¦ç›´åˆ—ã«æ¥ç¶š
                        </label>
                        <label style="display: block; margin: 10px 0;">
                            <input type="radio" name="final-answer" value="parallel"> ã™ã¹ã¦ä¸¦åˆ—ã«æ¥ç¶š
                        </label>
                        <label style="display: block; margin: 10px 0;">
                            <input type="radio" name="final-answer" value="mixed"> 2ã¤ç›´åˆ—ï¼‹1ã¤ä¸¦åˆ—
                        </label>
                        <button class="check-button" onclick="checkFinalAnswer()">ç¢ºèª</button>
                    </div>

                    <div id="final-feedback" class="feedback"></div>
                </div>
            </div>
        </div>

        <!-- åŸºæœ¬å›è·¯ã‚¿ãƒ– -->
        <div id="basic-tab" class="tab-content active">

        <div class="progress-indicator">
            <div class="progress-step active" id="step1">
                <div class="circle">1</div>
                <div>å›è·¯ã‚’è¦³å¯Ÿ</div>
            </div>
            <div class="progress-step" id="step2">
                <div class="circle">2</div>
                <div>å€¤ã‚’è¨ˆç®—</div>
            </div>
            <div class="progress-step" id="step3">
                <div class="circle">3</div>
                <div>æ³•å‰‡ã‚’ç†è§£</div>
            </div>
        </div>

        <div class="main-content">
            <div class="card">
                <h2>ğŸ”¬ å®Ÿé¨“å›è·¯</h2>
                
                <div class="circuit-container">
                    <svg class="circuit-svg" viewBox="0 0 950 600" style="background: transparent;">
                        <!-- ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®šç¾©ï¼ˆæ—¢å­˜ã®ã‚‚ã®ã‚’ä½¿ç”¨ï¼‰ -->
                        <defs>
                            <!-- é›»æ± ç”¨ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ -->
                            <linearGradient id="basic_batt_goldMetalGradient" x1="0.5" y1="0" x2="0.5" y2="1">
                                <stop offset="0%" stop-color="#F0E68C"/> <stop offset="15%" stop-color="#D4AF37"/> <stop offset="50%" stop-color="#B8860B"/> <stop offset="85%" stop-color="#D4AF37"/> <stop offset="100%" stop-color="#F0E68C"/>
                            </linearGradient>
                            <linearGradient id="basic_batt_goldHighlight" x1="0.5" y1="0" x2="0.5" y2="1">
                                <stop offset="0%" stop-color="white" stop-opacity="0.5"/> <stop offset="100%" stop-color="white" stop-opacity="0"/>
                            </linearGradient>
                            <linearGradient id="basic_batt_mainBlueGradient" x1="0.5" y1="0" x2="0.5" y2="1">
                                <stop offset="0%" stop-color="#002855"/> <stop offset="100%" stop-color="#003366"/>
                            </linearGradient>
                            <linearGradient id="basic_batt_centerBlueBeam" x1="0.5" y1="0" x2="0.5" y2="1">
                                <stop offset="0%" stop-color="#6CB4EE"/> <stop offset="50%" stop-color="#1E90FF"/> <stop offset="100%" stop-color="#4682B4"/>
                            </linearGradient>
                            <linearGradient id="basic_batt_blueBeamSideFade" x1="0" y1="0.5" x2="1" y2="0.5">
                                <stop offset="0%" stop-color="#003366" stop-opacity="1"/> <stop offset="15%" stop-color="#1E90FF" stop-opacity="0.8"/> <stop offset="50%" stop-color="#1E90FF" stop-opacity="1"/> <stop offset="85%" stop-color="#1E90FF" stop-opacity="0.8"/> <stop offset="100%" stop-color="#003366" stop-opacity="1"/>
                            </linearGradient>
                            <linearGradient id="basic_batt_simpleTerminalGradient" x1="0.5" y1="0" x2="0.5" y2="1">
                                <stop offset="0%" stop-color="#E0E0E0"/> <stop offset="50%" stop-color="#BDBDBD"/> <stop offset="100%" stop-color="#D0D0D0"/>
                            </linearGradient>
                            <linearGradient id="basic_batt_batterySideShine" x1="0.5" y1="0" x2="0.5" y2="1">
                                <stop offset="0%" stop-color="white" stop-opacity="0.35"/> <stop offset="50%" stop-color="white" stop-opacity="0.1"/> <stop offset="100%" stop-color="white" stop-opacity="0.35"/>
                            </linearGradient>

                            <!-- é›»çƒç”¨ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ -->
                            <radialGradient id="basic_bulb_glassShineIconYellow" cx="40%" cy="30%" r="70%" fx="30%" fy="25%">
                                <stop offset="0%" style="stop-color:white; stop-opacity:0.3"/> <stop offset="100%" style="stop-color:rgba(255,235,59,0.03);"/>
                            </radialGradient>
                            <linearGradient id="basic_bulb_metalShine" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:#E8E8E8;"/> <stop offset="30%" style="stop-color:#C0C0C0;"/> <stop offset="70%" style="stop-color:#C0C0C0;"/> <stop offset="100%" style="stop-color:#E8E8E8;"/>
                            </linearGradient>
                            <radialGradient id="basic_bulb_bulbInnerGlowIconYellow" cx="50" cy="55" r="32" gradientUnits="userSpaceOnUse">
                                <stop offset="0%" style="stop-color:rgba(255, 235, 59, 1.0);"/> <stop offset="25%" style="stop-color:rgba(255, 238, 100, 0.9);"/> <stop offset="60%" style="stop-color:rgba(255, 242, 140, 0.5);"/> <stop offset="100%" style="stop-color:rgba(255, 245, 170, 0.1);"/>
                            </radialGradient>
                            <filter id="basic_bulb_filamentGlowEffectIconYellow" x="-75%" y="-75%" width="250%" height="250%">
                                <feGaussianBlur in="SourceAlpha" stdDeviation="1.8" result="blur"/> <feFlood flood-color="#FFEB3B" flood-opacity="0.9" result="glowColor"/> <feComposite in="glowColor" in2="blur" operator="in" result="coloredBlur"/>
                                <feMerge> <feMergeNode in="coloredBlur"/> <feMergeNode in="SourceGraphic"/> </feMerge>
                            </filter>

                            <!-- ãƒãƒ«ãƒãƒ¡ãƒ¼ã‚¿ãƒ¼ç”¨ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ -->
                            <linearGradient id="basic_meter_bodyGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#4A4A4A;stop-opacity:1" /> <stop offset="100%" style="stop-color:#303030;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="basic_meter_buttonGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#606060;stop-opacity:1" /> <stop offset="100%" style="stop-color:#454545;stop-opacity:1" />
                            </linearGradient>
                            <radialGradient id="basic_meter_rotaryGradient" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">
                                <stop offset="0%" style="stop-color:#505050;stop-opacity:1" /> <stop offset="100%" style="stop-color:#383838;stop-opacity:1" />
                            </radialGradient>
                            <linearGradient id="basic_meter_knobGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:#2A2A2A;"/> <stop offset="50%" style="stop-color:#1A1A1A;"/> <stop offset="100%" style="stop-color:#2A2A2A;"/>
                            </linearGradient>
                            <linearGradient id="basic_meter_probeHandleBlack" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:#282828;"/> <stop offset="50%" style="stop-color:#101010;"/> <stop offset="100%" style="stop-color:#282828;"/>
                            </linearGradient>
                            <linearGradient id="basic_meter_probeHandleRed" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:#D00000;"/> <stop offset="50%" style="stop-color:#A00000;"/> <stop offset="100%" style="stop-color:#D00000;"/>
                            </linearGradient>
                            <linearGradient id="basic_meter_metalTipGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:#E0E0E0" /> <stop offset="50%" style="stop-color:#B0B0B0" /> <stop offset="100%" style="stop-color:#E0E0E0" />
                            </linearGradient>
                            <filter id="basic_meter_dropShadow" x="-20%" y="-20%" width="140%" height="140%">
                                <feGaussianBlur in="SourceAlpha" stdDeviation="1.5"/> <feOffset dx="1" dy="1" result="offsetblur"/> <feFlood flood-color="rgba(0,0,0,0.3)"/> <feComposite in2="offsetblur" operator="in"/>
                                <feMerge> <feMergeNode/> <feMergeNode in="SourceGraphic"/> </feMerge>
                            </filter>
                            <linearGradient id="basic_meter_glassReflection" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:rgba(255,255,255,0.2); stop-opacity:1" /> <stop offset="40%" style="stop-color:rgba(255,255,255,0.05); stop-opacity:1" /> <stop offset="100%" style="stop-color:rgba(255,255,255,0); stop-opacity:1" />
                            </linearGradient>
                        </defs>

                        <!-- é›»æ±  -->
                        <g id="battery_component" transform="translate(50, 420) scale(1.3)">
                            <rect x="9" y="19" width="82" height="127" rx="3" ry="3" fill="#333333"/>
                            <rect x="10" y="20" width="80" height="15" fill="url(#basic_batt_goldMetalGradient)" rx="2" ry="2"/>
                            <rect x="10" y="20" width="80" height="3" fill="url(#basic_batt_goldHighlight)" rx="2" ry="2"/>
                            <rect x="10" y="35" width="80" height="95" fill="url(#basic_batt_mainBlueGradient)"/>
                            <rect x="28" y="35" width="44" height="95" fill="url(#basic_batt_blueBeamSideFade)"/>
                            <rect x="35" y="35" width="30" height="95" fill="url(#basic_batt_centerBlueBeam)"/>
                            <path d="M10,130 L10,118 C30,128 70,128 90,118 L90,130 Z" fill="url(#basic_batt_goldMetalGradient)"/>
                            <path d="M10,118 C30,128 70,128 90,118 L90,120 C70,130 30,130 10,120 Z" fill="url(#basic_batt_goldHighlight)" fill-opacity="0.7"/>
                            <rect x="10.2" y="20.2" width="1.2" height="109.6" fill="url(#basic_batt_batterySideShine)" rx="1" ry="1"/>
                            <rect x="88.6" y="20.2" width="1.2" height="109.6" fill="url(#basic_batt_batterySideShine)" rx="1" ry="1"/>
                            <rect id="battery_left_terminal_rect" x="30" y="10" width="10" height="10" fill="url(#basic_batt_simpleTerminalGradient)" rx="1" ry="1"/>
                            <rect id="battery_right_terminal_rect" x="60" y="10" width="10" height="10" fill="url(#basic_batt_simpleTerminalGradient)" rx="1" ry="1"/>
                            <g transform="translate(22.5, 27.5)"> <circle cx="0" cy="0" r="5" fill="white"/> <rect x="-2.5" y="-0.8" width="5" height="1.6" fill="#003366"/> </g>
                            <g transform="translate(77.5, 27.5)"> <circle cx="0" cy="0" r="5" fill="white"/> <path d="M-2.5,0 H2.5 M0,-2.5 V2.5" stroke="#003366" stroke-width="1.5" stroke-linecap="round"/> </g>
                            <text x="50" y="82" fill="white" font-family="'Impact', 'Arial Black', sans-serif" font-size="18" transform="rotate(-90, 50, 82)" text-anchor="middle" letter-spacing="0.5">VOLTMAX</text>
                            <text x="50.5" y="82.5" fill="#002244" fill-opacity="0.5" font-family="'Impact', 'Arial Black', sans-serif" font-size="18" transform="rotate(-90, 50.5, 82.5)" text-anchor="middle" letter-spacing="0.5">VOLTMAX</text>
                            <text x="50" y="125.5" fill="#002855" font-family="Arial, sans-serif" font-size="7" text-anchor="middle" font-weight="bold" id="voltage-display">12V</text>
                        </g>

                        <!-- é›»çƒï¼ˆæŠµæŠ—ï¼‰ -->
                        <g id="lightbulb_component" transform="translate(150, 50) scale(1)">
                            <g id="bulb_lightbulb-on-icon-yellow">
                                <g id="bulb_cap">
                                    <rect x="36" y="98" width="28" height="32" fill="url(#basic_bulb_metalShine)" stroke="#777" stroke-width="0.5"/>
                                    <line x1="36" y1="103" x2="64" y2="103" stroke="#999" stroke-width="1.2"/> <line x1="36" y1="108" x2="64" y2="108" stroke="#999" stroke-width="1.2"/>
                                    <line x1="36" y1="113" x2="64" y2="113" stroke="#999" stroke-width="1.2"/> <line x1="36" y1="118" x2="64" y2="118" stroke="#999" stroke-width="1.2"/>
                                    <ellipse id="bulb_bottom_contact" cx="50" cy="130" rx="7" ry="2" fill="#444" />
                                </g>
                                <circle cx="50" cy="55" r="30" fill="url(#basic_bulb_bulbInnerGlowIconYellow)" opacity="1.0" id="bulb-glow"/>
                                <path id="bulb_glass-bulb-shape-on-icon-yellow" d="M 50 5 C 18 5, 8 30, 12 55 C 16 80, 28 100, 36 100 L 64 100 C 72 100, 84 80, 88 55 C 92 30, 82 5, 50 5 Z" fill="rgba(255, 248, 210, 0.3)" stroke="rgba(220, 195, 140, 0.6)" stroke-width="1"/>
                                <g id="bulb_filament-assembly-on-icon-yellow" stroke-width="1">
                                    <path d="M 46 98 Q 50 90, 54 98 L 50 72 Z" fill="rgba(240,235,210,0.2)" stroke="#B0C0C0"/>
                                    <line x1="50" y1="72" x2="44" y2="60" stroke="#888"/> <line x1="50" y1="72" x2="56" y2="60" stroke="#888"/>
                                    <line x1="44" y1="60" x2="44" y2="52" stroke="#888"/> <line x1="56" y1="60" x2="56" y2="52" stroke="#888"/>
                                    <g filter="url(#basic_bulb_filamentGlowEffectIconYellow)">
                                        <path d="M 44 52 C 46 47, 54 47, 56 52" stroke="#FFFAAA" stroke-width="2.5" fill="none" stroke-linecap="round"/>
                                        <path d="M 45 55 C 47 50, 53 50, 55 55" stroke="#FFFAAA" stroke-width="2.5" fill="none" stroke-linecap="round"/>
                                    </g>
                                </g>
                                <path id="bulb_glass-highlight-on-icon-yellow" d="M 50 5 C 18 5, 8 30, 12 55 C 16 80, 28 100, 36 100 L 64 100 C 72 100, 84 80, 88 55 C 92 30, 82 5, 50 5 Z" fill="url(#basic_bulb_glassShineIconYellow)" opacity="0.7"/>
                            </g>
                        </g>
                        <text x="200" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" fill="white" font-weight="bold" id="resistance-display">2Î©</text>

                        <!-- é›»çƒ2 -->
                        <g id="lightbulb_component_2" transform="translate(300, 50) scale(1)">
                            <g id="bulb_lightbulb-on-icon-yellow_2">
                                <g id="bulb_cap_2">
                                    <rect x="36" y="98" width="28" height="32" fill="url(#basic_bulb_metalShine)" stroke="#777" stroke-width="0.5"/>
                                    <line x1="36" y1="103" x2="64" y2="103" stroke="#999" stroke-width="1.2"/> <line x1="36" y1="108" x2="64" y2="108" stroke="#999" stroke-width="1.2"/>
                                    <line x1="36" y1="113" x2="64" y2="113" stroke="#999" stroke-width="1.2"/> <line x1="36" y1="118" x2="64" y2="118" stroke="#999" stroke-width="1.2"/>
                                    <ellipse id="bulb_bottom_contact_2" cx="50" cy="130" rx="7" ry="2" fill="#444" />
                                </g>
                                <circle cx="50" cy="55" r="30" fill="url(#basic_bulb_bulbInnerGlowIconYellow)" opacity="1.0" id="bulb-glow_2"/>
                                <path id="bulb_glass-bulb-shape-on-icon-yellow_2" d="M 50 5 C 18 5, 8 30, 12 55 C 16 80, 28 100, 36 100 L 64 100 C 72 100, 84 80, 88 55 C 92 30, 82 5, 50 5 Z" fill="rgba(255, 248, 210, 0.3)" stroke="rgba(220, 195, 140, 0.6)" stroke-width="1"/>
                                <g id="bulb_filament-assembly-on-icon-yellow_2" stroke-width="1">
                                    <path d="M 46 98 Q 50 90, 54 98 L 50 72 Z" fill="rgba(240,235,210,0.2)" stroke="#B0C0C0"/>
                                    <line x1="50" y1="72" x2="44" y2="60" stroke="#888"/> <line x1="50" y1="72" x2="56" y2="60" stroke="#888"/>
                                    <line x1="44" y1="60" x2="44" y2="52" stroke="#888"/> <line x1="56" y1="60" x2="56" y2="52" stroke="#888"/>
                                    <g filter="url(#basic_bulb_filamentGlowEffectIconYellow)">
                                        <path d="M 44 52 C 46 47, 54 47, 56 52" stroke="#FFFAAA" stroke-width="2.5" fill="none" stroke-linecap="round"/>
                                        <path d="M 45 55 C 47 50, 53 50, 55 55" stroke="#FFFAAA" stroke-width="2.5" fill="none" stroke-linecap="round"/>
                                    </g>
                                </g>
                                <path id="bulb_glass-highlight-on-icon-yellow_2" d="M 50 5 C 18 5, 8 30, 12 55 C 16 80, 28 100, 36 100 L 64 100 C 72 100, 84 80, 88 55 C 92 30, 82 5, 50 5 Z" fill="url(#basic_bulb_glassShineIconYellow)" opacity="0.7"/>
                            </g>
                        </g>
                        <text x="350" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" fill="white" font-weight="bold">3Î©</text>

                        <!-- ãƒãƒ«ãƒãƒ¡ãƒ¼ã‚¿ãƒ¼ -->
                        <g id="multimeter_component" transform="translate(450, 150) scale(0.6) rotate(30 125 200)">
                            <rect x="50" y="10" width="120" height="260" rx="10" ry="10" fill="url(#basic_meter_bodyGradient)" filter="url(#basic_meter_dropShadow)"/>
                            <rect x="52" y="12" width="116" height="256" rx="8" ry="8" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="1"/>
                            <rect x="65" y="30" width="90" height="50" fill="#8AB830" rx="3" ry="3"/>
                            <rect x="66" y="31" width="88" height="48" fill="none" stroke="rgba(0,0,0,0.2)" stroke-width="1" rx="2" ry="2"/>
                            <text x="110" y="63" font-family="Consolas, 'Courier New', monospace" font-size="28" fill="#202020" text-anchor="middle" font-weight="bold" id="current-display">2.4A</text>
                            <rect x="65" y="30" width="90" height="50" fill="url(#basic_meter_glassReflection)" rx="3" ry="3"/>
                            <g filter="url(#basic_meter_dropShadow)">
                                <rect x="65" y="90" width="20" height="12" rx="2" ry="2" fill="url(#basic_meter_buttonGradient)"/> <rect x="88" y="90" width="20" height="12" rx="2" ry="2" fill="url(#basic_meter_buttonGradient)"/>
                                <rect x="111" y="90" width="20" height="12" rx="2" ry="2" fill="url(#basic_meter_buttonGradient)"/> <rect x="134" y="90" width="20" height="12" rx="2" ry="2" fill="url(#basic_meter_buttonGradient)"/>
                                <rect x="75" y="107" width="28" height="12" rx="2" ry="2" fill="url(#basic_meter_buttonGradient)"/> <rect x="117" y="107" width="28" height="12" rx="2" ry="2" fill="url(#basic_meter_buttonGradient)"/>
                            </g>
                            <circle cx="110" cy="170" r="40" fill="url(#basic_meter_rotaryGradient)" filter="url(#basic_meter_dropShadow)"/>
                            <g stroke="#888888" stroke-width="1.5" stroke-linecap="round">
                                <line x1="110" y1="133" x2="110" y2="128" transform="rotate(0 110 170)"/> <line x1="110" y1="133" x2="110" y2="128" transform="rotate(30 110 170)"/>
                                <line x1="110" y1="133" x2="110" y2="128" transform="rotate(60 110 170)"/> <line x1="110" y1="133" x2="110" y2="128" transform="rotate(90 110 170)"/>
                                <line x1="110" y1="133" x2="110" y2="128" transform="rotate(120 110 170)"/> <line x1="110" y1="133" x2="110" y2="128" transform="rotate(150 110 170)"/>
                                <line x1="110" y1="133" x2="110" y2="128" transform="rotate(180 110 170)"/> <line x1="110" y1="133" x2="110" y2="128" transform="rotate(210 110 170)"/>
                                <line x1="110" y1="133" x2="110" y2="128" transform="rotate(240 110 170)"/> <line x1="110" y1="133" x2="110" y2="128" transform="rotate(270 110 170)"/>
                                <line x1="110" y1="133" x2="110" y2="128" transform="rotate(300 110 170)"/> <line x1="110" y1="133" x2="110" y2="128" transform="rotate(330 110 170)"/>
                            </g>
                            <rect x="102" y="138" width="16" height="32" rx="3" ry="3" fill="url(#basic_meter_knobGradient)" transform="rotate(45 110 170)" stroke="#101010" stroke-width="0.5"/>
                            <rect x="108" y="140" width="4" height="8" fill="#606060" transform="rotate(45 110 170)" rx="1" ry="1"/>
                            <circle cx="110" cy="230" r="8" fill="url(#basic_meter_buttonGradient)" filter="url(#basic_meter_dropShadow)"/>
                            <circle cx="85" cy="255" r="8" fill="#1A1A1A"/> <circle cx="85" cy="255" r="6" fill="#303030"/> <circle cx="85" cy="255" r="3" fill="#101010"/>
                            <circle cx="135" cy="255" r="8" fill="red"/> <circle cx="135" cy="255" r="6" fill="#FF5050"/> <circle cx="135" cy="255" r="3" fill="#B00000"/>
                            <g id="meter_black-probe-assembly">
                                <path d="M 85 263 Q 60 300 75 370" stroke="#252525" stroke-width="4.5" fill="none" stroke-linecap="round"/>
                                <g transform="rotate(-15 75 370)">
                                    <rect x="70" y="320" width="10" height="50" rx="3" ry="3" fill="url(#basic_meter_probeHandleBlack)"/>
                                    <rect x="71" y="300" width="8" height="20" fill="url(#basic_meter_metalTipGradient)"/>
                                    <polygon id="meter_black_probe_tip_polygon" points="71,300 79,300 75,290" fill="url(#basic_meter_metalTipGradient)"/>
                                </g>
                            </g>
                            <g id="meter_red-probe-assembly">
                                <path d="M 135 263 Q 160 300 145 370" stroke="#252525" stroke-width="4.5" fill="none" stroke-linecap="round"/>
                                <g transform="rotate(15 145 370)">
                                    <rect x="140" y="320" width="10" height="50" rx="3" ry="3" fill="url(#basic_meter_probeHandleRed)"/>
                                    <rect x="141" y="300" width="8" height="20" fill="url(#basic_meter_metalTipGradient)"/>
                                    <polygon id="meter_red_probe_tip_polygon" points="141,300 149,300 145,290" fill="url(#basic_meter_metalTipGradient)"/>
                                </g>
                            </g>
                        </g>

                        <!-- ã‚ªãƒ¼ãƒ ã®æ³•å‰‡å›³ -->
                        <g id="ohmslaw_diagram_component" transform="translate(710, 50) scale(0.6)">
                            <style> .ohm_circle-bg { fill: #005BAB; stroke: #FF961C; stroke-width: 2; } .ohm_divider-line { stroke: #FF961C; stroke-width: 2; } .ohm_label { font-family: Arial, sans-serif; font-size: 36px; font-weight: bold; text-anchor: middle; dominant-baseline: middle; fill: #FF961C; } </style>
                            <circle cx="100" cy="100" r="80" class="ohm_circle-bg"/>
                            <line x1="20" y1="100" x2="180" y2="100" class="ohm_divider-line"/>
                            <line x1="100" y1="100" x2="100" y2="180" class="ohm_divider-line"/>
                            <text x="100" y="65" class="ohm_label">V</text>
                            <text x="60" y="140" class="ohm_label">I</text>
                            <text x="140" y="140" class="ohm_label">R</text>
                        </g>

                        <!-- Ohm's Law Calculations -->
                        <g id="ohmslaw_calculations" font-family="Arial, sans-serif" font-size="20" text-anchor="middle" dominant-baseline="middle">
                            <text x="770" y="182.5" fill="black" font-weight="bold">I = V / R</text>
                            <text x="770" y="212.5" fill="black" font-weight="bold">I = 12V / (2Î© + 3Î©)</text>
                            <text x="770" y="242.5" fill="black" font-weight="bold">I = 2.4A</text>
                        </g>

                        <!-- é…ç·š -->
                        <g id="wires" stroke-width="3" fill="none">
                            <!-- 1. é›»æ± å·¦å´ã‹ã‚‰é›»çƒ1åº•éƒ¨ã¸ -->
                            <path d="M 95.5 433 V 180 H 200" stroke="black" class="current-flow"/>
                            <!-- 2. é›»çƒ1ã‹ã‚‰é›»çƒ2ã¸ã®ç›´åˆ—æ¥ç¶š -->
                            <path d="M 200 180 H 350 V 180" stroke="black" class="current-flow"/>
                            <!-- 3. é›»çƒ2ã‹ã‚‰ãƒãƒ«ãƒãƒ¡ãƒ¼ã‚¿ãƒ¼èµ¤ãƒ—ãƒ­ãƒ¼ãƒ–ã¸ -->
                            <path d="M 350 180 H 448.0 V 345.1" stroke="black" class="current-flow"/>
                            <!-- 4. ãƒãƒ«ãƒãƒ¡ãƒ¼ã‚¿ãƒ¼é»’ãƒ—ãƒ­ãƒ¼ãƒ–ã‹ã‚‰é›»æ± å³å´ã¸ -->
                            <path d="M 485 364 V 403 H 134 V 435" stroke="black" class="current-flow"/>
                        </g>

                        <!-- é›»å­ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ -->
                        <g id="electrons">
                            <!-- é›»å­ã¯å¾Œã§JavaScriptã§å‹•çš„ã«è¿½åŠ  -->
                        </g>

                        <!-- é›»å­ã®çµŒè·¯ï¼ˆéè¡¨ç¤ºï¼‰ -->
                        <path id="electron-path" d="M 95.5 433 V 180 H 200 H 350 V 180 H 448.0 V 345.1 L 485,364 V 403 H 134 V 435" fill="none"/>
                    </svg>
                </div>

                <div class="current-speed-control">
                    <h3>âš¡ é›»æµã®é€Ÿã•ï¼ˆè¦–è¦šåŒ–ç”¨ï¼‰</h3>
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>é›»å­ã®å‹•ãï¼š</span>
                            <span id="speed-display">é€šå¸¸</span>
                        </div>
                        <input type="range" class="slider" id="speed-slider" min="0.5" max="5" value="2" step="0.5">
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>ğŸ“ å•é¡Œã«æŒ‘æˆ¦ï¼</h2>

                <div class="theory-box">
                    <h3>ğŸ” å›è·¯ã‚’è¦³å¯Ÿã—ã¦ã¿ã‚ˆã†</h3>
                    <p>å·¦ã®å›è·¯ã«ã¯ä»¥ä¸‹ã®è¦ç´ ãŒã‚ã‚Šã¾ã™ï¼š</p>
                    <ul>
                        <li>ğŸ“¦ <strong>é›»æ± ï¼ˆé›»æºï¼‰</strong>ï¼š12V ã®<span class="term">é›»åœ§<span class="term-definition">é›»æ°—ã‚’æµã™åŠ›ã®å¼·ã•ã€‚å˜ä½ã¯Vï¼ˆãƒœãƒ«ãƒˆï¼‰</span></span>ã‚’ä¾›çµ¦</li>
                        <li>ğŸ’¡ <strong>é›»çƒ1ï¼ˆæŠµæŠ—ï¼‰</strong>ï¼š2Î© ã®<span class="term">æŠµæŠ—å€¤<span class="term-definition">é›»æµã®æµã‚Œã«ãã•ã€‚å˜ä½ã¯Î©ï¼ˆã‚ªãƒ¼ãƒ ï¼‰</span></span></li>
                        <li>ğŸ’¡ <strong>é›»çƒ2ï¼ˆæŠµæŠ—ï¼‰</strong>ï¼š3Î© ã®<span class="term">æŠµæŠ—å€¤<span class="term-definition">é›»æµã®æµã‚Œã«ãã•ã€‚å˜ä½ã¯Î©ï¼ˆã‚ªãƒ¼ãƒ ï¼‰</span></span></li>
                        <li>ğŸ“Š <strong>é›»æµè¨ˆ</strong>ï¼šæµã‚Œã‚‹<span class="term">é›»æµ<span class="term-definition">é›»æ°—ã®æµã‚Œã‚‹é‡ã€‚å˜ä½ã¯Aï¼ˆã‚¢ãƒ³ãƒšã‚¢ï¼‰</span></span>ã‚’æ¸¬å®šï¼ˆå€¤ã¯ï¼Ÿï¼‰</li>
                    </ul>
                </div>

                <div class="question-box">
                    <h3>â“ å•é¡Œ1ï¼šé›»æµã®å€¤ã‚’æ±‚ã‚ã‚ˆã†</h3>
                    <p>é›»åœ§ãŒ <strong>12V</strong>ã€åˆæˆæŠµæŠ—ãŒ <strong>5Î©</strong>ï¼ˆ2Î© + 3Î©ï¼‰ã®ã¨ãã€æµã‚Œã‚‹é›»æµã¯ä½•ã‚¢ãƒ³ãƒšã‚¢ã§ã—ã‚‡ã†ã‹ï¼Ÿ</p>
                    
                    <div class="formula-display">
                        <div class="main-formula">V = I Ã— R</div>
                        <div class="sub-formula">é›»åœ§ = é›»æµ Ã— æŠµæŠ—</div>
                    </div>

                    <div class="input-group">
                        <label>é›»æµ (I)ï¼š</label>
                        <input type="number" id="current-answer" placeholder="ï¼Ÿ" step="0.1">
                        <span>Aï¼ˆã‚¢ãƒ³ãƒšã‚¢ï¼‰</span>
                        <button class="check-button" onclick="checkAnswer('current')">ç¢ºèª</button>
                        <button class="hint-button" onclick="showHint('current')">ğŸ’¡ ãƒ’ãƒ³ãƒˆ</button>
                    </div>

                    <div id="current-feedback" class="feedback"></div>
                </div>

                <div class="question-box" id="question2" style="display: none;">
                    <h3>â“ å•é¡Œ2ï¼šåˆ¥ã®æ¡ä»¶ã§è€ƒãˆã¦ã¿ã‚ˆã†</h3>
                    <p>ã‚‚ã—é›»åœ§ã‚’ <strong>12V</strong> ã«å¤‰ãˆãŸã‚‰ã€é›»æµã¯ã©ã†ãªã‚‹ã§ã—ã‚‡ã†ã‹ï¼Ÿ</p>
                    
                    <div class="input-group">
                        <label>é›»æµ (I)ï¼š</label>
                        <input type="number" id="current-answer2" placeholder="ï¼Ÿ" step="0.1">
                        <span>Aï¼ˆã‚¢ãƒ³ãƒšã‚¢ï¼‰</span>
                        <button class="check-button" onclick="checkAnswer('current2')">ç¢ºèª</button>
                        <button class="hint-button" onclick="showHint('current2')">ğŸ’¡ ãƒ’ãƒ³ãƒˆ</button>
                    </div>

                    <div id="current2-feedback" class="feedback"></div>
                </div>

                <div class="question-box" id="question3" style="display: none;">
                    <h3>â“ å•é¡Œ3ï¼šæ³•å‰‡ã‚’ç†è§£ã—ã‚ˆã†</h3>
                    <p>ã“ã‚Œã¾ã§ã®è¨ˆç®—ã‹ã‚‰ã€ã©ã‚“ãªé–¢ä¿‚ãŒè¦‹ãˆã¦ãã¾ã—ãŸã‹ï¼Ÿ</p>
                    
                    <div style="margin: 20px 0;">
                        <p><strong>é¸æŠã—ã¦ãã ã•ã„ï¼š</strong></p>
                        <label style="display: block; margin: 10px 0;">
                            <input type="radio" name="relationship" value="1"> é›»åœ§ãŒå¤§ãããªã‚‹ã¨ã€é›»æµã¯å°ã•ããªã‚‹
                        </label>
                        <label style="display: block; margin: 10px 0;">
                            <input type="radio" name="relationship" value="2"> é›»åœ§ãŒå¤§ãããªã‚‹ã¨ã€é›»æµã‚‚å¤§ãããªã‚‹
                        </label>
                        <label style="display: block; margin: 10px 0;">
                            <input type="radio" name="relationship" value="3"> é›»åœ§ã¨é›»æµã¯é–¢ä¿‚ãªã„
                        </label>
                        <button class="check-button" onclick="checkAnswer('relationship')">ç¢ºèª</button>
                    </div>

                    <div id="relationship-feedback" class="feedback"></div>
                </div>

                <div class="theory-box" id="final-theory" style="display: none;">
                    <h3>ğŸ‰ ã‚ªãƒ¼ãƒ ã®æ³•å‰‡ãƒã‚¹ã‚¿ãƒ¼ï¼</h3>
                    <div class="formula-display">
                        <div class="main-formula">V = I Ã— R
                            <span class="tooltip">
                                <span class="tooltip-icon">?</span>
                                <span class="tooltip-content wide">ã‚ªãƒ¼ãƒ ã®æ³•å‰‡ï¼šé›»åœ§ãƒ»é›»æµãƒ»æŠµæŠ—ã®é–¢ä¿‚ã‚’è¡¨ã™åŸºæœ¬æ³•å‰‡</span>
                            </span>
                        </div>
                        <div class="sub-formula">I = V Ã· R
                            <span class="tooltip">
                                <span class="tooltip-icon">i</span>
                                <span class="tooltip-content">é›»æµ = é›»åœ§ Ã· æŠµæŠ—</span>
                            </span>
                        </div>
                        <div class="sub-formula">R = V Ã· I
                            <span class="tooltip">
                                <span class="tooltip-icon">i</span>
                                <span class="tooltip-content">æŠµæŠ— = é›»åœ§ Ã· é›»æµ</span>
                            </span>
                        </div>
                    </div>
                    <p>ã“ã‚ŒãŒ<span class="term">ã‚ªãƒ¼ãƒ ã®æ³•å‰‡<span class="term-definition">é›»åœ§(V)ã€é›»æµ(I)ã€æŠµæŠ—(R)ã®é–¢ä¿‚ã‚’è¡¨ã™åŸºæœ¬æ³•å‰‡ã€‚V=IÃ—Rã§è¡¨ã•ã‚Œã‚‹</span></span>ã§ã™ï¼3ã¤ã®å€¤ã®ã†ã¡2ã¤ãŒã‚ã‹ã‚Œã°ã€æ®‹ã‚Šã®1ã¤ã‚’è¨ˆç®—ã§ãã¾ã™ã€‚</p>
                    <ul>
                        <li>é›»åœ§ãŒå¤§ãããªã‚‹ã¨ â†’ é›»æµã‚‚å¤§ãããªã‚‹ï¼ˆæŠµæŠ—ãŒä¸€å®šã®å ´åˆï¼‰</li>
                        <li>æŠµæŠ—ãŒå¤§ãããªã‚‹ã¨ â†’ é›»æµã¯å°ã•ããªã‚‹ï¼ˆé›»åœ§ãŒä¸€å®šã®å ´åˆï¼‰</li>
                    </ul>
                </div>
            </div>
        </div>
        </div>

        <!-- ç›´åˆ—å›è·¯ã‚¿ãƒ– -->
        <div id="series-tab" class="tab-content">
            <div class="progress-indicator">
                <div class="progress-step active" id="series-step1">
                    <div class="circle">1</div>
                    <div>å›è·¯ã‚’è¦³å¯Ÿ</div>
                </div>
                <div class="progress-step" id="series-step2">
                    <div class="circle">2</div>
                    <div>åˆæˆæŠµæŠ—ã‚’è¨ˆç®—</div>
                </div>
                <div class="progress-step" id="series-step3">
                    <div class="circle">3</div>
                    <div>é›»æµã¨é›»åœ§ã‚’ç†è§£</div>
                </div>
            </div>

            <div class="main-content">
                <div class="card">
                    <h2>ğŸ”— ç›´åˆ—å›è·¯ã®å®Ÿé¨“</h2>
                    
                    <div class="circuit-container">
                        <svg class="circuit-svg" viewBox="0 0 950 600" style="background: transparent;">
  <defs>
    <!-- From 9Vè§’å‹é›»æ± .txt -->
    <linearGradient id="batt_goldMetalGradient" x1="0.5" y1="0" x2="0.5" y2="1">
      <stop offset="0%" stop-color="#F0E68C"/> <stop offset="15%" stop-color="#D4AF37"/> <stop offset="50%" stop-color="#B8860B"/> <stop offset="85%" stop-color="#D4AF37"/> <stop offset="100%" stop-color="#F0E68C"/>
    </linearGradient>
    <linearGradient id="batt_goldHighlight" x1="0.5" y1="0" x2="0.5" y2="1">
      <stop offset="0%" stop-color="white" stop-opacity="0.5"/> <stop offset="100%" stop-color="white" stop-opacity="0"/>
    </linearGradient>
    <linearGradient id="batt_mainBlueGradient" x1="0.5" y1="0" x2="0.5" y2="1">
      <stop offset="0%" stop-color="#002855"/> <stop offset="100%" stop-color="#003366"/>
    </linearGradient>
    <linearGradient id="batt_centerBlueBeam" x1="0.5" y1="0" x2="0.5" y2="1">
      <stop offset="0%" stop-color="#6CB4EE"/> <stop offset="50%" stop-color="#1E90FF"/> <stop offset="100%" stop-color="#4682B4"/>
    </linearGradient>
    <linearGradient id="batt_blueBeamSideFade" x1="0" y1="0.5" x2="1" y2="0.5">
      <stop offset="0%" stop-color="#003366" stop-opacity="1"/> <stop offset="15%" stop-color="#1E90FF" stop-opacity="0.8"/> <stop offset="50%" stop-color="#1E90FF" stop-opacity="1"/> <stop offset="85%" stop-color="#1E90FF" stop-opacity="0.8"/> <stop offset="100%" stop-color="#003366" stop-opacity="1"/>
    </linearGradient>
    <linearGradient id="batt_simpleTerminalGradient" x1="0.5" y1="0" x2="0.5" y2="1">
      <stop offset="0%" stop-color="#E0E0E0"/> <stop offset="50%" stop-color="#BDBDBD"/> <stop offset="100%" stop-color="#D0D0D0"/>
    </linearGradient>
    <linearGradient id="batt_batterySideShine" x1="0.5" y1="0" x2="0.5" y2="1">
        <stop offset="0%" stop-color="white" stop-opacity="0.35"/> <stop offset="50%" stop-color="white" stop-opacity="0.1"/> <stop offset="100%" stop-color="white" stop-opacity="0.35"/>
    </linearGradient>

    <!-- From é›»çƒ(On) .txt -->
    <radialGradient id="bulb_glassShineIconYellow" cx="40%" cy="30%" r="70%" fx="30%" fy="25%">
      <stop offset="0%" style="stop-color:white; stop-opacity:0.3"/> <stop offset="100%" style="stop-color:rgba(255,235,59,0.03);"/>
    </radialGradient>
    <linearGradient id="bulb_metalShine" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#E8E8E8;"/> <stop offset="30%" style="stop-color:#C0C0C0;"/> <stop offset="70%" style="stop-color:#C0C0C0;"/> <stop offset="100%" style="stop-color:#E8E8E8;"/>
    </linearGradient>
    <radialGradient id="bulb_bulbInnerGlowIconYellow" cx="50" cy="55" r="32" gradientUnits="userSpaceOnUse">
      <stop offset="0%" style="stop-color:rgba(255, 235, 59, 1.0);"/> <stop offset="25%" style="stop-color:rgba(255, 238, 100, 0.9);"/> <stop offset="60%" style="stop-color:rgba(255, 242, 140, 0.5);"/> <stop offset="100%" style="stop-color:rgba(255, 245, 170, 0.1);"/>
    </radialGradient>
    <filter id="bulb_filamentGlowEffectIconYellow" x="-75%" y="-75%" width="250%" height="250%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="1.8" result="blur"/> <feFlood flood-color="#FFEB3B" flood-opacity="0.9" result="glowColor"/> <feComposite in="glowColor" in2="blur" operator="in" result="coloredBlur"/>
      <feMerge> <feMergeNode in="coloredBlur"/> <feMergeNode in="SourceGraphic"/> </feMerge>
    </filter>

    <!-- From ãƒãƒ«ãƒãƒ¡ãƒ¼ã‚¿ãƒ¼.txt -->
    <linearGradient id="meter_bodyGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4A4A4A;stop-opacity:1" /> <stop offset="100%" style="stop-color:#303030;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="meter_buttonGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#606060;stop-opacity:1" /> <stop offset="100%" style="stop-color:#454545;stop-opacity:1" />
    </linearGradient>
    <radialGradient id="meter_rotaryGradient" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">
      <stop offset="0%" style="stop-color:#505050;stop-opacity:1" /> <stop offset="100%" style="stop-color:#383838;stop-opacity:1" />
    </radialGradient>
    <linearGradient id="meter_knobGradient" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" style="stop-color:#2A2A2A;"/> <stop offset="50%" style="stop-color:#1A1A1A;"/> <stop offset="100%" style="stop-color:#2A2A2A;"/>
    </linearGradient>
    <linearGradient id="meter_probeHandleBlack" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" style="stop-color:#282828;"/> <stop offset="50%" style="stop-color:#101010;"/> <stop offset="100%" style="stop-color:#282828;"/>
    </linearGradient>
    <linearGradient id="meter_probeHandleRed" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" style="stop-color:#D00000;"/> <stop offset="50%" style="stop-color:#A00000;"/> <stop offset="100%" style="stop-color:#D00000;"/>
    </linearGradient>
    <linearGradient id="meter_metalTipGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#E0E0E0" /> <stop offset="50%" style="stop-color:#B0B0B0" /> <stop offset="100%" style="stop-color:#E0E0E0" />
    </linearGradient>
    <filter id="meter_dropShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="1.5"/> <feOffset dx="1" dy="1" result="offsetblur"/> <feFlood flood-color="rgba(0,0,0,0.3)"/> <feComposite in2="offsetblur" operator="in"/>
      <feMerge> <feMergeNode/> <feMergeNode in="SourceGraphic"/> </feMerge>
    </filter>
    <linearGradient id="meter_glassReflection" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" style="stop-color:rgba(255,255,255,0.2); stop-opacity:1" /> <stop offset="40%" style="stop-color:rgba(255,255,255,0.05); stop-opacity:1" /> <stop offset="100%" style="stop-color:rgba(255,255,255,0); stop-opacity:1" />
    </linearGradient>
  </defs>

  <!-- Battery: Global Top-Left (50, 420), Scaled 1.3 -->
  <g id="battery_component" transform="translate(50, 420) scale(1.3)">
    <rect x="9" y="19" width="82" height="127" rx="3" ry="3" fill="#333333"/>
    <rect x="10" y="20" width="80" height="15" fill="url(#batt_goldMetalGradient)" rx="2" ry="2"/>
    <rect x="10" y="20" width="80" height="3" fill="url(#batt_goldHighlight)" rx="2" ry="2"/>
    <rect x="10" y="35" width="80" height="95" fill="url(#batt_mainBlueGradient)"/>
    <rect x="28" y="35" width="44" height="95" fill="url(#batt_blueBeamSideFade)"/>
    <rect x="35" y="35" width="30" height="95" fill="url(#batt_centerBlueBeam)"/>
    <path d="M10,130 L10,118 C30,128 70,128 90,118 L90,130 Z" fill="url(#batt_goldMetalGradient)"/>
    <path d="M10,118 C30,128 70,128 90,118 L90,120 C70,130 30,130 10,120 Z" fill="url(#batt_goldHighlight)" fill-opacity="0.7"/>
    <rect x="10.2" y="20.2" width="1.2" height="109.6" fill="url(#batt_batterySideShine)" rx="1" ry="1"/>
    <rect x="88.6" y="20.2" width="1.2" height="109.6" fill="url(#batt_batterySideShine)" rx="1" ry="1"/>
    <rect id="battery_left_terminal_rect" x="30" y="10" width="10" height="10" fill="url(#batt_simpleTerminalGradient)" rx="1" ry="1"/>
    <rect id="battery_right_terminal_rect" x="60" y="10" width="10" height="10" fill="url(#batt_simpleTerminalGradient)" rx="1" ry="1"/>
    <g transform="translate(22.5, 27.5)"> <circle cx="0" cy="0" r="5" fill="white"/> <rect x="-2.5" y="-0.8" width="5" height="1.6" fill="#003366"/> </g>
    <g transform="translate(77.5, 27.5)"> <circle cx="0" cy="0" r="5" fill="white"/> <path d="M-2.5,0 H2.5 M0,-2.5 V2.5" stroke="#003366" stroke-width="1.5" stroke-linecap="round"/> </g>
    <text x="50" y="82" fill="white" font-family="'Impact', 'Arial Black', sans-serif" font-size="18" transform="rotate(-90, 50, 82)" text-anchor="middle" letter-spacing="0.5">VOLTMAX</text>
    <text x="50.5" y="82.5" fill="#002244" fill-opacity="0.5" font-family="'Impact', 'Arial Black', sans-serif" font-size="18" transform="rotate(-90, 50.5, 82.5)" text-anchor="middle" letter-spacing="0.5">VOLTMAX</text>
    <text x="50" y="125.5" fill="#002855" font-family="Arial, sans-serif" font-size="7" text-anchor="middle" font-weight="bold">12V</text>
  </g>

  <!-- Lightbulb 1: Global Top-Left (150,50), Scaled 1 -->
  <g id="lightbulb_component_1" transform="translate(150, 50) scale(1)">
    <g id="bulb_lightbulb-on-icon-yellow_1">
      <g id="bulb_cap_1">
        <rect x="36" y="98" width="28" height="32" fill="url(#bulb_metalShine)" stroke="#777" stroke-width="0.5"/>
        <line x1="36" y1="103" x2="64" y2="103" stroke="#999" stroke-width="1.2"/> <line x1="36" y1="108" x2="64" y2="108" stroke="#999" stroke-width="1.2"/>
        <line x1="36" y1="113" x2="64" y2="113" stroke="#999" stroke-width="1.2"/> <line x1="36" y1="118" x2="64" y2="118" stroke="#999" stroke-width="1.2"/>
        <ellipse id="bulb_bottom_contact_1" cx="50" cy="130" rx="7" ry="2" fill="#444" />
      </g>
      <circle cx="50" cy="55" r="30" fill="url(#bulb_bulbInnerGlowIconYellow)" opacity="1.0" />
      <path id="bulb_glass-bulb-shape-on-icon-yellow_1" d="M 50 5 C 18 5, 8 30, 12 55 C 16 80, 28 100, 36 100 L 64 100 C 72 100, 84 80, 88 55 C 92 30, 82 5, 50 5 Z" fill="rgba(255, 248, 210, 0.3)" stroke="rgba(220, 195, 140, 0.6)" stroke-width="1"/>
      <g id="bulb_filament-assembly-on-icon-yellow_1" stroke-width="1">
        <path d="M 46 98 Q 50 90, 54 98 L 50 72 Z" fill="rgba(240,235,210,0.2)" stroke="#B0C0C0"/>
        <line x1="50" y1="72" x2="44" y2="60" stroke="#888"/> <line x1="50" y1="72" x2="56" y2="60" stroke="#888"/>
        <line x1="44" y1="60" x2="44" y2="52" stroke="#888"/> <line x1="56" y1="60" x2="56" y2="52" stroke="#888"/>
        <g filter="url(#bulb_filamentGlowEffectIconYellow)">
          <path d="M 44 52 C 46 47, 54 47, 56 52" stroke="#FFFAAA" stroke-width="2.5" fill="none" stroke-linecap="round"/>
          <path d="M 45 55 C 47 50, 53 50, 55 55" stroke="#FFFAAA" stroke-width="2.5" fill="none" stroke-linecap="round"/>
        </g>
      </g>
      <path id="bulb_glass-highlight-on-icon-yellow_1" d="M 50 5 C 18 5, 8 30, 12 55 C 16 80, 28 100, 36 100 L 64 100 C 72 100, 84 80, 88 55 C 92 30, 82 5, 50 5 Z" fill="url(#bulb_glassShineIconYellow)" opacity="0.7"/>
    </g>
  </g>
  <text x="200" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" fill="white" font-weight="bold">2Î©</text>

  <!-- Lightbulb 2 (Added): Global Top-Left (300,50), Scaled 1 -->
  <g id="lightbulb_component_2" transform="translate(300, 50) scale(1)">
    <g id="bulb_lightbulb-on-icon-yellow_2">
      <g id="bulb_cap_2">
        <rect x="36" y="98" width="28" height="32" fill="url(#bulb_metalShine)" stroke="#777" stroke-width="0.5"/>
        <line x1="36" y1="103" x2="64" y2="103" stroke="#999" stroke-width="1.2"/> <line x1="36" y1="108" x2="64" y2="108" stroke="#999" stroke-width="1.2"/>
        <line x1="36" y1="113" x2="64" y2="113" stroke="#999" stroke-width="1.2"/> <line x1="36" y1="118" x2="64" y2="118" stroke="#999" stroke-width="1.2"/>
        <ellipse id="bulb_bottom_contact_2" cx="50" cy="130" rx="7" ry="2" fill="#444" />
      </g>
      <circle cx="50" cy="55" r="30" fill="url(#bulb_bulbInnerGlowIconYellow)" opacity="1.0" />
      <path id="bulb_glass-bulb-shape-on-icon-yellow_2" d="M 50 5 C 18 5, 8 30, 12 55 C 16 80, 28 100, 36 100 L 64 100 C 72 100, 84 80, 88 55 C 92 30, 82 5, 50 5 Z" fill="rgba(255, 248, 210, 0.3)" stroke="rgba(220, 195, 140, 0.6)" stroke-width="1"/>
      <g id="bulb_filament-assembly-on-icon-yellow_2" stroke-width="1">
        <path d="M 46 98 Q 50 90, 54 98 L 50 72 Z" fill="rgba(240,235,210,0.2)" stroke="#B0C0C0"/>
        <line x1="50" y1="72" x2="44" y2="60" stroke="#888"/> <line x1="50" y1="72" x2="56" y2="60" stroke="#888"/>
        <line x1="44" y1="60" x2="44" y2="52" stroke="#888"/> <line x1="56" y1="60" x2="56" y2="52" stroke="#888"/>
        <g filter="url(#bulb_filamentGlowEffectIconYellow)">
          <path d="M 44 52 C 46 47, 54 47, 56 52" stroke="#FFFAAA" stroke-width="2.5" fill="none" stroke-linecap="round"/>
          <path d="M 45 55 C 47 50, 53 50, 55 55" stroke="#FFFAAA" stroke-width="2.5" fill="none" stroke-linecap="round"/>
        </g>
      </g>
      <path id="bulb_glass-highlight-on-icon-yellow_2" d="M 50 5 C 18 5, 8 30, 12 55 C 16 80, 28 100, 36 100 L 64 100 C 72 100, 84 80, 88 55 C 92 30, 82 5, 50 5 Z" fill="url(#bulb_glassShineIconYellow)" opacity="0.7"/>
    </g>
  </g>
  <text x="350" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" fill="white" font-weight="bold">3Î©</text>

  <!-- Multimeter: Global transform="translate(450, 150) scale(0.6) rotate(30 125 200)" -->
  <g id="multimeter_component" transform="translate(450, 150) scale(0.6) rotate(30 125 200)">
    <!-- Main body with enhanced detail -->
    <rect x="50" y="10" width="120" height="260" rx="10" ry="10" fill="url(#meter_bodyGradient)" filter="url(#meter_dropShadow)"/>
    <rect x="52" y="12" width="116" height="256" rx="8" ry="8" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="1"/>
    
    <!-- Display screen with enhanced detail -->
    <rect x="65" y="30" width="90" height="50" fill="#8AB830" rx="3" ry="3"/>
    <rect x="66" y="31" width="88" height="48" fill="none" stroke="rgba(0,0,0,0.2)" stroke-width="1" rx="2" ry="2"/>
    <!-- Enhanced LCD segments for better visibility -->
    <rect x="68" y="33" width="84" height="44" fill="#96CC3B" rx="2" ry="2"/>
    <text x="110" y="63" font-family="Consolas, 'Courier New', monospace" font-size="28" fill="#202020" text-anchor="middle" font-weight="bold" id="series-current-display">?A</text>
    <!-- Additional display elements -->
    <rect x="68" y="33" width="12" height="6" fill="#333" rx="1" ry="1" opacity="0.3"/>
    <text x="74" y="41" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="middle">A</text>
    <rect x="65" y="30" width="90" height="50" fill="url(#meter_glassReflection)" rx="3" ry="3"/>
    
    <!-- Enhanced button layout with more detail -->
    <g filter="url(#meter_dropShadow)">
      <!-- Top row buttons with labels -->
      <rect x="65" y="90" width="20" height="12" rx="2" ry="2" fill="url(#meter_buttonGradient)"/>
      <text x="75" y="99" font-family="Arial, sans-serif" font-size="6" fill="#888" text-anchor="middle">PWR</text>
      
      <rect x="88" y="90" width="20" height="12" rx="2" ry="2" fill="url(#meter_buttonGradient)"/>
      <text x="98" y="99" font-family="Arial, sans-serif" font-size="6" fill="#888" text-anchor="middle">MAX</text>
      
      <rect x="111" y="90" width="20" height="12" rx="2" ry="2" fill="url(#meter_buttonGradient)"/>
      <text x="121" y="99" font-family="Arial, sans-serif" font-size="6" fill="#888" text-anchor="middle">MIN</text>
      
      <rect x="134" y="90" width="20" height="12" rx="2" ry="2" fill="url(#meter_buttonGradient)"/>
      <text x="144" y="99" font-family="Arial, sans-serif" font-size="6" fill="#888" text-anchor="middle">HOLD</text>
      
      <!-- Second row buttons -->
      <rect x="75" y="107" width="28" height="12" rx="2" ry="2" fill="url(#meter_buttonGradient)"/>
      <text x="89" y="116" font-family="Arial, sans-serif" font-size="6" fill="#888" text-anchor="middle">RANGE</text>
      
      <rect x="117" y="107" width="28" height="12" rx="2" ry="2" fill="url(#meter_buttonGradient)"/>
      <text x="131" y="116" font-family="Arial, sans-serif" font-size="6" fill="#888" text-anchor="middle">MODE</text>
    </g>
    
    <!-- Enhanced rotary selector with markings -->
    <circle cx="110" cy="170" r="40" fill="url(#meter_rotaryGradient)" filter="url(#meter_dropShadow)"/>
    <!-- Scale markings with labels -->
    <g stroke="#888888" stroke-width="1.5" stroke-linecap="round">
      <line x1="110" y1="133" x2="110" y2="128" transform="rotate(0 110 170)"/>
      <line x1="110" y1="133" x2="110" y2="128" transform="rotate(30 110 170)"/>
      <line x1="110" y1="133" x2="110" y2="128" transform="rotate(60 110 170)"/>
      <line x1="110" y1="133" x2="110" y2="128" transform="rotate(90 110 170)"/>
      <line x1="110" y1="133" x2="110" y2="128" transform="rotate(120 110 170)"/>
      <line x1="110" y1="133" x2="110" y2="128" transform="rotate(150 110 170)"/>
      <line x1="110" y1="133" x2="110" y2="128" transform="rotate(180 110 170)"/>
      <line x1="110" y1="133" x2="110" y2="128" transform="rotate(210 110 170)"/>
      <line x1="110" y1="133" x2="110" y2="128" transform="rotate(240 110 170)"/>
      <line x1="110" y1="133" x2="110" y2="128" transform="rotate(270 110 170)"/>
      <line x1="110" y1="133" x2="110" y2="128" transform="rotate(300 110 170)"/>
      <line x1="110" y1="133" x2="110" y2="128" transform="rotate(330 110 170)"/>
    </g>
    <!-- Position labels around rotary -->
    <text x="110" y="125" font-family="Arial, sans-serif" font-size="8" fill="#CCC" text-anchor="middle">V</text>
    <text x="148" y="174" font-family="Arial, sans-serif" font-size="8" fill="#CCC" text-anchor="middle">A</text>
    <text x="110" y="218" font-family="Arial, sans-serif" font-size="8" fill="#CCC" text-anchor="middle">Î©</text>
    <text x="72" y="174" font-family="Arial, sans-serif" font-size="8" fill="#CCC" text-anchor="middle">OFF</text>
    
    <!-- Enhanced selector knob -->
    <rect x="102" y="138" width="16" height="32" rx="3" ry="3" fill="url(#meter_knobGradient)" transform="rotate(45 110 170)" stroke="#101010" stroke-width="0.5"/>
    <rect x="108" y="140" width="4" height="8" fill="#606060" transform="rotate(45 110 170)" rx="1" ry="1"/>
    <circle cx="110" cy="154" r="2" fill="#888" transform="rotate(45 110 170)"/>
    
    <!-- Power/mode button -->
    <circle cx="110" cy="230" r="8" fill="url(#meter_buttonGradient)" filter="url(#meter_dropShadow)"/>
    <circle cx="110" cy="230" r="6" fill="#444"/>
    <circle cx="110" cy="230" r="3" fill="#666"/>
    
    <!-- Enhanced probe connectors -->
    <circle cx="85" cy="255" r="8" fill="#1A1A1A"/>
    <circle cx="85" cy="255" r="6" fill="#303030"/>
    <circle cx="85" cy="255" r="3" fill="#101010"/>
    <text x="85" y="245" font-family="Arial, sans-serif" font-size="7" fill="#CCC" text-anchor="middle">COM</text>
    
    <circle cx="135" cy="255" r="8" fill="red"/>
    <circle cx="135" cy="255" r="6" fill="#FF5050"/>
    <circle cx="135" cy="255" r="3" fill="#B00000"/>
    <text x="135" y="245" font-family="Arial, sans-serif" font-size="7" fill="#CCC" text-anchor="middle">VÎ©mA</text>
    
    <!-- Enhanced probe assemblies with more detail -->
    <g id="meter_black-probe-assembly">
      <path d="M 85 263 Q 60 300 75 370" stroke="#252525" stroke-width="4.5" fill="none" stroke-linecap="round"/>
      <g transform="rotate(-15 75 370)">
        <!-- Enhanced handle with grip texture -->
        <rect x="70" y="320" width="10" height="50" rx="3" ry="3" fill="url(#meter_probeHandleBlack)"/>
        <rect x="71" y="325" width="8" height="2" fill="#404040" rx="1"/>
        <rect x="71" y="330" width="8" height="2" fill="#404040" rx="1"/>
        <rect x="71" y="335" width="8" height="2" fill="#404040" rx="1"/>
        <rect x="71" y="340" width="8" height="2" fill="#404040" rx="1"/>
        <rect x="71" y="345" width="8" height="2" fill="#404040" rx="1"/>
        <rect x="71" y="350" width="8" height="2" fill="#404040" rx="1"/>
        <rect x="71" y="355" width="8" height="2" fill="#404040" rx="1"/>
        <rect x="71" y="360" width="8" height="2" fill="#404040" rx="1"/>
        <!-- Enhanced tip assembly -->
        <rect x="71" y="300" width="8" height="20" fill="url(#meter_metalTipGradient)"/>
        <rect x="72" y="295" width="6" height="5" fill="#C0C0C0"/>
        <polygon id="meter_black_probe_tip_polygon" points="71,300 79,300 75,290" fill="url(#meter_metalTipGradient)"/>
      </g>
    </g>
    <g id="meter_red-probe-assembly">
      <path d="M 135 263 Q 160 300 145 370" stroke="#252525" stroke-width="4.5" fill="none" stroke-linecap="round"/>
      <g transform="rotate(15 145 370)">
        <!-- Enhanced handle with grip texture -->
        <rect x="140" y="320" width="10" height="50" rx="3" ry="3" fill="url(#meter_probeHandleRed)"/>
        <rect x="141" y="325" width="8" height="2" fill="#FF4040" rx="1"/>
        <rect x="141" y="330" width="8" height="2" fill="#FF4040" rx="1"/>
        <rect x="141" y="335" width="8" height="2" fill="#FF4040" rx="1"/>
        <rect x="141" y="340" width="8" height="2" fill="#FF4040" rx="1"/>
        <rect x="141" y="345" width="8" height="2" fill="#FF4040" rx="1"/>
        <rect x="141" y="350" width="8" height="2" fill="#FF4040" rx="1"/>
        <rect x="141" y="355" width="8" height="2" fill="#FF4040" rx="1"/>
        <rect x="141" y="360" width="8" height="2" fill="#FF4040" rx="1"/>
        <!-- Enhanced tip assembly -->
        <rect x="141" y="300" width="8" height="20" fill="url(#meter_metalTipGradient)"/>
        <rect x="142" y="295" width="6" height="5" fill="#C0C0C0"/>
        <polygon id="meter_red_probe_tip_polygon" points="141,300 149,300 145,290" fill="url(#meter_metalTipGradient)"/>
      </g>
    </g>
  </g>

  <!-- Ohm's Law Diagram -->
  <g id="ohmslaw_diagram_component" transform="translate(710, 50) scale(0.6)">
    <style> .ohm_circle-bg { fill: #005BAB; stroke: #FF961C; stroke-width: 2; } .ohm_divider-line { stroke: #FF961C; stroke-width: 2; } .ohm_label { font-family: Arial, sans-serif; font-size: 36px; font-weight: bold; text-anchor: middle; dominant-baseline: middle; fill: #FF961C; } </style>
    <circle cx="100" cy="100" r="80" class="ohm_circle-bg"/>
    <line x1="20" y1="100" x2="180" y2="100" class="ohm_divider-line"/>
    <line x1="100" y1="100" x2="100" y2="180" class="ohm_divider-line"/>
    <text x="100" y="65" class="ohm_label">V</text>
    <text x="60" y="140" class="ohm_label">I</text>
    <text x="140" y="140" class="ohm_label">R</text>
  </g>

  <!-- Ohm's Law Calculations (Updated for series circuit) -->
  <g id="ohmslaw_calculations" font-family="Arial, sans-serif" font-size="20" text-anchor="middle" dominant-baseline="middle">
    <text x="770" y="182.5" fill="black" font-weight="bold">I = V / R</text>
    <text x="770" y="212.5" fill="black" font-weight="bold">I = 12V / (2Î© + 3Î©)</text>
    <text x="770" y="242.5" fill="black" font-weight="bold">I = 2.4A</text>
  </g>

  <!-- Wires (Updated for series circuit with two lightbulbs and adjusted positions) -->
  <g id="wires" stroke-width="3" fill="none">
    <!-- 1. Battery Left Terminal to Lightbulb 1 Bottom -->
    <path d="M 95.5 433 V 180 H 200" stroke="black" class="current-flow"/>

    <!-- 2. Lightbulb 1 Top to Lightbulb 2 Bottom (Series Connection) -->
    <path d="M 200 148 V 130 H 350 V 180" stroke="black" class="current-flow"/>

    <!-- 3. Lightbulb 2 Top to Multimeter Red Probe Tip -->
    <path d="M 350 148 V 130 H 448 V 345" stroke="black" class="current-flow"/>

    <!-- 4. Multimeter Black Probe Tip to Battery Right Terminal -->
    <path d="M 485 364 V 403 H 134 V 435 " stroke="black" class="current-flow"/>
  </g>

  <!-- é›»å­ã®çµŒè·¯ -->
  <path id="series-electron-path" d="M 95.5 433 V 180 H 200 H 350 V 180 H 448.0 V 345.1 L 485,364 V 403 H 134 V 435" fill="none"/>
  
  <!-- é›»å­ã‚°ãƒ«ãƒ¼ãƒ— -->
  <g id="electrons"></g>
</svg>
                    </div>
                </div>

                <div class="card">
                    <h2>ğŸ“ ç›´åˆ—å›è·¯ã‚’ç†è§£ã—ã‚ˆã†</h2>

                    <div class="theory-box">
                        <h3>ğŸ” ç›´åˆ—å›è·¯ã®ç‰¹å¾´
                            <span class="tooltip">
                                <span class="tooltip-icon">?</span>
                                <span class="tooltip-content wide">éƒ¨å“ãŒä¸€åˆ—ã«æ¥ç¶šã•ã‚ŒãŸå›è·¯ã€‚é›»æµã®æµã‚Œã‚‹é“ãŒ1ã¤ã ã‘</span>
                            </span>
                        </h3>
                        <ul>
                            <li>ğŸ”— æŠµæŠ—ãŒä¸€ç›´ç·šã«ã¤ãªãŒã£ã¦ã„ã‚‹</li>
                            <li>âš¡ é›»æµã¯ã©ã“ã§ã‚‚åŒã˜å€¤
                                <span class="tooltip">
                                    <span class="tooltip-icon">i</span>
                                    <span class="tooltip-content wide">ç›´åˆ—å›è·¯ã§ã¯é›»æµã®é€ƒã’é“ãŒãªã„ãŸã‚ã€ã©ã“ã§ã‚‚åŒã˜é›»æµãŒæµã‚Œã¾ã™</span>
                                </span>
                            </li>
                            <li>ğŸ“Š æŠµæŠ—ã¯è¶³ã—ç®—ã§åˆæˆ
                                <span class="tooltip">
                                    <span class="tooltip-icon">i</span>
                                    <span class="tooltip-content">Råˆè¨ˆ = R1 + R2 + R3 + ...</span>
                                </span>
                            </li>
                            <li>ğŸ”‹ é›»åœ§ã¯å„æŠµæŠ—ã§åˆ†é…ã•ã‚Œã‚‹
                                <span class="tooltip">
                                    <span class="tooltip-icon">i</span>
                                    <span class="tooltip-content wide">å„æŠµæŠ—ã®ä¸¡ç«¯ã®é›»åœ§ã®åˆè¨ˆãŒé›»æºé›»åœ§ã¨ç­‰ã—ããªã‚Šã¾ã™</span>
                                </span>
                            </li>
                        </ul>
                    </div>

                    <div class="question-box">
                        <h3>â“ å•é¡Œ1ï¼šåˆæˆæŠµæŠ—ã‚’æ±‚ã‚ã‚ˆã†</h3>
                        <p>Râ‚ = 2Î©ã€Râ‚‚ = 3Î© ã®ã¨ãã€åˆæˆæŠµæŠ—ã¯ã„ãã¤ã§ã—ã‚‡ã†ã‹ï¼Ÿ</p>
                        
                        <div class="formula-display">
                            <div class="main-formula">Råˆæˆ = Râ‚ + Râ‚‚</div>
                        </div>

                        <div class="input-group">
                            <label>åˆæˆæŠµæŠ—ï¼š</label>
                            <input type="number" id="series-resistance-answer" placeholder="ï¼Ÿ" step="0.1">
                            <span>Î©ï¼ˆã‚ªãƒ¼ãƒ ï¼‰</span>
                            <button class="check-button" onclick="checkSeriesAnswer('resistance')">ç¢ºèª</button>
                            <button class="hint-button" onclick="showSeriesHint('resistance')">ğŸ’¡ ãƒ’ãƒ³ãƒˆ</button>
                        </div>

                        <div id="series-resistance-feedback" class="feedback"></div>
                    </div>

                    <div class="question-box" id="series-question2" style="display: none;">
                        <h3>â“ å•é¡Œ2ï¼šé›»æµã‚’æ±‚ã‚ã‚ˆã†</h3>
                        <p>é›»åœ§ãŒ12Vã€åˆæˆæŠµæŠ—ãŒ5Î©ã®ã¨ãã€é›»æµã¯ï¼Ÿ</p>
                        
                        <div class="input-group">
                            <label>é›»æµ (I)ï¼š</label>
                            <input type="number" id="series-current-answer" placeholder="ï¼Ÿ" step="0.1">
                            <span>Aï¼ˆã‚¢ãƒ³ãƒšã‚¢ï¼‰</span>
                            <button class="check-button" onclick="checkSeriesAnswer('current')">ç¢ºèª</button>
                        </div>

                        <div id="series-current-feedback" class="feedback"></div>
                    </div>

                    <div class="theory-box" id="series-final" style="display: none;">
                        <h3>ğŸ‰ ç›´åˆ—å›è·¯ãƒã‚¹ã‚¿ãƒ¼ï¼</h3>
                        <div class="formula-display">
                            <div class="sub-formula">åˆæˆæŠµæŠ—ï¼šR = Râ‚ + Râ‚‚ + Râ‚ƒ + ...</div>
                            <div class="sub-formula">é›»æµï¼šI = V Ã· Rï¼ˆã©ã“ã§ã‚‚åŒã˜ï¼‰</div>
                            <div class="sub-formula">å„æŠµæŠ—ã®é›»åœ§ï¼šVâ‚ = I Ã— Râ‚</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ä¸¦åˆ—å›è·¯ã‚¿ãƒ– -->
        <div id="parallel-tab" class="tab-content">
            <div class="progress-indicator">
                <div class="progress-step active" id="parallel-step1">
                    <div class="circle">1</div>
                    <div>å›è·¯ã‚’è¦³å¯Ÿ</div>
                </div>
                <div class="progress-step" id="parallel-step2">
                    <div class="circle">2</div>
                    <div>åˆæˆæŠµæŠ—ã‚’è¨ˆç®—</div>
                </div>
                <div class="progress-step" id="parallel-step3">
                    <div class="circle">3</div>
                    <div>é›»æµã®åˆ†é…ã‚’ç†è§£</div>
                </div>
            </div>

            <div class="main-content">
                <div class="card">
                    <h2>âš¡ ä¸¦åˆ—å›è·¯ã®å®Ÿé¨“</h2>
                    
                    <div class="circuit-container">
                        <svg class="circuit-svg" viewBox="0 0 950 600" style="background: transparent;">
                            <!-- ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®šç¾©ï¼ˆãƒ¡ã‚¤ãƒ³SVGã¨åŒã˜ã‚‚ã®ã‚’ä½¿ç”¨ï¼‰ -->
                            <defs>
                                <!-- é›»æ± ç”¨ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ -->
                                <linearGradient id="p_batt_goldMetalGradient" x1="0.5" y1="0" x2="0.5" y2="1">
                                    <stop offset="0%" stop-color="#F0E68C"/> <stop offset="15%" stop-color="#D4AF37"/> <stop offset="50%" stop-color="#B8860B"/> <stop offset="85%" stop-color="#D4AF37"/> <stop offset="100%" stop-color="#F0E68C"/>
                                </linearGradient>
                                <linearGradient id="p_batt_goldHighlight" x1="0.5" y1="0" x2="0.5" y2="1">
                                    <stop offset="0%" stop-color="white" stop-opacity="0.5"/> <stop offset="100%" stop-color="white" stop-opacity="0"/>
                                </linearGradient>
                                <linearGradient id="p_batt_mainBlueGradient" x1="0.5" y1="0" x2="0.5" y2="1">
                                    <stop offset="0%" stop-color="#002855"/> <stop offset="100%" stop-color="#003366"/>
                                </linearGradient>
                                <linearGradient id="p_batt_centerBlueBeam" x1="0.5" y1="0" x2="0.5" y2="1">
                                    <stop offset="0%" stop-color="#6CB4EE"/> <stop offset="50%" stop-color="#1E90FF"/> <stop offset="100%" stop-color="#4682B4"/>
                                </linearGradient>
                                <linearGradient id="p_batt_blueBeamSideFade" x1="0" y1="0.5" x2="1" y2="0.5">
                                    <stop offset="0%" stop-color="#003366" stop-opacity="1"/> <stop offset="15%" stop-color="#1E90FF" stop-opacity="0.8"/> <stop offset="50%" stop-color="#1E90FF" stop-opacity="1"/> <stop offset="85%" stop-color="#1E90FF" stop-opacity="0.8"/> <stop offset="100%" stop-color="#003366" stop-opacity="1"/>
                                </linearGradient>
                                <linearGradient id="p_batt_simpleTerminalGradient" x1="0.5" y1="0" x2="0.5" y2="1">
                                    <stop offset="0%" stop-color="#E0E0E0"/> <stop offset="50%" stop-color="#BDBDBD"/> <stop offset="100%" stop-color="#D0D0D0"/>
                                </linearGradient>
                                <linearGradient id="p_batt_batterySideShine" x1="0.5" y1="0" x2="0.5" y2="1">
                                    <stop offset="0%" stop-color="white" stop-opacity="0.35"/> <stop offset="50%" stop-color="white" stop-opacity="0.1"/> <stop offset="100%" stop-color="white" stop-opacity="0.35"/>
                                </linearGradient>

                                <!-- é›»çƒç”¨ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ -->
                                <radialGradient id="p_bulb_glassShineIconYellow" cx="40%" cy="30%" r="70%" fx="30%" fy="25%">
                                    <stop offset="0%" style="stop-color:white; stop-opacity:0.3"/> <stop offset="100%" style="stop-color:rgba(255,235,59,0.03);"/>
                                </radialGradient>
                                <linearGradient id="p_bulb_metalShine" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" style="stop-color:#E8E8E8;"/> <stop offset="30%" style="stop-color:#C0C0C0;"/> <stop offset="70%" style="stop-color:#C0C0C0;"/> <stop offset="100%" style="stop-color:#E8E8E8;"/>
                                </linearGradient>
                                <radialGradient id="p_bulb_bulbInnerGlowIconYellow" cx="50" cy="55" r="32" gradientUnits="userSpaceOnUse">
                                    <stop offset="0%" style="stop-color:rgba(255, 235, 59, 1.0);"/> <stop offset="25%" style="stop-color:rgba(255, 238, 100, 0.9);"/> <stop offset="60%" style="stop-color:rgba(255, 242, 140, 0.5);"/> <stop offset="100%" style="stop-color:rgba(255, 245, 170, 0.1);"/>
                                </radialGradient>
                                <filter id="p_bulb_filamentGlowEffectIconYellow" x="-75%" y="-75%" width="250%" height="250%">
                                    <feGaussianBlur in="SourceAlpha" stdDeviation="1.8" result="blur"/> <feFlood flood-color="#FFEB3B" flood-opacity="0.9" result="glowColor"/> <feComposite in="glowColor" in2="blur" operator="in" result="coloredBlur"/>
                                    <feMerge> <feMergeNode in="coloredBlur"/> <feMergeNode in="SourceGraphic"/> </feMerge>
                                </filter>

                                <!-- ãƒãƒ«ãƒãƒ¡ãƒ¼ã‚¿ãƒ¼ç”¨ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ -->
                                <linearGradient id="p_meter_bodyGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                    <stop offset="0%" style="stop-color:#4A4A4A;stop-opacity:1" /> <stop offset="100%" style="stop-color:#303030;stop-opacity:1" />
                                </linearGradient>
                                <linearGradient id="p_meter_buttonGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                    <stop offset="0%" style="stop-color:#606060;stop-opacity:1" /> <stop offset="100%" style="stop-color:#454545;stop-opacity:1" />
                                </linearGradient>
                                <radialGradient id="p_meter_rotaryGradient" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">
                                    <stop offset="0%" style="stop-color:#505050;stop-opacity:1" /> <stop offset="100%" style="stop-color:#383838;stop-opacity:1" />
                                </radialGradient>
                                <linearGradient id="p_meter_knobGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" style="stop-color:#2A2A2A;"/> <stop offset="50%" style="stop-color:#1A1A1A;"/> <stop offset="100%" style="stop-color:#2A2A2A;"/>
                                </linearGradient>
                                <linearGradient id="p_meter_probeHandleBlack" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" style="stop-color:#282828;"/> <stop offset="50%" style="stop-color:#101010;"/> <stop offset="100%" style="stop-color:#282828;"/>
                                </linearGradient>
                                <linearGradient id="p_meter_probeHandleRed" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" style="stop-color:#D00000;"/> <stop offset="50%" style="stop-color:#A00000;"/> <stop offset="100%" style="stop-color:#D00000;"/>
                                </linearGradient>
                                <linearGradient id="p_meter_metalTipGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" style="stop-color:#E0E0E0" /> <stop offset="50%" style="stop-color:#B0B0B0" /> <stop offset="100%" style="stop-color:#E0E0E0" />
                                </linearGradient>
                                <filter id="p_meter_dropShadow" x="-20%" y="-20%" width="140%" height="140%">
                                    <feGaussianBlur in="SourceAlpha" stdDeviation="1.5"/> <feOffset dx="1" dy="1" result="offsetblur"/> <feFlood flood-color="rgba(0,0,0,0.3)"/> <feComposite in2="offsetblur" operator="in"/>
                                    <feMerge> <feMergeNode/> <feMergeNode in="SourceGraphic"/> </feMerge>
                                </filter>
                                <linearGradient id="p_meter_glassReflection" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:rgba(255,255,255,0.2); stop-opacity:1" /> <stop offset="40%" style="stop-color:rgba(255,255,255,0.05); stop-opacity:1" /> <stop offset="100%" style="stop-color:rgba(255,255,255,0); stop-opacity:1" />
                                </linearGradient>
                            </defs>

                            <!-- Battery: Global Top-Left (50, 420), Scaled 1.3 -->
                            <g id="p_battery_component" transform="translate(50, 420) scale(1.3)">
                                <rect x="9" y="19" width="82" height="127" rx="3" ry="3" fill="#333333"/>
                                <rect x="10" y="20" width="80" height="15" fill="url(#p_batt_goldMetalGradient)" rx="2" ry="2"/>
                                <rect x="10" y="20" width="80" height="3" fill="url(#p_batt_goldHighlight)" rx="2" ry="2"/>
                                <rect x="10" y="35" width="80" height="95" fill="url(#p_batt_mainBlueGradient)"/>
                                <rect x="28" y="35" width="44" height="95" fill="url(#p_batt_blueBeamSideFade)"/>
                                <rect x="35" y="35" width="30" height="95" fill="url(#p_batt_centerBlueBeam)"/>
                                <path d="M10,130 L10,118 C30,128 70,128 90,118 L90,130 Z" fill="url(#p_batt_goldMetalGradient)"/>
                                <path d="M10,118 C30,128 70,128 90,118 L90,120 C70,130 30,130 10,120 Z" fill="url(#p_batt_goldHighlight)" fill-opacity="0.7"/>
                                <rect x="10.2" y="20.2" width="1.2" height="109.6" fill="url(#p_batt_batterySideShine)" rx="1" ry="1"/>
                                <rect x="88.6" y="20.2" width="1.2" height="109.6" fill="url(#p_batt_batterySideShine)" rx="1" ry="1"/>
                                <rect x="30" y="10" width="10" height="10" fill="url(#p_batt_simpleTerminalGradient)" rx="1" ry="1"/>
                                <rect x="60" y="10" width="10" height="10" fill="url(#p_batt_simpleTerminalGradient)" rx="1" ry="1"/>
                                <g transform="translate(22.5, 27.5)"> <circle cx="0" cy="0" r="5" fill="white"/> <rect x="-2.5" y="-0.8" width="5" height="1.6" fill="#003366"/> </g>
                                <g transform="translate(77.5, 27.5)"> <circle cx="0" cy="0" r="5" fill="white"/> <path d="M-2.5,0 H2.5 M0,-2.5 V2.5" stroke="#003366" stroke-width="1.5" stroke-linecap="round"/> </g>
                                <text x="50" y="82" fill="white" font-family="'Impact', 'Arial Black', sans-serif" font-size="18" transform="rotate(-90, 50, 82)" text-anchor="middle" letter-spacing="0.5">VOLTMAX</text>
                                <text x="50.5" y="82.5" fill="#002244" fill-opacity="0.5" font-family="'Impact', 'Arial Black', sans-serif" font-size="18" transform="rotate(-90, 50.5, 82.5)" text-anchor="middle" letter-spacing="0.5">VOLTMAX</text>
                                <text x="50" y="125.5" fill="#002855" font-family="Arial, sans-serif" font-size="7" text-anchor="middle" font-weight="bold">9V</text>
                            </g>

                            <!-- Lightbulb 1: Global Top-Left (200,50), Scaled 1 -->
                            <g id="p_lightbulb_component_1" transform="translate(200, 50) scale(1)">
                                <g id="p_bulb_lightbulb-on-icon-yellow_1">
                                    <g id="p_bulb_cap_1">
                                        <rect x="36" y="98" width="28" height="32" fill="url(#p_bulb_metalShine)" stroke="#777" stroke-width="0.5"/>
                                        <line x1="36" y1="103" x2="64" y2="103" stroke="#999" stroke-width="1.2"/> <line x1="36" y1="108" x2="64" y2="108" stroke="#999" stroke-width="1.2"/>
                                        <line x1="36" y1="113" x2="64" y2="113" stroke="#999" stroke-width="1.2"/> <line x1="36" y1="118" x2="64" y2="118" stroke="#999" stroke-width="1.2"/>
                                        <ellipse cx="50" cy="130" rx="7" ry="2" fill="#444" />
                                    </g>
                                    <circle cx="50" cy="55" r="30" fill="url(#p_bulb_bulbInnerGlowIconYellow)" opacity="1.0" />
                                    <path d="M 50 5 C 18 5, 8 30, 12 55 C 16 80, 28 100, 36 100 L 64 100 C 72 100, 84 80, 88 55 C 92 30, 82 5, 50 5 Z" fill="rgba(255, 248, 210, 0.3)" stroke="rgba(220, 195, 140, 0.6)" stroke-width="1"/>
                                    <g stroke-width="1">
                                        <path d="M 46 98 Q 50 90, 54 98 L 50 72 Z" fill="rgba(240,235,210,0.2)" stroke="#B0C0C0"/>
                                        <line x1="50" y1="72" x2="44" y2="60" stroke="#888"/> <line x1="50" y1="72" x2="56" y2="60" stroke="#888"/>
                                        <line x1="44" y1="60" x2="44" y2="52" stroke="#888"/> <line x1="56" y1="60" x2="56" y2="52" stroke="#888"/>
                                        <g filter="url(#p_bulb_filamentGlowEffectIconYellow)">
                                            <path d="M 44 52 C 46 47, 54 47, 56 52" stroke="#FFFAAA" stroke-width="2.5" fill="none" stroke-linecap="round"/>
                                            <path d="M 45 55 C 47 50, 53 50, 55 55" stroke="#FFFAAA" stroke-width="2.5" fill="none" stroke-linecap="round"/>
                                        </g>
                                    </g>
                                    <path d="M 50 5 C 18 5, 8 30, 12 55 C 16 80, 28 100, 36 100 L 64 100 C 72 100, 84 80, 88 55 C 92 30, 82 5, 50 5 Z" fill="url(#p_bulb_glassShineIconYellow)" opacity="0.7"/>
                                </g>
                            </g>
                            <text x="250" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" fill="#005BAB" font-weight="bold">3Î©</text>

                            <!-- Lightbulb 2 (Added): Global Top-Left (200,250), Scaled 1 -->
                            <g id="p_lightbulb_component_2" transform="translate(200, 250) scale(1)">
                                <g id="p_bulb_lightbulb-on-icon-yellow_2">
                                    <g id="p_bulb_cap_2">
                                        <rect x="36" y="98" width="28" height="32" fill="url(#p_bulb_metalShine)" stroke="#777" stroke-width="0.5"/>
                                        <line x1="36" y1="103" x2="64" y2="103" stroke="#999" stroke-width="1.2"/> <line x1="36" y1="108" x2="64" y2="108" stroke="#999" stroke-width="1.2"/>
                                        <line x1="36" y1="113" x2="64" y2="113" stroke="#999" stroke-width="1.2"/> <line x1="36" y1="118" x2="64" y2="118" stroke="#999" stroke-width="1.2"/>
                                        <ellipse cx="50" cy="130" rx="7" ry="2" fill="#444" />
                                    </g>
                                    <circle cx="50" cy="55" r="30" fill="url(#p_bulb_bulbInnerGlowIconYellow)" opacity="1.0" />
                                    <path d="M 50 5 C 18 5, 8 30, 12 55 C 16 80, 28 100, 36 100 L 64 100 C 72 100, 84 80, 88 55 C 92 30, 82 5, 50 5 Z" fill="rgba(255, 248, 210, 0.3)" stroke="rgba(220, 195, 140, 0.6)" stroke-width="1"/>
                                    <g stroke-width="1">
                                        <path d="M 46 98 Q 50 90, 54 98 L 50 72 Z" fill="rgba(240,235,210,0.2)" stroke="#B0C0C0"/>
                                        <line x1="50" y1="72" x2="44" y2="60" stroke="#888"/> <line x1="50" y1="72" x2="56" y2="60" stroke="#888"/>
                                        <line x1="44" y1="60" x2="44" y2="52" stroke="#888"/> <line x1="56" y1="60" x2="56" y2="52" stroke="#888"/>
                                        <g filter="url(#p_bulb_filamentGlowEffectIconYellow)">
                                            <path d="M 44 52 C 46 47, 54 47, 56 52" stroke="#FFFAAA" stroke-width="2.5" fill="none" stroke-linecap="round"/>
                                            <path d="M 45 55 C 47 50, 53 50, 55 55" stroke="#FFFAAA" stroke-width="2.5" fill="none" stroke-linecap="round"/>
                                        </g>
                                    </g>
                                    <path d="M 50 5 C 18 5, 8 30, 12 55 C 16 80, 28 100, 36 100 L 64 100 C 72 100, 84 80, 88 55 C 92 30, 82 5, 50 5 Z" fill="url(#p_bulb_glassShineIconYellow)" opacity="0.7"/>
                                </g>
                            </g>
                            <text x="250" y="240" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" fill="#005BAB" font-weight="bold">3Î©</text>

                            <!-- Multimeter: Global transform="translate(450, 150) scale(0.6) rotate(30 125 200)" -->
                            <g id="p_multimeter_component" transform="translate(450, 150) scale(0.6) rotate(30 125 200)">
                                <rect x="50" y="10" width="120" height="260" rx="10" ry="10" fill="url(#p_meter_bodyGradient)" filter="url(#p_meter_dropShadow)"/>
                                <rect x="52" y="12" width="116" height="256" rx="8" ry="8" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="1"/>
                                <rect x="65" y="30" width="90" height="50" fill="#8AB830" rx="3" ry="3"/>
                                <rect x="66" y="31" width="88" height="48" fill="none" stroke="rgba(0,0,0,0.2)" stroke-width="1" rx="2" ry="2"/>
                                <text x="110" y="63" font-family="Consolas, 'Courier New', monospace" font-size="28" fill="#202020" text-anchor="middle" font-weight="bold" id="parallel-current-display">?A</text>
                                <rect x="65" y="30" width="90" height="50" fill="url(#p_meter_glassReflection)" rx="3" ry="3"/>
                                <g filter="url(#p_meter_dropShadow)">
                                    <rect x="65" y="90" width="20" height="12" rx="2" ry="2" fill="url(#p_meter_buttonGradient)"/> <rect x="88" y="90" width="20" height="12" rx="2" ry="2" fill="url(#p_meter_buttonGradient)"/>
                                    <rect x="111" y="90" width="20" height="12" rx="2" ry="2" fill="url(#p_meter_buttonGradient)"/> <rect x="134" y="90" width="20" height="12" rx="2" ry="2" fill="url(#p_meter_buttonGradient)"/>
                                    <rect x="75" y="107" width="28" height="12" rx="2" ry="2" fill="url(#p_meter_buttonGradient)"/> <rect x="117" y="107" width="28" height="12" rx="2" ry="2" fill="url(#p_meter_buttonGradient)"/>
                                </g>
                                <circle cx="110" cy="170" r="40" fill="url(#p_meter_rotaryGradient)" filter="url(#p_meter_dropShadow)"/>
                                <g stroke="#888888" stroke-width="1.5" stroke-linecap="round">
                                    <line x1="110" y1="133" x2="110" y2="128" transform="rotate(0 110 170)"/> <line x1="110" y1="133" x2="110" y2="128" transform="rotate(30 110 170)"/>
                                    <line x1="110" y1="133" x2="110" y2="128" transform="rotate(60 110 170)"/> <line x1="110" y1="133" x2="110" y2="128" transform="rotate(90 110 170)"/>
                                    <line x1="110" y1="133" x2="110" y2="128" transform="rotate(120 110 170)"/> <line x1="110" y1="133" x2="110" y2="128" transform="rotate(150 110 170)"/>
                                    <line x1="110" y1="133" x2="110" y2="128" transform="rotate(180 110 170)"/> <line x1="110" y1="133" x2="110" y2="128" transform="rotate(210 110 170)"/>
                                    <line x1="110" y1="133" x2="110" y2="128" transform="rotate(240 110 170)"/> <line x1="110" y1="133" x2="110" y2="128" transform="rotate(270 110 170)"/>
                                    <line x1="110" y1="133" x2="110" y2="128" transform="rotate(300 110 170)"/> <line x1="110" y1="133" x2="110" y2="128" transform="rotate(330 110 170)"/>
                                </g>
                                <rect x="102" y="138" width="16" height="32" rx="3" ry="3" fill="url(#p_meter_knobGradient)" transform="rotate(45 110 170)" stroke="#101010" stroke-width="0.5"/>
                                <rect x="108" y="140" width="4" height="8" fill="#606060" transform="rotate(45 110 170)" rx="1" ry="1"/>
                                <circle cx="110" cy="230" r="8" fill="url(#p_meter_buttonGradient)" filter="url(#p_meter_dropShadow)"/>
                                <circle cx="85" cy="255" r="8" fill="#1A1A1A"/> <circle cx="85" cy="255" r="6" fill="#303030"/> <circle cx="85" cy="255" r="3" fill="#101010"/>
                                <circle cx="135" cy="255" r="8" fill="red"/> <circle cx="135" cy="255" r="6" fill="#FF5050"/> <circle cx="135" cy="255" r="3" fill="#B00000"/>
                                <g id="p_meter_black-probe-assembly">
                                    <path d="M 85 263 Q 60 300 75 370" stroke="#252525" stroke-width="4.5" fill="none" stroke-linecap="round"/>
                                    <g transform="rotate(-15 75 370)">
                                        <rect x="70" y="320" width="10" height="50" rx="3" ry="3" fill="url(#p_meter_probeHandleBlack)"/>
                                        <rect x="71" y="300" width="8" height="20" fill="url(#p_meter_metalTipGradient)"/>
                                        <polygon points="71,300 79,300 75,290" fill="url(#p_meter_metalTipGradient)"/>
                                    </g>
                                </g>
                                <g id="p_meter_red-probe-assembly">
                                    <path d="M 135 263 Q 160 300 145 370" stroke="#252525" stroke-width="4.5" fill="none" stroke-linecap="round"/>
                                    <g transform="rotate(15 145 370)">
                                        <rect x="140" y="320" width="10" height="50" rx="3" ry="3" fill="url(#p_meter_probeHandleRed)"/>
                                        <rect x="141" y="300" width="8" height="20" fill="url(#p_meter_metalTipGradient)"/>
                                        <polygon points="141,300 149,300 145,290" fill="url(#p_meter_metalTipGradient)"/>
                                    </g>
                                </g>
                            </g>

                            <!-- Ohm's Law Diagram -->
                            <g id="p_ohmslaw_diagram_component" transform="translate(710, 50) scale(0.6)">
                                <style> .p_ohm_circle-bg { fill: #005BAB; stroke: #FF961C; stroke-width: 2; } .p_ohm_divider-line { stroke: #FF961C; stroke-width: 2; } .p_ohm_label { font-family: Arial, sans-serif; font-size: 36px; font-weight: bold; text-anchor: middle; dominant-baseline: middle; fill: #FF961C; } </style>
                                <circle cx="100" cy="100" r="80" class="p_ohm_circle-bg"/>
                                <line x1="20" y1="100" x2="180" y2="100" class="p_ohm_divider-line"/>
                                <line x1="100" y1="100" x2="100" y2="180" class="p_ohm_divider-line"/>
                                <text x="100" y="65" class="p_ohm_label">V</text>
                                <text x="60" y="140" class="p_ohm_label">I</text>
                                <text x="140" y="140" class="p_ohm_label">R</text>
                            </g>

                            <!-- Ohm's Law Calculations (Updated for parallel circuit) -->
                            <g id="p_ohmslaw_calculations" font-family="Arial, sans-serif" font-size="20" text-anchor="middle" dominant-baseline="middle">
                                <text x="770" y="182.5" fill="black" font-weight="bold">R_total = (R1 Ã— R2) / (R1 + R2)</text>
                                <text x="770" y="212.5" fill="black" font-weight="bold">R_total = (3Î© Ã— 3Î©) / (3Î© + 3Î©) = 1.5Î©</text>
                                <text x="770" y="242.5" fill="black" font-weight="bold">I = V / R_total</text>
                                <text x="770" y="272.5" fill="black" font-weight="bold">I = 9V / 1.5Î©</text>
                                <text x="770" y="302.5" fill="black" font-weight="bold">I = 6A</text>
                            </g>

                            <!-- Wires (Updated for parallel circuit with two lightbulbs stacked) -->
                            <g id="wires" stroke-width="3" fill="none">
                                <!-- 1. Battery Left Terminal to Common Positive Rail (Connects to both bulbs from the left) -->
                                <path d="M 95.5 433 V 400" stroke="black" class="current-flow"/>
                                
                                <!-- 2. Common Positive Rail to Lightbulb 1 Bottom -->
                                <path d="M 95.5 400 V 180 H 250" stroke="black" class="current-flow"/>
                                
                                <!-- 3. Common Positive Rail to Lightbulb 2 Bottom -->
                                <path d="M 95.5 380 V 380 H 250" stroke="black" class="current-flow"/>
                                
                                <!-- 4. Lightbulb 1 Bottom to Common Negative Rail -->
                                <path d="M 250 180 H 380 V 310" stroke="black" class="current-flow"/>
                                
                                <!-- 5. Lightbulb 2 Bottom to Common Negative Rail -->
                                <path d="M 250 380 H 380 V 310" stroke="black" class="current-flow"/>
                                
                                <!-- 6. Common Negative Rail to Multimeter Red Probe Tip -->
                                <path d="M 380 348 H 448 V 340" stroke="black" class="current-flow"/>
                                
                                <!-- 7. Multimeter Black Probe Tip to Battery Right Terminal -->
                                <path d="M 485 360 V 423 H 134.5 V 435" stroke="black" class="current-flow"/>
                            </g>
                            
                            <!-- é›»åœ§è¡¨ç¤º -->
                            <text x="115" y="400" text-anchor="middle" font-size="20" fill="#005BAB" font-weight="bold">9V</text>
                            
                            <!-- é›»å­ã®çµŒè·¯ï¼ˆä¸Šã®çµŒè·¯ï¼‰ -->
                            <path id="parallel-electron-path1" d="M 95.5 433 V 180 H 250 L 250,148 H 380 V 360.1 L 485,360.1 L 485,433 H 134.5" fill="none"/>
                            
                            <!-- é›»å­ã®çµŒè·¯ï¼ˆä¸‹ã®çµŒè·¯ï¼‰ -->
                            <path id="parallel-electron-path2" d="M 95.5 433 V 380 H 250 L 250,348 H 380 V 360.1 L 485,360.1 L 485,433 H 134.5" fill="none"/>
                            
                            <!-- é›»å­ã‚°ãƒ«ãƒ¼ãƒ— -->
                            <g id="electrons"></g>
                        </svg>
                    </div>
                </div>

                <div class="card">
                    <h2>ğŸ“ ä¸¦åˆ—å›è·¯ã‚’ç†è§£ã—ã‚ˆã†</h2>

                    <div class="theory-box">
                        <h3>ğŸ” ä¸¦åˆ—å›è·¯ã®ç‰¹å¾´</h3>
                        <ul>
                            <li>ğŸ”€ æŠµæŠ—ãŒä¸¦ã‚“ã§ã¤ãªãŒã£ã¦ã„ã‚‹</li>
                            <li>ğŸ”‹ é›»åœ§ã¯ã©ã“ã§ã‚‚åŒã˜å€¤</li>
                            <li>âš¡ é›»æµã¯å„çµŒè·¯ã«åˆ†é…ã•ã‚Œã‚‹</li>
                            <li>ğŸ“Š åˆæˆæŠµæŠ—ã¯å…ƒã®æŠµæŠ—ã‚ˆã‚Šå°ã•ããªã‚‹</li>
                        </ul>
                    </div>

                    <div class="question-box">
                        <h3>â“ å•é¡Œ1ï¼šåˆæˆæŠµæŠ—ã‚’æ±‚ã‚ã‚ˆã†</h3>
                        <p>Râ‚ = 3Î©ã€Râ‚‚ = 3Î© ã®ã¨ãã€åˆæˆæŠµæŠ—ã¯ã„ãã¤ã§ã—ã‚‡ã†ã‹ï¼Ÿ</p>
                        
                        <div class="formula-display">
                            <div class="main-formula">1/Råˆæˆ = 1/Râ‚ + 1/Râ‚‚</div>
                            <div class="sub-formula">ã¾ãŸã¯ Råˆæˆ = (Râ‚ Ã— Râ‚‚) Ã· (Râ‚ + Râ‚‚)</div>
                        </div>

                        <div class="input-group">
                            <label>åˆæˆæŠµæŠ—ï¼š</label>
                            <input type="number" id="parallel-resistance-answer" placeholder="ï¼Ÿ" step="0.1">
                            <span>Î©ï¼ˆã‚ªãƒ¼ãƒ ï¼‰</span>
                            <button class="check-button" onclick="checkParallelAnswer('resistance')">ç¢ºèª</button>
                            <button class="hint-button" onclick="showParallelHint('resistance')">ğŸ’¡ ãƒ’ãƒ³ãƒˆ</button>
                        </div>

                        <div id="parallel-resistance-feedback" class="feedback"></div>
                    </div>

                    <div class="question-box" id="parallel-question2" style="display: none;">
                        <h3>â“ å•é¡Œ2ï¼šç·é›»æµã‚’æ±‚ã‚ã‚ˆã†</h3>
                        <p>é›»åœ§ãŒ9Vã€åˆæˆæŠµæŠ—ãŒ1.5Î©ã®ã¨ãã€ç·é›»æµã¯ï¼Ÿ</p>
                        
                        <div class="input-group">
                            <label>ç·é›»æµ (I)ï¼š</label>
                            <input type="number" id="parallel-current-answer" placeholder="ï¼Ÿ" step="0.1">
                            <span>Aï¼ˆã‚¢ãƒ³ãƒšã‚¢ï¼‰</span>
                            <button class="check-button" onclick="checkParallelAnswer('current')">ç¢ºèª</button>
                        </div>

                        <div id="parallel-current-feedback" class="feedback"></div>
                    </div>

                    <div class="theory-box" id="parallel-final" style="display: none;">
                        <h3>ğŸ‰ ä¸¦åˆ—å›è·¯ãƒã‚¹ã‚¿ãƒ¼ï¼</h3>
                        <div class="formula-display">
                            <div class="sub-formula">åˆæˆæŠµæŠ—ï¼š1/R = 1/Râ‚ + 1/Râ‚‚ + ...</div>
                            <div class="sub-formula">é›»åœ§ï¼šV = ä¸€å®šï¼ˆã©ã“ã§ã‚‚åŒã˜ï¼‰</div>
                            <div class="sub-formula">å„çµŒè·¯ã®é›»æµï¼šIâ‚ = V Ã· Râ‚</div>
                            <div class="sub-formula">ç·é›»æµï¼šI = Iâ‚ + Iâ‚‚ + ...</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½
        function switchTab(tabName) {
            // ã™ã¹ã¦ã®ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’éè¡¨ç¤º
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // ã™ã¹ã¦ã®ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã‹ã‚‰ active ã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // é¸æŠã•ã‚ŒãŸã‚¿ãƒ–ã‚’è¡¨ç¤º
            document.getElementById(`${tabName}-tab`).classList.add('active');
            
            // é¸æŠã•ã‚ŒãŸãƒœã‚¿ãƒ³ã« active ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ 
            event.target.classList.add('active');
            
            // æ—¢å­˜ã®é›»å­ã‚’ã‚¯ãƒªã‚¢
            electrons.forEach(e => e.element.remove());
            electrons = [];
            
            // ã‚¿ãƒ–ã«å¿œã˜ã¦é›»å­ã‚’ä½œæˆ
            setTimeout(() => {
                if (tabName === 'basic') {
                    for (let i = 0; i < 6; i++) {
                        createElectron('#electron-path');
                    }
                } else if (tabName === 'series') {
                    for (let i = 0; i < 5; i++) {
                        createElectron('#series-electron-path');
                    }
                } else if (tabName === 'parallel') {
                    // ä¸¦åˆ—å›è·¯ã§ã¯ä¸¡æ–¹ã®çµŒè·¯ã«é›»å­ã‚’é…ç½®
                    for (let i = 0; i < 4; i++) {
                        createElectron('#parallel-electron-path1');
                    }
                    for (let i = 0; i < 8; i++) {
                        createElectron('#parallel-electron-path2');
                    }
                } else if (tabName === 'composite') {
                    // åˆæˆæŠµæŠ—ã‚¿ãƒ–ãŒé¸æŠã•ã‚ŒãŸã¨ãã®åˆæœŸåŒ–
                    updateCompositeCircuit();
                }
                // comparison ã‚¿ãƒ–ã§ã¯é›»å­ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãªã—
            }, 100);
        }

        // é›»å­ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†
        let electronSpeed = 2;
        let electrons = [];
        
        function createElectron(pathId = '#electron-path') {
            const activeTab = document.querySelector('.tab-content.active');
            const svg = activeTab.querySelector('.circuit-svg');
            const electronGroup = svg.querySelector('#electrons') || createElectronGroup(svg);
            
            const electron = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
            electron.setAttribute('r', '5');
            electron.setAttribute('fill', '#FF961C');
            electron.setAttribute('filter', 'drop-shadow(0 0 5px rgba(255,150,28,0.8))');
            
            const animateMotion = document.createElementNS('http://www.w3.org/2000/svg', 'animateMotion');
            animateMotion.setAttribute('dur', `${4 / electronSpeed}s`);
            animateMotion.setAttribute('repeatCount', 'indefinite');
            animateMotion.setAttribute('begin', `${Math.random() * 4}s`);
            
            const mpath = document.createElementNS('http://www.w3.org/2000/svg', 'mpath');
            mpath.setAttributeNS('http://www.w3.org/1999/xlink', 'href', pathId);
            
            animateMotion.appendChild(mpath);
            electron.appendChild(animateMotion);
            
            electronGroup.appendChild(electron);
            electrons.push({element: electron, animation: animateMotion});
        }
        
        function createElectronGroup(svg) {
            const group = document.createElementNS('http://www.w3.org/2000/svg', 'g');
            group.setAttribute('id', 'electrons');
            svg.appendChild(group);
            return group;
        }

        // åˆæœŸé›»å­ã‚’ä½œæˆï¼ˆåŸºæœ¬å›è·¯ç”¨ï¼‰
        setTimeout(() => {
            for (let i = 0; i < 6; i++) {
                createElectron();
            }
        }, 100);

        // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã§é›»å­ã®é€Ÿåº¦ã‚’èª¿æ•´
        const speedSlider = document.getElementById('speed-slider');
        if (speedSlider) {
            const speedDisplay = document.getElementById('speed-display');
            
            speedSlider.addEventListener('input', function() {
                electronSpeed = parseFloat(this.value);
                const speedLabels = ['ã¨ã¦ã‚‚é…ã„', 'é…ã„', 'é€šå¸¸', 'é€Ÿã„', 'ã¨ã¦ã‚‚é€Ÿã„'];
                const index = Math.floor((electronSpeed - 0.5) / 0.9);
                speedDisplay.textContent = speedLabels[Math.min(index, speedLabels.length - 1)];
                
                // é›»å­ã®é€Ÿåº¦ã‚’æ›´æ–°
                electrons.forEach(e => {
                    e.animation.setAttribute('dur', `${4 / electronSpeed}s`);
                });
            });
        }

        // ç›´åˆ—å›è·¯ã®ç­”ãˆãƒã‚§ãƒƒã‚¯
        function checkSeriesAnswer(type) {
            if (type === 'resistance') {
                const answer = parseFloat(document.getElementById('series-resistance-answer').value);
                const feedback = document.getElementById('series-resistance-feedback');
                
                if (answer === 5) {
                    feedback.className = 'feedback correct';
                    feedback.innerHTML = 'ğŸ‰ æ­£è§£ã§ã™ï¼ 2Î© + 3Î© = 5Î© ã§ã™ï¼';
                    feedback.style.display = 'block';
                    
                    setTimeout(() => {
                        document.getElementById('series-question2').style.display = 'block';
                        document.getElementById('series-step1').classList.remove('active');
                        document.getElementById('series-step1').classList.add('completed');
                        document.getElementById('series-step2').classList.add('active');
                    }, 1500);
                } else if (answer) {
                    feedback.className = 'feedback incorrect';
                    feedback.innerHTML = 'âŒ ã‚‚ã†ä¸€åº¦è¨ˆç®—ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ç›´åˆ—å›è·¯ã§ã¯æŠµæŠ—ã‚’è¶³ã—ã¾ã™ã€‚';
                    feedback.style.display = 'block';
                }
            } else if (type === 'current') {
                const answer = parseFloat(document.getElementById('series-current-answer').value);
                const feedback = document.getElementById('series-current-feedback');
                
                if (answer === 2.4) {
                    feedback.className = 'feedback correct';
                    feedback.innerHTML = 'ğŸ‰ æ­£è§£ã§ã™ï¼ 12V Ã· 5Î© = 2.4A ã§ã™ï¼';
                    feedback.style.display = 'block';
                    
                    document.getElementById('series-current-display').textContent = '2.4A';
                    
                    setTimeout(() => {
                        document.getElementById('series-final').style.display = 'block';
                        document.getElementById('series-step2').classList.remove('active');
                        document.getElementById('series-step2').classList.add('completed');
                        document.getElementById('series-step3').classList.add('active');
                    }, 1500);
                } else if (answer) {
                    feedback.className = 'feedback incorrect';
                    feedback.innerHTML = 'âŒ ã‚‚ã†ä¸€åº¦è¨ˆç®—ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚I = V Ã· R ã§ã™ã€‚';
                    feedback.style.display = 'block';
                }
            }
        }

        // ä¸¦åˆ—å›è·¯ã®ç­”ãˆãƒã‚§ãƒƒã‚¯ï¼ˆä¿®æ­£ç‰ˆï¼‰
        function checkParallelAnswer(type) {
            if (type === 'resistance') {
                const answer = parseFloat(document.getElementById('parallel-resistance-answer').value);
                const feedback = document.getElementById('parallel-resistance-feedback');
                
                if (answer === 1.5) {
                    feedback.className = 'feedback correct';
                    feedback.innerHTML = 'ğŸ‰ æ­£è§£ã§ã™ï¼ (3 Ã— 3) Ã· (3 + 3) = 9 Ã· 6 = 1.5Î© ã§ã™ï¼';
                    feedback.style.display = 'block';
                    
                    setTimeout(() => {
                        document.getElementById('parallel-question2').style.display = 'block';
                        document.getElementById('parallel-step1').classList.remove('active');
                        document.getElementById('parallel-step1').classList.add('completed');
                        document.getElementById('parallel-step2').classList.add('active');
                    }, 1500);
                } else if (answer) {
                    feedback.className = 'feedback incorrect';
                    feedback.innerHTML = 'âŒ ã‚‚ã†ä¸€åº¦è¨ˆç®—ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚(Râ‚ Ã— Râ‚‚) Ã· (Râ‚ + Râ‚‚) ã‚’ä½¿ã£ã¦ã¿ã¦ãã ã•ã„ã€‚';
                    feedback.style.display = 'block';
                }
            } else if (type === 'current') {
                const answer = parseFloat(document.getElementById('parallel-current-answer').value);
                const feedback = document.getElementById('parallel-current-feedback');
                
                if (answer === 6) {
                    feedback.className = 'feedback correct';
                    feedback.innerHTML = 'ğŸ‰ æ­£è§£ã§ã™ï¼ 9V Ã· 1.5Î© = 6A ã§ã™ï¼';
                    feedback.style.display = 'block';
                    
                    document.getElementById('parallel-current-display').textContent = '6A';
                    
                    setTimeout(() => {
                        document.getElementById('parallel-final').style.display = 'block';
                        document.getElementById('parallel-step2').classList.remove('active');
                        document.getElementById('parallel-step2').classList.add('completed');
                        document.getElementById('parallel-step3').classList.add('active');
                    }, 1500);
                } else if (answer) {
                    feedback.className = 'feedback incorrect';
                    feedback.innerHTML = 'âŒ ã‚‚ã†ä¸€åº¦è¨ˆç®—ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚I = V Ã· R ã§ã™ã€‚';
                    feedback.style.display = 'block';
                }
            }
        }

        // ãƒ’ãƒ³ãƒˆæ©Ÿèƒ½ï¼ˆç›´åˆ—å›è·¯ï¼‰
        function showSeriesHint(type) {
            if (type === 'resistance') {
                const feedback = document.getElementById('series-resistance-feedback');
                feedback.className = 'feedback hint';
                feedback.innerHTML = 'ğŸ’¡ ãƒ’ãƒ³ãƒˆï¼šç›´åˆ—å›è·¯ã§ã¯æŠµæŠ—ã‚’è¶³ã—ç®—ã—ã¾ã™ã€‚2 + 3 = ?';
                feedback.style.display = 'block';
            }
        }

        // ãƒ’ãƒ³ãƒˆæ©Ÿèƒ½ï¼ˆä¸¦åˆ—å›è·¯ï¼‰
        function showParallelHint(type) {
            if (type === 'resistance') {
                const feedback = document.getElementById('parallel-resistance-feedback');
                feedback.className = 'feedback hint';
                feedback.innerHTML = 'ğŸ’¡ ãƒ’ãƒ³ãƒˆï¼š(3 Ã— 3) Ã· (3 + 3) = 9 Ã· 6 = ?';
                feedback.style.display = 'block';
            }
        }

        // ç­”ãˆã®ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½
        function checkAnswer(type) {
            if (type === 'current') {
                const answer = parseFloat(document.getElementById('current-answer').value);
                const feedback = document.getElementById('current-feedback');
                
                if (answer === 2.4) {
                    feedback.className = 'feedback correct';
                    feedback.innerHTML = 'ğŸ‰ æ­£è§£ã§ã™ï¼ 12V Ã· 5Î© = 2.4A ã§ã™ï¼';
                    feedback.style.display = 'block';
                    
                    // é›»æµè¨ˆã®è¡¨ç¤ºã‚’æ›´æ–°
                    document.getElementById('current-display').textContent = '2.4A';
                    
                    // æ¬¡ã®å•é¡Œã‚’è¡¨ç¤º
                    setTimeout(() => {
                        document.getElementById('question2').style.display = 'block';
                        document.getElementById('step1').classList.remove('active');
                        document.getElementById('step1').classList.add('completed');
                        document.getElementById('step2').classList.add('active');
                    }, 1500);
                } else if (answer) {
                    feedback.className = 'feedback incorrect';
                    feedback.innerHTML = 'âŒ ã‚‚ã†ä¸€åº¦è¨ˆç®—ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚V = I Ã— R ã‚’ I = ... ã®å½¢ã«å¤‰å½¢ã—ã¦ã¿ã¦ãã ã•ã„ã€‚';
                    feedback.style.display = 'block';
                }
            } else if (type === 'current2') {
                const answer = parseFloat(document.getElementById('current-answer2').value);
                const feedback = document.getElementById('current2-feedback');
                
                if (answer === 4) {
                    feedback.className = 'feedback correct';
                    feedback.innerHTML = 'ğŸ‰ æ­£è§£ã§ã™ï¼ 12V Ã· 3Î© = 4A ã§ã™ï¼é›»åœ§ãŒå¢—ãˆã‚‹ã¨é›»æµã‚‚å¢—ãˆã¾ã™ã­ï¼';
                    feedback.style.display = 'block';
                    
                    // æ¬¡ã®å•é¡Œã‚’è¡¨ç¤º
                    setTimeout(() => {
                        document.getElementById('question3').style.display = 'block';
                    }, 1500);
                } else if (answer) {
                    feedback.className = 'feedback incorrect';
                    feedback.innerHTML = 'âŒ ã‚‚ã†ä¸€åº¦è¨ˆç®—ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚12V Ã· 3Î© = ?';
                    feedback.style.display = 'block';
                }
            } else if (type === 'relationship') {
                const selected = document.querySelector('input[name="relationship"]:checked');
                const feedback = document.getElementById('relationship-feedback');
                
                if (selected && selected.value === '2') {
                    feedback.className = 'feedback correct';
                    feedback.innerHTML = 'ğŸ‰ æ­£è§£ã§ã™ï¼æŠµæŠ—ãŒä¸€å®šã®ã¨ãã€é›»åœ§ã¨é›»æµã¯æ¯”ä¾‹é–¢ä¿‚ã«ã‚ã‚Šã¾ã™ï¼';
                    feedback.style.display = 'block';
                    
                    // æœ€çµ‚èª¬æ˜ã‚’è¡¨ç¤º
                    setTimeout(() => {
                        document.getElementById('final-theory').style.display = 'block';
                        document.getElementById('step2').classList.remove('active');
                        document.getElementById('step2').classList.add('completed');
                        document.getElementById('step3').classList.add('active');
                    }, 1500);
                } else if (selected) {
                    feedback.className = 'feedback incorrect';
                    feedback.innerHTML = 'âŒ 9Vâ†’3Aã€12Vâ†’4A ã®çµæœã‚’æ¯”ã¹ã¦ã¿ã¦ãã ã•ã„ã€‚';
                    feedback.style.display = 'block';
                }
            }
        }

        // ãƒ’ãƒ³ãƒˆæ©Ÿèƒ½
        function showHint(type) {
            if (type === 'current') {
                const feedback = document.getElementById('current-feedback');
                feedback.className = 'feedback hint';
                feedback.innerHTML = 'ğŸ’¡ ãƒ’ãƒ³ãƒˆï¼šV = I Ã— R ã‚’å¤‰å½¢ã™ã‚‹ã¨... I = V Ã· R ã«ãªã‚Šã¾ã™ã€‚9 Ã· 3 = ?';
                feedback.style.display = 'block';
            } else if (type === 'current2') {
                const feedback = document.getElementById('current2-feedback');
                feedback.className = 'feedback hint';
                feedback.innerHTML = 'ğŸ’¡ ãƒ’ãƒ³ãƒˆï¼šåŒã˜å…¬å¼ã‚’ä½¿ã„ã¾ã™ã€‚I = V Ã· R ã§ã€12 Ã· 3 = ?';
                feedback.style.display = 'block';
            }
        }

        // æœ€çµ‚å•é¡Œã®ãƒã‚§ãƒƒã‚¯
        function checkFinalAnswer() {
            const selected = document.querySelector('input[name="final-answer"]:checked');
            const feedback = document.getElementById('final-feedback');
            
            if (selected && selected.value === 'parallel') {
                feedback.className = 'feedback correct';
                feedback.innerHTML = 'ğŸ‰ æ­£è§£ã§ã™ï¼ä¸¦åˆ—æ¥ç¶šã§ã¯å„é›»çƒã«åŒã˜é›»åœ§ï¼ˆ9Vï¼‰ãŒã‹ã‹ã‚Šã€åˆæˆæŠµæŠ—ãŒæœ€ã‚‚å°ã•ããªã‚‹ãŸã‚ã€é›»æµãŒæœ€å¤§ã«ãªã‚Šæœ€ã‚‚æ˜ã‚‹ãå…‰ã‚Šã¾ã™ï¼<br><br>ç›´åˆ—ï¼šåˆæˆæŠµæŠ—9Î© â†’ é›»æµ1A<br>ä¸¦åˆ—ï¼šåˆæˆæŠµæŠ—1Î© â†’ é›»æµ9Aï¼ˆå„é›»çƒ3Aï¼‰';
                feedback.style.display = 'block';
            } else if (selected) {
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = 'âŒ ã‚‚ã†ä¸€åº¦è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚é›»çƒã®æ˜ã‚‹ã•ã¯æµã‚Œã‚‹é›»æµã®å¤§ãã•ã§æ±ºã¾ã‚Šã¾ã™ã€‚ã©ã®æ¥ç¶šæ–¹æ³•ãŒæœ€ã‚‚å¤§ããªé›»æµã‚’æµã›ã‚‹ã§ã—ã‚‡ã†ã‹ï¼Ÿ';
                feedback.style.display = 'block';
            }
        }

        // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
        window.addEventListener('load', () => {
            const cards = document.querySelectorAll('.card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    card.style.transition = 'all 0.5s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 200);
            });
        });

        // åˆæˆæŠµæŠ—è¨ˆç®—æ©Ÿã®é–¢æ•°
        function updateCompositeCircuit() {
            const circuitType = document.getElementById('circuit-type').value;
            const r1 = parseFloat(document.getElementById('r1-input').value) || 100;
            const r2 = parseFloat(document.getElementById('r2-input').value) || 200;
            const r3 = parseFloat(document.getElementById('r3-input').value) || 300;
            
            let compositeResistance;
            let explanation;
            
            if (circuitType === 'series') {
                compositeResistance = r1 + r2 + r3;
                explanation = `ç›´åˆ—å›è·¯ã®è¨ˆç®—éç¨‹ï¼š<br>
                R = Râ‚ + Râ‚‚ + Râ‚ƒ<br>
                R = ${r1}Î© + ${r2}Î© + ${r3}Î©<br>
                R = ${compositeResistance}Î©`;
                drawSeriesCircuit(r1, r2, r3);
            } else {
                const reciprocalSum = 1/r1 + 1/r2 + 1/r3;
                compositeResistance = 1 / reciprocalSum;
                explanation = `ä¸¦åˆ—å›è·¯ã®è¨ˆç®—éç¨‹ï¼š<br>
                1/R = 1/Râ‚ + 1/Râ‚‚ + 1/Râ‚ƒ<br>
                1/R = 1/${r1} + 1/${r2} + 1/${r3}<br>
                1/R = ${reciprocalSum.toFixed(6)}<br>
                R = ${compositeResistance.toFixed(2)}Î©`;
                drawParallelCircuit(r1, r2, r3);
            }
            
            document.getElementById('composite-result').innerHTML = 
                `åˆæˆæŠµæŠ—: <span style="color: var(--accent-color);">${compositeResistance.toFixed(2)}Î©</span>`;
            document.getElementById('composite-explanation').innerHTML = explanation;
        }

        function drawSeriesCircuit(r1, r2, r3) {
            const svg = document.getElementById('composite-circuit');
            svg.innerHTML = `
                <defs>
                    <!-- From 9Vè§’å‹é›»æ± .txt -->
                    <linearGradient id="comp_series_batt_goldMetalGradient" x1="0.5" y1="0" x2="0.5" y2="1">
                      <stop offset="0%" stop-color="#F0E68C"/> <stop offset="15%" stop-color="#D4AF37"/> <stop offset="50%" stop-color="#B8860B"/> <stop offset="85%" stop-color="#D4AF37"/> <stop offset="100%" stop-color="#F0E68C"/>
                    </linearGradient>
                    <linearGradient id="comp_series_batt_goldHighlight" x1="0.5" y1="0" x2="0.5" y2="1">
                      <stop offset="0%" stop-color="white" stop-opacity="0.5"/> <stop offset="100%" stop-color="white" stop-opacity="0"/>
                    </linearGradient>
                    <linearGradient id="comp_series_batt_mainBlueGradient" x1="0.5" y1="0" x2="0.5" y2="1">
                      <stop offset="0%" stop-color="#002855"/> <stop offset="100%" stop-color="#003366"/>
                    </linearGradient>
                    <linearGradient id="comp_series_batt_centerBlueBeam" x1="0.5" y1="0" x2="0.5" y2="1">
                      <stop offset="0%" stop-color="#6CB4EE"/> <stop offset="50%" stop-color="#1E90FF"/> <stop offset="100%" stop-color="#4682B4"/>
                    </linearGradient>
                    <linearGradient id="comp_series_batt_blueBeamSideFade" x1="0" y1="0.5" x2="1" y2="0.5">
                      <stop offset="0%" stop-color="#003366" stop-opacity="1"/> <stop offset="15%" stop-color="#1E90FF" stop-opacity="0.8"/> <stop offset="50%" stop-color="#1E90FF" stop-opacity="1"/> <stop offset="85%" stop-color="#1E90FF" stop-opacity="0.8"/> <stop offset="100%" stop-color="#003366" stop-opacity="1"/>
                    </linearGradient>
                    <linearGradient id="comp_series_batt_simpleTerminalGradient" x1="0.5" y1="0" x2="0.5" y2="1">
                      <stop offset="0%" stop-color="#E0E0E0"/> <stop offset="50%" stop-color="#BDBDBD"/> <stop offset="100%" stop-color="#D0D0D0"/>
                    </linearGradient>
                    <linearGradient id="comp_series_batt_batterySideShine" x1="0.5" y1="0" x2="0.5" y2="1">
                        <stop offset="0%" stop-color="white" stop-opacity="0.35"/> <stop offset="50%" stop-color="white" stop-opacity="0.1"/> <stop offset="100%" stop-color="white" stop-opacity="0.35"/>
                    </linearGradient>
                    <!-- Resistor body color -->
                    <linearGradient id="comp_series_resistorBodyGradient" x1="0.5" y1="0" x2="0.5" y2="1">
                      <stop offset="0%" stop-color="#F5E6CA"/> <!-- Lighter top -->
                      <stop offset="50%" stop-color="#E4C59E"/> <!-- Main beige -->
                      <stop offset="100%" stop-color="#D1B08E"/> <!-- Darker bottom for slight 3D -->
                    </linearGradient>
                    <!-- Multimeter gradients -->
                    <linearGradient id="comp_series_meter_bodyGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                      <stop offset="0%" style="stop-color:#4A4A4A;stop-opacity:1" /> <stop offset="100%" style="stop-color:#303030;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient id="comp_series_meter_buttonGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                      <stop offset="0%" style="stop-color:#606060;stop-opacity:1" /> <stop offset="100%" style="stop-color:#454545;stop-opacity:1" />
                    </linearGradient>
                    <radialGradient id="comp_series_meter_rotaryGradient" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">
                      <stop offset="0%" style="stop-color:#505050;stop-opacity:1" /> <stop offset="100%" style="stop-color:#383838;stop-opacity:1" />
                    </radialGradient>
                    <linearGradient id="comp_series_meter_knobGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:#2A2A2A;"/> <stop offset="50%" style="stop-color:#1A1A1A;"/> <stop offset="100%" style="stop-color:#2A2A2A;"/>
                    </linearGradient>
                    <linearGradient id="comp_series_meter_probeHandleBlack" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:#282828;"/> <stop offset="50%" style="stop-color:#101010;"/> <stop offset="100%" style="stop-color:#282828;"/>
                    </linearGradient>
                    <linearGradient id="comp_series_meter_probeHandleRed" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:#D00000;"/> <stop offset="50%" style="stop-color:#A00000;"/> <stop offset="100%" style="stop-color:#D00000;"/>
                    </linearGradient>
                    <linearGradient id="comp_series_meter_metalTipGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                      <stop offset="0%" style="stop-color:#E0E0E0" /> <stop offset="50%" style="stop-color:#B0B0B0" /> <stop offset="100%" style="stop-color:#E0E0E0" />
                    </linearGradient>
                    <filter id="comp_series_meter_dropShadow" x="-20%" y="-20%" width="140%" height="140%">
                      <feGaussianBlur in="SourceAlpha" stdDeviation="1.5"/> <feOffset dx="1" dy="1" result="offsetblur"/> <feFlood flood-color="rgba(0,0,0,0.3)"/> <feComposite in2="offsetblur" operator="in"/>
                      <feMerge> <feMergeNode/> <feMergeNode in="SourceGraphic"/> </feMerge>
                    </filter>
                    <linearGradient id="comp_series_meter_glassReflection" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:rgba(255,255,255,0.2); stop-opacity:1" /> <stop offset="40%" style="stop-color:rgba(255,255,255,0.05); stop-opacity:1" /> <stop offset="100%" style="stop-color:rgba(255,255,255,0); stop-opacity:1" />
                    </linearGradient>
                </defs>

                <!-- Battery -->
                <g id="battery_component" transform="translate(50, 420) scale(1.3)">
                    <rect x="9" y="19" width="82" height="127" rx="3" ry="3" fill="#333333"/>
                    <rect x="10" y="20" width="80" height="15" fill="url(#comp_series_batt_goldMetalGradient)" rx="2" ry="2"/>
                    <rect x="10" y="20" width="80" height="3" fill="url(#comp_series_batt_goldHighlight)" rx="2" ry="2"/>
                    <rect x="10" y="35" width="80" height="95" fill="url(#comp_series_batt_mainBlueGradient)"/>
                    <rect x="28" y="35" width="44" height="95" fill="url(#comp_series_batt_blueBeamSideFade)"/>
                    <rect x="35" y="35" width="30" height="95" fill="url(#comp_series_batt_centerBlueBeam)"/>
                    <path d="M10,130 L10,118 C30,128 70,128 90,118 L90,130 Z" fill="url(#comp_series_batt_goldMetalGradient)"/>
                    <path d="M10,118 C30,128 70,128 90,118 L90,120 C70,130 30,130 10,120 Z" fill="url(#comp_series_batt_goldHighlight)" fill-opacity="0.7"/>
                    <rect x="10.2" y="20.2" width="1.2" height="109.6" fill="url(#comp_series_batt_batterySideShine)" rx="1" ry="1"/>
                    <rect x="88.6" y="20.2" width="1.2" height="109.6" fill="url(#comp_series_batt_batterySideShine)" rx="1" ry="1"/>
                    <rect x="30" y="10" width="10" height="10" fill="url(#comp_series_batt_simpleTerminalGradient)" rx="1" ry="1"/>
                    <rect x="60" y="10" width="10" height="10" fill="url(#comp_series_batt_simpleTerminalGradient)" rx="1" ry="1"/>
                    <g transform="translate(22.5, 27.5)"> <circle cx="0" cy="0" r="5" fill="white"/> <rect x="-2.5" y="-0.8" width="5" height="1.6" fill="#003366"/> </g>
                    <g transform="translate(77.5, 27.5)"> <circle cx="0" cy="0" r="5" fill="white"/> <path d="M-2.5,0 H2.5 M0,-2.5 V2.5" stroke="#003366" stroke-width="1.5" stroke-linecap="round"/> </g>
                    <text x="50" y="82" fill="white" font-family="'Impact', 'Arial Black', sans-serif" font-size="18" transform="rotate(-90, 50, 82)" text-anchor="middle" letter-spacing="0.5">VOLTMAX</text>
                    <text x="50.5" y="82.5" fill="#002244" fill-opacity="0.5" font-family="'Impact', 'Arial Black', sans-serif" font-size="18" transform="rotate(-90, 50.5, 82.5)" text-anchor="middle" letter-spacing="0.5">VOLTMAX</text>
                    <text x="50" y="125.5" fill="#002855" font-family="Arial, sans-serif" font-size="7" text-anchor="middle" font-weight="bold">9V</text>
                </g>

                <!-- Resistor 1 -->
                <g id="resistor_component_1" transform="translate(150, 100)">
                    <line x1="0" y1="30" x2="26" y2="30" stroke="#333333" stroke-width="2.5"/>
                    <line x1="124" y1="30" x2="150" y2="30" stroke="#333333" stroke-width="2.5"/>
                    <rect x="25" y="15" width="100" height="30" rx="15" ry="15" fill="url(#comp_series_resistorBodyGradient)" stroke="black" stroke-width="2.5"/>
                    <!-- Color bands will be calculated based on resistance value -->
                    <rect x="30" y="15" width="10" height="30" fill="#8B4513" stroke="black" stroke-width="1"/>
                    <rect x="43" y="15" width="5" height="30" fill="#000000" stroke="black" stroke-width="1"/>
                    <rect x="49" y="15" width="5" height="30" fill="#FF0000" stroke="black" stroke-width="1"/>
                    <rect x="110" y="15" width="10" height="30" fill="#FFD700" stroke="black" stroke-width="1"/>
                </g>
                <text x="225" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" fill="black" font-weight="bold">${r1}Î©</text>

                <!-- Resistor 2 -->
                <g id="resistor_component_2" transform="translate(350, 100)">
                    <line x1="0" y1="30" x2="26" y2="30" stroke="#333333" stroke-width="2.5"/>
                    <line x1="124" y1="30" x2="150" y2="30" stroke="#333333" stroke-width="2.5"/>
                    <rect x="25" y="15" width="100" height="30" rx="15" ry="15" fill="url(#comp_series_resistorBodyGradient)" stroke="black" stroke-width="2.5"/>
                    <rect x="30" y="15" width="10" height="30" fill="#8B4513" stroke="black" stroke-width="1"/>
                    <rect x="43" y="15" width="5" height="30" fill="#000000" stroke="black" stroke-width="1"/>
                    <rect x="49" y="15" width="5" height="30" fill="#FF0000" stroke="black" stroke-width="1"/>
                    <rect x="110" y="15" width="10" height="30" fill="#FFD700" stroke="black" stroke-width="1"/>
                </g>
                <text x="425" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" fill="black" font-weight="bold">${r2}Î©</text>

                <!-- Resistor 3 -->
                <g id="resistor_component_3" transform="translate(550, 100)">
                    <line x1="0" y1="30" x2="26" y2="30" stroke="#333333" stroke-width="2.5"/>
                    <line x1="124" y1="30" x2="150" y2="30" stroke="#333333" stroke-width="2.5"/>
                    <rect x="25" y="15" width="100" height="30" rx="15" ry="15" fill="url(#comp_series_resistorBodyGradient)" stroke="black" stroke-width="2.5"/>
                    <rect x="30" y="15" width="10" height="30" fill="#8B4513" stroke="black" stroke-width="1"/>
                    <rect x="43" y="15" width="5" height="30" fill="#000000" stroke="black" stroke-width="1"/>
                    <rect x="49" y="15" width="5" height="30" fill="#FF0000" stroke="black" stroke-width="1"/>
                    <rect x="110" y="15" width="10" height="30" fill="#FFD700" stroke="black" stroke-width="1"/>
                </g>
                <text x="625" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" fill="black" font-weight="bold">${r3}Î©</text>

                <!-- Multimeter -->
                <g id="multimeter_component" transform="translate(750, 150) scale(0.6) rotate(30 125 200)">
                    <rect x="50" y="10" width="120" height="260" rx="10" ry="10" fill="url(#comp_series_meter_bodyGradient)" filter="url(#comp_series_meter_dropShadow)"/>
                    <rect x="52" y="12" width="116" height="256" rx="8" ry="8" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="1"/>
                    
                    <!-- Display -->
                    <rect x="65" y="30" width="90" height="50" fill="#8AB830" rx="3" ry="3"/>
                    <rect x="66" y="31" width="88" height="48" fill="none" stroke="rgba(0,0,0,0.2)" stroke-width="1" rx="2" ry="2"/>
                    <text x="110" y="63" font-family="Consolas, 'Courier New', monospace" font-size="24" fill="#202020" text-anchor="middle" font-weight="bold">${(9 / (r1 + r2 + r3) * 1000).toFixed(1)}mA</text>
                    <rect x="65" y="30" width="90" height="50" fill="url(#comp_series_meter_glassReflection)" rx="3" ry="3"/>
                    
                    <!-- Buttons -->
                    <g filter="url(#comp_series_meter_dropShadow)">
                        <rect x="65" y="90" width="20" height="12" rx="2" ry="2" fill="url(#comp_series_meter_buttonGradient)"/>
                        <rect x="88" y="90" width="20" height="12" rx="2" ry="2" fill="url(#comp_series_meter_buttonGradient)"/>
                        <rect x="111" y="90" width="20" height="12" rx="2" ry="2" fill="url(#comp_series_meter_buttonGradient)"/>
                        <rect x="134" y="90" width="20" height="12" rx="2" ry="2" fill="url(#comp_series_meter_buttonGradient)"/>
                        <rect x="75" y="107" width="28" height="12" rx="2" ry="2" fill="url(#comp_series_meter_buttonGradient)"/>
                        <rect x="117" y="107" width="28" height="12" rx="2" ry="2" fill="url(#comp_series_meter_buttonGradient)"/>
                    </g>
                    
                    <!-- Rotary Switch -->
                    <circle cx="110" cy="170" r="40" fill="url(#comp_series_meter_rotaryGradient)" filter="url(#comp_series_meter_dropShadow)"/>
                    <g stroke="#888888" stroke-width="1.5" stroke-linecap="round">
                        <line x1="110" y1="133" x2="110" y2="128" transform="rotate(0 110 170)"/>
                        <line x1="110" y1="133" x2="110" y2="128" transform="rotate(30 110 170)"/>
                        <line x1="110" y1="133" x2="110" y2="128" transform="rotate(60 110 170)"/>
                        <line x1="110" y1="133" x2="110" y2="128" transform="rotate(90 110 170)"/>
                        <line x1="110" y1="133" x2="110" y2="128" transform="rotate(120 110 170)"/>
                        <line x1="110" y1="133" x2="110" y2="128" transform="rotate(150 110 170)"/>
                        <line x1="110" y1="133" x2="110" y2="128" transform="rotate(180 110 170)"/>
                        <line x1="110" y1="133" x2="110" y2="128" transform="rotate(210 110 170)"/>
                        <line x1="110" y1="133" x2="110" y2="128" transform="rotate(240 110 170)"/>
                        <line x1="110" y1="133" x2="110" y2="128" transform="rotate(270 110 170)"/>
                        <line x1="110" y1="133" x2="110" y2="128" transform="rotate(300 110 170)"/>
                        <line x1="110" y1="133" x2="110" y2="128" transform="rotate(330 110 170)"/>
                    </g>
                    <rect x="102" y="138" width="16" height="32" rx="3" ry="3" fill="url(#comp_series_meter_knobGradient)" transform="rotate(45 110 170)" stroke="#101010" stroke-width="0.5"/>
                    <rect x="108" y="140" width="4" height="8" fill="#606060" transform="rotate(45 110 170)" rx="1" ry="1"/>
                    
                    <!-- Power Button -->
                    <circle cx="110" cy="230" r="8" fill="url(#comp_series_meter_buttonGradient)" filter="url(#comp_series_meter_dropShadow)"/>
                    
                    <!-- Probe Assemblies -->
                    <g id="meter_black-probe-assembly">
                        <path d="M 85 263 Q 60 300 75 370" stroke="#252525" stroke-width="4.5" fill="none" stroke-linecap="round"/>
                        <g transform="rotate(-15 75 370)">
                            <rect x="70" y="320" width="10" height="50" rx="3" ry="3" fill="url(#comp_series_meter_probeHandleBlack)"/>
                            <rect x="71" y="300" width="8" height="20" fill="url(#comp_series_meter_metalTipGradient)"/>
                            <polygon points="71,300 79,300 75,290" fill="url(#comp_series_meter_metalTipGradient)"/>
                        </g>
                    </g>
                    <g id="meter_red-probe-assembly">
                        <path d="M 135 263 Q 160 300 145 370" stroke="#252525" stroke-width="4.5" fill="none" stroke-linecap="round"/>
                        <g transform="rotate(15 145 370)">
                            <rect x="140" y="320" width="10" height="50" rx="3" ry="3" fill="url(#comp_series_meter_probeHandleRed)"/>
                            <rect x="141" y="300" width="8" height="20" fill="url(#comp_series_meter_metalTipGradient)"/>
                            <polygon points="141,300 149,300 145,290" fill="url(#comp_series_meter_metalTipGradient)"/>
                        </g>
                    </g>
                </g>

                <!-- Wires -->
                <g id="wires" stroke-width="3" fill="none">
                    <!-- 1. Battery Left Terminal to Resistor 1 -->
                    <path d="M 95.5 433 V 130 H 150" stroke="black"/>
                    
                    <!-- 2. Resistor 1 to Resistor 2 (Series Connection) -->
                    <path d="M 300 130 H 350" stroke="black"/>
                    
                    <!-- 3. Resistor 2 to Resistor 3 (Series Connection) -->
                    <path d="M 500 130 H 550" stroke="black"/>
                    
                    <!-- 4. Resistor 3 to Multimeter Red Probe Tip -->
                    <path d="M 700 130 H 748 V 345" stroke="black"/>
                    
                    <!-- 5. Multimeter Black Probe Tip to Battery Right Terminal -->
                    <path d="M 785 360 V 400 H 134.5 V 433" stroke="black"/>
                </g>
            `;
        }

        function drawParallelCircuit(r1, r2, r3) {
            const svg = document.getElementById('composite-circuit');
            svg.innerHTML = `
                <defs>
                    <!-- From 9Vè§’å‹é›»æ± .txt -->
                    <linearGradient id="comp_parallel_batt_goldMetalGradient" x1="0.5" y1="0" x2="0.5" y2="1">
                      <stop offset="0%" stop-color="#F0E68C"/> <stop offset="15%" stop-color="#D4AF37"/> <stop offset="50%" stop-color="#B8860B"/> <stop offset="85%" stop-color="#D4AF37"/> <stop offset="100%" stop-color="#F0E68C"/>
                    </linearGradient>
                    <linearGradient id="comp_parallel_batt_goldHighlight" x1="0.5" y1="0" x2="0.5" y2="1">
                      <stop offset="0%" stop-color="white" stop-opacity="0.5"/> <stop offset="100%" stop-color="white" stop-opacity="0"/>
                    </linearGradient>
                    <linearGradient id="comp_parallel_batt_mainBlueGradient" x1="0.5" y1="0" x2="0.5" y2="1">
                      <stop offset="0%" stop-color="#002855"/> <stop offset="100%" stop-color="#003366"/>
                    </linearGradient>
                    <linearGradient id="comp_parallel_batt_centerBlueBeam" x1="0.5" y1="0" x2="0.5" y2="1">
                      <stop offset="0%" stop-color="#6CB4EE"/> <stop offset="50%" stop-color="#1E90FF"/> <stop offset="100%" stop-color="#4682B4"/>
                    </linearGradient>
                    <linearGradient id="comp_parallel_batt_blueBeamSideFade" x1="0" y1="0.5" x2="1" y2="0.5">
                      <stop offset="0%" stop-color="#003366" stop-opacity="1"/> <stop offset="15%" stop-color="#1E90FF" stop-opacity="0.8"/> <stop offset="50%" stop-color="#1E90FF" stop-opacity="1"/> <stop offset="85%" stop-color="#1E90FF" stop-opacity="0.8"/> <stop offset="100%" stop-color="#003366" stop-opacity="1"/>
                    </linearGradient>
                    <linearGradient id="comp_parallel_batt_simpleTerminalGradient" x1="0.5" y1="0" x2="0.5" y2="1">
                      <stop offset="0%" stop-color="#E0E0E0"/> <stop offset="50%" stop-color="#BDBDBD"/> <stop offset="100%" stop-color="#D0D0D0"/>
                    </linearGradient>
                    <linearGradient id="comp_parallel_batt_batterySideShine" x1="0.5" y1="0" x2="0.5" y2="1">
                        <stop offset="0%" stop-color="white" stop-opacity="0.35"/> <stop offset="50%" stop-color="white" stop-opacity="0.1"/> <stop offset="100%" stop-color="white" stop-opacity="0.35"/>
                    </linearGradient>
                    <!-- Resistor body color -->
                    <linearGradient id="comp_parallel_resistorBodyGradient" x1="0.5" y1="0" x2="0.5" y2="1">
                      <stop offset="0%" stop-color="#F5E6CA"/>
                      <stop offset="50%" stop-color="#E4C59E"/>
                      <stop offset="100%" stop-color="#D1B08E"/>
                    </linearGradient>
                    <!-- Multimeter gradients -->
                    <linearGradient id="comp_parallel_meter_bodyGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                      <stop offset="0%" style="stop-color:#4A4A4A;stop-opacity:1" /> <stop offset="100%" style="stop-color:#303030;stop-opacity:1" />
                    </linearGradient>
                    <filter id="comp_parallel_meter_dropShadow" x="-20%" y="-20%" width="140%" height="140%">
                      <feGaussianBlur in="SourceAlpha" stdDeviation="1.5"/> <feOffset dx="1" dy="1" result="offsetblur"/> <feFlood flood-color="rgba(0,0,0,0.3)"/> <feComposite in2="offsetblur" operator="in"/>
                      <feMerge> <feMergeNode/> <feMergeNode in="SourceGraphic"/> </feMerge>
                    </filter>
                    <linearGradient id="comp_parallel_meter_glassReflection" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:rgba(255,255,255,0.2); stop-opacity:1" /> <stop offset="40%" style="stop-color:rgba(255,255,255,0.05); stop-opacity:1" /> <stop offset="100%" style="stop-color:rgba(255,255,255,0); stop-opacity:1" />
                    </linearGradient>
                    <radialGradient id="comp_parallel_meter_rotaryGradient" cx="50%" cy="50%" r="50%" fx="50%" fy="50%">
                      <stop offset="0%" style="stop-color:#505050;stop-opacity:1" /> <stop offset="100%" style="stop-color:#383838;stop-opacity:1" />
                    </radialGradient>
                    <linearGradient id="comp_parallel_meter_knobGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:#2A2A2A;"/> <stop offset="50%" style="stop-color:#1A1A1A;"/> <stop offset="100%" style="stop-color:#2A2A2A;"/>
                    </linearGradient>
                    <linearGradient id="comp_parallel_meter_probeHandleBlack" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:#282828;"/> <stop offset="50%" style="stop-color:#101010;"/> <stop offset="100%" style="stop-color:#282828;"/>
                    </linearGradient>
                    <linearGradient id="comp_parallel_meter_probeHandleRed" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:#D00000;"/> <stop offset="50%" style="stop-color:#A00000;"/> <stop offset="100%" style="stop-color:#D00000;"/>
                    </linearGradient>
                    <linearGradient id="comp_parallel_meter_metalTipGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                      <stop offset="0%" style="stop-color:#E0E0E0" /> <stop offset="50%" style="stop-color:#B0B0B0" /> <stop offset="100%" style="stop-color:#E0E0E0" />
                    </linearGradient>
                </defs>

                <!-- Battery -->
                <g id="battery_component" transform="translate(50, 420) scale(1.3)">
                    <rect x="9" y="19" width="82" height="127" rx="3" ry="3" fill="#333333"/>
                    <rect x="10" y="20" width="80" height="15" fill="url(#comp_parallel_batt_goldMetalGradient)" rx="2" ry="2"/>
                    <rect x="10" y="20" width="80" height="3" fill="url(#comp_parallel_batt_goldHighlight)" rx="2" ry="2"/>
                    <rect x="10" y="35" width="80" height="95" fill="url(#comp_parallel_batt_mainBlueGradient)"/>
                    <rect x="28" y="35" width="44" height="95" fill="url(#comp_parallel_batt_blueBeamSideFade)"/>
                    <rect x="35" y="35" width="30" height="95" fill="url(#comp_parallel_batt_centerBlueBeam)"/>
                    <path d="M10,130 L10,118 C30,128 70,128 90,118 L90,130 Z" fill="url(#comp_parallel_batt_goldMetalGradient)"/>
                    <path d="M10,118 C30,128 70,128 90,118 L90,120 C70,130 30,130 10,120 Z" fill="url(#comp_parallel_batt_goldHighlight)" fill-opacity="0.7"/>
                    <rect x="10.2" y="20.2" width="1.2" height="109.6" fill="url(#comp_parallel_batt_batterySideShine)" rx="1" ry="1"/>
                    <rect x="88.6" y="20.2" width="1.2" height="109.6" fill="url(#comp_parallel_batt_batterySideShine)" rx="1" ry="1"/>
                    <rect x="30" y="10" width="10" height="10" fill="url(#comp_parallel_batt_simpleTerminalGradient)" rx="1" ry="1"/>
                    <rect x="60" y="10" width="10" height="10" fill="url(#comp_parallel_batt_simpleTerminalGradient)" rx="1" ry="1"/>
                    <g transform="translate(22.5, 27.5)"> <circle cx="0" cy="0" r="5" fill="white"/> <rect x="-2.5" y="-0.8" width="5" height="1.6" fill="#003366"/> </g>
                    <g transform="translate(77.5, 27.5)"> <circle cx="0" cy="0" r="5" fill="white"/> <path d="M-2.5,0 H2.5 M0,-2.5 V2.5" stroke="#003366" stroke-width="1.5" stroke-linecap="round"/> </g>
                    <text x="50" y="82" fill="white" font-family="'Impact', 'Arial Black', sans-serif" font-size="18" transform="rotate(-90, 50, 82)" text-anchor="middle" letter-spacing="0.5">VOLTMAX</text>
                    <text x="50.5" y="82.5" fill="#002244" fill-opacity="0.5" font-family="'Impact', 'Arial Black', sans-serif" font-size="18" transform="rotate(-90, 50.5, 82.5)" text-anchor="middle" letter-spacing="0.5">VOLTMAX</text>
                    <text x="50" y="125.5" fill="#002855" font-family="Arial, sans-serif" font-size="7" text-anchor="middle" font-weight="bold">9V</text>
                </g>

                <!-- Resistor 1 -->
                <g id="resistor_component_1" transform="translate(200, 100)">
                    <line x1="0" y1="30" x2="26" y2="30" stroke="#333333" stroke-width="2.5"/>
                    <line x1="124" y1="30" x2="150" y2="30" stroke="#333333" stroke-width="2.5"/>
                    <rect x="25" y="15" width="100" height="30" rx="15" ry="15" fill="url(#comp_parallel_resistorBodyGradient)" stroke="black" stroke-width="2.5"/>
                    <rect x="30" y="15" width="10" height="30" fill="#8B4513" stroke="black" stroke-width="1"/>
                    <rect x="43" y="15" width="5" height="30" fill="#000000" stroke="black" stroke-width="1"/>
                    <rect x="49" y="15" width="5" height="30" fill="#FF0000" stroke="black" stroke-width="1"/>
                    <rect x="110" y="15" width="10" height="30" fill="#FFD700" stroke="black" stroke-width="1"/>
                </g>
                <text x="275" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" fill="black" font-weight="bold">${r1}Î©</text>

                <!-- Resistor 2 -->
                <g id="resistor_component_2" transform="translate(200, 200)">
                    <line x1="0" y1="30" x2="26" y2="30" stroke="#333333" stroke-width="2.5"/>
                    <line x1="124" y1="30" x2="150" y2="30" stroke="#333333" stroke-width="2.5"/>
                    <rect x="25" y="15" width="100" height="30" rx="15" ry="15" fill="url(#comp_parallel_resistorBodyGradient)" stroke="black" stroke-width="2.5"/>
                    <rect x="30" y="15" width="10" height="30" fill="#8B4513" stroke="black" stroke-width="1"/>
                    <rect x="43" y="15" width="5" height="30" fill="#000000" stroke="black" stroke-width="1"/>
                    <rect x="49" y="15" width="5" height="30" fill="#FF0000" stroke="black" stroke-width="1"/>
                    <rect x="110" y="15" width="10" height="30" fill="#FFD700" stroke="black" stroke-width="1"/>
                </g>
                <text x="275" y="180" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" fill="black" font-weight="bold">${r2}Î©</text>

                <!-- Resistor 3 -->
                <g id="resistor_component_3" transform="translate(200, 300)">
                    <line x1="0" y1="30" x2="26" y2="30" stroke="#333333" stroke-width="2.5"/>
                    <line x1="124" y1="30" x2="150" y2="30" stroke="#333333" stroke-width="2.5"/>
                    <rect x="25" y="15" width="100" height="30" rx="15" ry="15" fill="url(#comp_parallel_resistorBodyGradient)" stroke="black" stroke-width="2.5"/>
                    <rect x="30" y="15" width="10" height="30" fill="#8B4513" stroke="black" stroke-width="1"/>
                    <rect x="43" y="15" width="5" height="30" fill="#000000" stroke="black" stroke-width="1"/>
                    <rect x="49" y="15" width="5" height="30" fill="#FF0000" stroke="black" stroke-width="1"/>
                    <rect x="110" y="15" width="10" height="30" fill="#FFD700" stroke="black" stroke-width="1"/>
                </g>
                <text x="275" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" fill="black" font-weight="bold">${r3}Î©</text>

                <!-- Multimeter -->
                <g id="multimeter_component" transform="translate(500, 150) scale(0.6) rotate(30 125 200)">
                    <rect x="50" y="10" width="120" height="260" rx="10" ry="10" fill="url(#comp_parallel_meter_bodyGradient)" filter="url(#comp_parallel_meter_dropShadow)"/>
                    <rect x="52" y="12" width="116" height="256" rx="8" ry="8" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="1"/>
                    <rect x="65" y="30" width="90" height="50" fill="#8AB830" rx="3" ry="3"/>
                    <rect x="66" y="31" width="88" height="48" fill="none" stroke="rgba(0,0,0,0.2)" stroke-width="1" rx="2" ry="2"/>
                    <text x="110" y="63" font-family="Consolas, 'Courier New', monospace" font-size="28" fill="#202020" text-anchor="middle" font-weight="bold">27.0mA</text>
                    <rect x="65" y="30" width="90" height="50" fill="url(#comp_parallel_meter_glassReflection)" rx="3" ry="3"/>
                    <g filter="url(#comp_parallel_meter_dropShadow)">
                      <rect x="65" y="90" width="20" height="12" rx="2" ry="2" fill="url(#comp_parallel_meter_buttonGradient)"/> <rect x="88" y="90" width="20" height="12" rx="2" ry="2" fill="url(#comp_parallel_meter_buttonGradient)"/>
                      <rect x="111" y="90" width="20" height="12" rx="2" ry="2" fill="url(#comp_parallel_meter_buttonGradient)"/> <rect x="134" y="90" width="20" height="12" rx="2" ry="2" fill="url(#comp_parallel_meter_buttonGradient)"/>
                      <rect x="75" y="107" width="28" height="12" rx="2" ry="2" fill="url(#comp_parallel_meter_buttonGradient)"/> <rect x="117" y="107" width="28" height="12" rx="2" ry="2" fill="url(#comp_parallel_meter_buttonGradient)"/>
                    </g>
                    <circle cx="110" cy="170" r="40" fill="url(#comp_parallel_meter_rotaryGradient)" filter="url(#comp_parallel_meter_dropShadow)"/>
                    <g stroke="#888888" stroke-width="1.5" stroke-linecap="round">
                      <line x1="110" y1="133" x2="110" y2="128" transform="rotate(0 110 170)"/> <line x1="110" y1="133" x2="110" y2="128" transform="rotate(30 110 170)"/>
                      <line x1="110" y1="133" x2="110" y2="128" transform="rotate(60 110 170)"/> <line x1="110" y1="133" x2="110" y2="128" transform="rotate(90 110 170)"/>
                      <line x1="110" y1="133" x2="110" y2="128" transform="rotate(120 110 170)"/> <line x1="110" y1="133" x2="110" y2="128" transform="rotate(150 110 170)"/>
                      <line x1="110" y1="133" x2="110" y2="128" transform="rotate(180 110 170)"/> <line x1="110" y1="133" x2="110" y2="128" transform="rotate(210 110 170)"/>
                      <line x1="110" y1="133" x2="110" y2="128" transform="rotate(240 110 170)"/> <line x1="110" y1="133" x2="110" y2="128" transform="rotate(270 110 170)"/>
                      <line x1="110" y1="133" x2="110" y2="128" transform="rotate(300 110 170)"/> <line x1="110" y1="133" x2="110" y2="128" transform="rotate(330 110 170)"/>
                    </g>
                    <rect x="102" y="138" width="16" height="32" rx="3" ry="3" fill="url(#comp_parallel_meter_knobGradient)" transform="rotate(45 110 170)" stroke="#101010" stroke-width="0.5"/>
                    <rect x="108" y="140" width="4" height="8" fill="#606060" transform="rotate(45 110 170)" rx="1" ry="1"/>
                    <circle cx="110" cy="230" r="8" fill="url(#comp_parallel_meter_buttonGradient)" filter="url(#comp_parallel_meter_dropShadow)"/>
                    <circle cx="85" cy="255" r="8" fill="#1A1A1A"/>
                    <circle cx="85" cy="255" r="6" fill="#303030"/>
                    <circle cx="85" cy="255" r="3" fill="#101010"/>
                    <circle cx="135" cy="255" r="8" fill="red"/>
                    <circle cx="135" cy="255" r="6" fill="#FF5050"/>
                    <circle cx="135" cy="255" r="3" fill="#B00000"/>
                    <g id="meter_black-probe-assembly">
                      <path d="M 85 263 Q 60 300 75 370" stroke="#252525" stroke-width="4.5" fill="none" stroke-linecap="round"/>
                      <g transform="rotate(-15 75 370)">
                        <rect x="70" y="320" width="10" height="50" rx="3" ry="3" fill="url(#comp_parallel_meter_probeHandleBlack)"/>
                        <rect x="71" y="300" width="8" height="20" fill="url(#comp_parallel_meter_metalTipGradient)"/>
                        <polygon id="meter_black_probe_tip_polygon" points="71,300 79,300 75,290" fill="url(#comp_parallel_meter_metalTipGradient)"/>
                      </g>
                    </g>
                    <g id="meter_red-probe-assembly">
                      <path d="M 135 263 Q 160 300 145 370" stroke="#252525" stroke-width="4.5" fill="none" stroke-linecap="round"/>
                      <g transform="rotate(15 145 370)">
                        <rect x="140" y="320" width="10" height="50" rx="3" ry="3" fill="url(#comp_parallel_meter_probeHandleRed)"/>
                        <rect x="141" y="300" width="8" height="20" fill="url(#comp_parallel_meter_metalTipGradient)"/>
                        <polygon id="meter_red_probe_tip_polygon" points="141,300 149,300 145,290" fill="url(#comp_parallel_meter_metalTipGradient)"/>
                      </g>
                    </g>
                </g>

                <!-- Wires (Updated for parallel circuit with three resistors and adjusted positions) -->
                <g id="wires" stroke-width="3" fill="none">
                    <!-- 1. Battery Left Terminal to Left Common Busbar (top) -->
                    <!-- Battery Left Terminal (Global approx.): (95.5, 433) -->
                    <!-- Left Common Busbar top: (200, 70) -->
                    <path d="M 95.5 433 V 230 H 200" stroke="black"/>

                    <!-- 2. Left Common Busbar itself -->
                    <path d="M 200 129 V 330" stroke="black"/>

                    <!-- 3. Right Common Busbar itself -->
                    <path d="M 350 129 V 330" stroke="black"/>

                    <!-- 4. Resistors' leads are implicitly connected to busbars at X=200 and X=350 -->
                    <!-- (No explicit paths needed here as the resistor SVG includes the leads extending to these X coordinates) -->

                    <!-- 5. Right Common Busbar (bottom, at X=350, Y=330) to Multimeter Red Probe Tip -->
                    <!-- Multimeter Red Probe Tip (Global recalculated based on new multimeter position): (568.3, 330.3) -->
                    <path d="M 350 230 H 500 V 340" stroke="black"/>

                    <!-- 6. Multimeter Black Probe Tip (Global recalculated based on new multimeter position): (510.5, 296.9) to Battery Right Terminal (134.5, 433) -->
                    <path d="M 535.5 360 V 410 H 134.5 V 433" stroke="black"/>
                </g>
            `;
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«åˆæˆæŠµæŠ—ã‚’åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                updateCompositeCircuit();
            }, 100);
            
            // ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—æ©Ÿèƒ½ã‚’åˆæœŸåŒ–
            addComponentTooltips();
        });

        // ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—æ©Ÿèƒ½ã®è¿½åŠ 
        function addComponentTooltips() {
            // ãƒãƒƒãƒ†ãƒªãƒ¼ã®ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—
            const batteries = document.querySelectorAll('#battery_component');
            batteries.forEach(battery => {
                battery.addEventListener('mouseenter', function(e) {
                    showComponentTooltip(e, 'é›»æºï¼ˆ12Vï¼‰', 'é›»åœ§ã‚’ä¾›çµ¦ã™ã‚‹éƒ¨å“');
                });
                battery.addEventListener('mouseleave', hideComponentTooltip);
            });

            // é›»çƒã®ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—
            const lightbulbs = document.querySelectorAll('[id^="lightbulb_component"]');
            lightbulbs.forEach((bulb, index) => {
                bulb.addEventListener('mouseenter', function(e) {
                    const resistanceText = bulb.querySelector('text');
                    if (resistanceText) {
                        const resistance = resistanceText.textContent;
                        showComponentTooltip(e, `é›»çƒï¼ˆæŠµæŠ—ï¼‰`, `æŠµæŠ—å€¤: ${resistance}`);
                    }
                });
                bulb.addEventListener('mouseleave', hideComponentTooltip);
            });

            // ãƒãƒ«ãƒãƒ¡ãƒ¼ã‚¿ãƒ¼ã®ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—
            const multimeters = document.querySelectorAll('#multimeter_component');
            multimeters.forEach(meter => {
                meter.addEventListener('mouseenter', function(e) {
                    showComponentTooltip(e, 'ãƒãƒ«ãƒãƒ¡ãƒ¼ã‚¿ãƒ¼', 'é›»æµãƒ»é›»åœ§ãƒ»æŠµæŠ—ã‚’æ¸¬å®šã§ãã‚‹è¨ˆæ¸¬å™¨');
                });
                meter.addEventListener('mouseleave', hideComponentTooltip);
            });

            // æŠµæŠ—ã®ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—
            const resistors = document.querySelectorAll('[id^="resistor_"]');
            resistors.forEach((resistor, index) => {
                resistor.addEventListener('mouseenter', function(e) {
                    const valueText = resistor.closest('g').querySelector('text');
                    if (valueText) {
                        const value = valueText.textContent;
                        showComponentTooltip(e, `æŠµæŠ—å™¨`, `æŠµæŠ—å€¤: ${value}`);
                    }
                });
                resistor.addEventListener('mouseleave', hideComponentTooltip);
            });
        }

        // ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°
        function showComponentTooltip(event, title, description) {
            let tooltip = document.getElementById('component-tooltip');
            if (!tooltip) {
                tooltip = document.createElement('div');
                tooltip.id = 'component-tooltip';
                tooltip.className = 'component-tooltip';
                document.body.appendChild(tooltip);
            }

            tooltip.innerHTML = `<strong>${title}</strong><br>${description}`;
            
            const rect = event.currentTarget.getBoundingClientRect();
            tooltip.style.left = rect.left + rect.width / 2 + 'px';
            tooltip.style.top = rect.top - 10 + 'px';
            tooltip.style.transform = 'translateX(-50%) translateY(-100%)';
            
            setTimeout(() => tooltip.classList.add('show'), 10);
        }

        // ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã‚’éè¡¨ç¤ºã«ã™ã‚‹é–¢æ•°
        function hideComponentTooltip() {
            const tooltip = document.getElementById('component-tooltip');
            if (tooltip) {
                tooltip.classList.remove('show');
            }
        }
    </script>
  <script src="../../js/main.js" defer></script>
</body>
</html>

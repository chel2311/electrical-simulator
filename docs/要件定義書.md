# 電気設計シミュレーター 要件定義書

## 1. プロジェクト概要

### 1.1 目的
電気設計の学習および第二種電気工事士試験対策のための包括的なWebベースシミュレーターシステムを提供する。

### 1.2 スコープ
- 電気回路の基礎理論学習
- 実践的な電気設計スキルの習得
- 第二種電気工事士試験対策
- インタラクティブな学習体験の提供

### 1.3 対象ユーザー
- 電気工事士を目指す学習者
- 第二種電気工事士試験受験者
- 電気工事関連の教育機関
- 電気設計の基礎を学びたい技術者

## 2. 機能要件

### 2.1 ポータル機能（index.html）

#### 2.1.1 ナビゲーション
- **タブ切り替え機能**
  - 「設計知識」「基礎理論」のカテゴリー分類
  - スムーズなタブ切り替えアニメーション
  - アクティブタブの視覚的強調

#### 2.1.2 シミュレーター一覧表示
- **カード型UI**
  - 各シミュレーターの概要表示
  - 難易度レベルの表示（初級・中級・上級・応用）
  - 視覚的に分かりやすいアイコンまたは画像

#### 2.1.3 レスポンシブ対応
- デスクトップ、タブレット、モバイルでの最適表示
- タッチデバイスでの操作性確保

### 2.2 設計知識系シミュレーター

#### 2.2.1 電気回路シミュレーター（初級）
- **基本回路操作**
  - スイッチのオン/オフ操作
  - 電流の流れのアニメーション表示
  - LED点灯/消灯の視覚フィードバック

- **回路種別**
  - 単純スイッチ回路
  - 3路スイッチ回路
  - 4路スイッチ回路
  - コンセント回路

#### 2.2.2 住宅分電盤回路シミュレーター（上級）
- **分電盤操作**
  - 主幹ブレーカーの操作
  - 分岐ブレーカーの個別操作
  - 漏電ブレーカーの動作シミュレーション

- **回路設計機能**
  - 配線の追加/削除
  - 負荷の接続/切断
  - 電力使用量の計算とモニタリング

- **異常状態シミュレーション**
  - 過負荷状態の再現
  - 短絡状態の検知
  - 漏電の発生と検知

#### 2.2.3 住宅ブレーカー遮断シミュレーター（中級）
- **部屋別管理**
  - 各部屋の電力使用状況表示
  - 家電機器のドラッグ&ドロップ配置
  - リアルタイム電力計算

- **ブレーカー機能**
  - 契約アンペア設定
  - 過負荷による自動遮断
  - 漏電ブレーカーの動作
  - 感震ブレーカーの動作

#### 2.2.4 太陽光発電システムシミュレーター（中級）
- **システム設計**
  - 太陽光パネルの配置
  - パワーコンディショナーの選定
  - 系統連系の設定

- **発電シミュレーション**
  - 日照条件による発電量変化
  - 季節・時間帯別の発電量予測
  - 売電・買電の自動切り替え

- **経済性評価**
  - 初期投資額の計算
  - 投資回収期間の算出
  - 売電収入のシミュレーション

#### 2.2.5 電線の許容電流値シミュレーター（中級）
- **包括的電気工学シミュレーター**
  - 電力と力率の関係計算
  - 電圧降下の計算とシミュレーション
  - 電線の許容電流値の詳細計算
  - 配電方式の比較検討

- **電線許容電流計算機能**
  - 電線種類別の許容電流値データベース（VVF、IV、CV、CVT）
  - 温度補正係数の自動計算
  - 布設条件による補正（気中、管内、たばね、地中）
  - 安全率の考慮と使用率判定
  - 計算過程の詳細表示とエビデンス提供

- **実用性重視の設計**
  - 実際の電気工事で使用する計算例
  - ステップバイステップの計算解説
  - 電気設備技術基準との照合
  - 家庭・業務・工業用途の具体例

### 2.3 基礎理論系シミュレーター

#### 2.3.1 オームの法則・基礎理論（基礎）
- **インタラクティブ学習**
  - 電圧・電流・抵抗の関係性理解
  - スライダーによる値の調整
  - マルチメーターでの測定表示

- **回路種別学習**
  - 直列回路の特性
  - 並列回路の特性
  - 合成抵抗の計算

#### 2.3.2 交流回路シミュレーター（応用）
- **波形表示**
  - 正弦波のリアルタイム描画
  - 周波数・振幅の調整
  - 位相差の視覚化

- **RLC回路**
  - インピーダンス計算
  - 共振周波数の表示
  - ベクトル図での表現

#### 2.3.3 第二種電気工事士法令対策（試験対策）
- **学習モード**
  - 法令条文の体系的整理
  - 重要数値の暗記支援
  - 頻出ポイントの強調表示

- **テストモード**
  - 過去問題形式のクイズ
  - 正答率の記録
  - 弱点分析機能

### 2.4 その他のツール

#### 2.4.1 ケーブル種類シミュレーター
- **ケーブル構造表示**
  - 断面図のSVG表示
  - 各層の材質説明
  - サイズ別の比較

- **選定支援**
  - 用途別推奨ケーブル
  - 許容電流の自動計算
  - 環境条件の考慮

#### 2.4.2 24時間換気シミュレーター
- **換気方式学習**
  - 第1種〜第3種換気の動作原理
  - 給気・排気の流れアニメーション
  - メリット・デメリットの比較

- **換気計算**
  - 必要換気量の自動計算
  - 部屋の容積入力
  - 換気回数の設定

## 3. 非機能要件

### 3.1 パフォーマンス要件
- ページ読み込み時間：3秒以内
- アニメーション：60fps維持
- レスポンス時間：ユーザー操作から100ms以内

### 3.2 互換性要件
- **対応ブラウザ**
  - Chrome（最新版）
  - Firefox（最新版）
  - Safari（最新版）
  - Edge（最新版）

- **対応デバイス**
  - デスクトップPC（1200px以上）
  - タブレット（768px〜1199px）
  - スマートフォン（767px以下）

### 3.3 ユーザビリティ要件
- 直感的な操作性
- 視覚的フィードバックの提供
- エラー時の適切なメッセージ表示
- ヘルプ機能の実装

### 3.4 アクセシビリティ要件
- キーボード操作への対応
- 適切なコントラスト比の確保
- フォントサイズの調整可能性

## 4. 技術要件

### 4.1 フロントエンド技術
- **HTML5**
  - セマンティックマークアップ
  - アクセシビリティ対応

- **CSS3**
  - CSS変数による統一的なテーマ管理
  - Flexbox/Gridによるレイアウト
  - レスポンシブデザイン

- **JavaScript（ES6+）**
  - モジュール化された構造
  - イベント駆動型プログラミング
  - DOM操作の最適化

### 4.2 グラフィックス
- **SVG**
  - ベクターベースの回路図
  - スケーラブルなアイコン
  - アニメーション対応

- **Canvas API**
  - 波形描画（交流回路）
  - リアルタイムグラフ

### 4.3 外部ライブラリ
- **Chart.js**（太陽光発電シミュレーターのみ）
  - グラフ描画
  - データビジュアライゼーション

## 5. セキュリティ要件

### 5.1 クライアントサイド
- 入力値の検証
- XSS対策
- 適切なエラーハンドリング

### 5.2 データ保護
- ローカルストレージの適切な使用
- 個人情報を扱わない設計

## 6. 保守性要件

### 6.1 コード品質
- 一貫性のある命名規則
- 適切なコメント記述
- モジュール化された構造

### 6.2 拡張性
- 新規シミュレーター追加の容易性
- 既存機能の改修しやすさ
- テーマカスタマイズの柔軟性

## 7. 制約事項

### 7.1 技術的制約
- サーバーサイド処理なし（静的ファイルのみ）
- データベース未使用
- オフライン動作対応

### 7.2 リソース制約
- ファイルサイズの最適化
- 画像・SVGの圧縮
- コードの最小化

## 8. 今後の拡張予定

### 8.1 機能拡張
- ユーザー進捗管理機能
- 学習履歴の保存
- SNS共有機能
- 多言語対応

### 8.2 コンテンツ拡張
- 新規シミュレーターの追加
- より高度な回路設計機能
- 動画チュートリアル
- 実務向けツール

## 9. 受け入れ基準

### 9.1 機能テスト
- 全機能の正常動作確認
- エッジケースのテスト
- ブラウザ間の互換性確認

### 9.2 性能テスト
- 読み込み時間の測定
- アニメーション性能の確認
- メモリ使用量の監視

### 9.3 ユーザビリティテスト
- 実際のユーザーによる操作確認
- フィードバックの収集
- 改善点の洗い出し

---

作成日：2025年6月7日  
バージョン：1.0